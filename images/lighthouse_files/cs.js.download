((function () {var define = null;var global;var require;var _dereq_;!function(){var Jn=window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.console||window.console,k=(window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.decodeURI||window.decodeURI,window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.decodeURIComponent||window.decodeURIComponent),nn=(window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.encodeURI||window.encodeURI,window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.encodeURIComponent||window.encodeURIComponent),h=window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.XMLHttpRequest||window.XMLHttpRequest,Qn=window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.Date||window.Date,rn=window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.JSON||window.JSON,O=window.CTZ_BrowserNatives&&window.CTZ_BrowserNatives.globals.Promise||window.Promise;function r(){}window._CTI_PLUGIN_IMPL=window._CTI_PLUGIN_IMPL||{},window.CTI_METRIC=function(e,t){setTimeout(function(){if(window._DEBUG_CTI_SDK&&window._DEBUG_CTI_SDK.LIB&&window._DEBUG_CTI_SDK.LIB.logger.metric)return window._DEBUG_CTI_SDK.LIB.logger.metric[e].metric.call(window._DEBUG_CTI_SDK.LIB.logger.metric[e],t)},500)},void 0===window._cti_backfill_object_create&&(window._cti_backfill_object_create=function(e,t){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");r.prototype=e||{},void 0!==t&&Object.defineProperties(r.prototype,t);var n=new r;return(r.prototype=null)===e&&(n.__proto__=null),n}),void 0===window._cti_backfill_array_prototype_reduce&&(window._cti_backfill_array_prototype_reduce=function(e,t,n){if(null===e)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var r,o=Object(e),i=o.length>>>0,a=0;if(3==arguments.length)r=n;else{for(;a<i&&!(a in o);)a++;if(i<=a)throw new TypeError("Reduce of empty array with no initial value");r=o[a++]}for(;a<i;a++)a in o&&(r=t(r,o[a],a,o));return r}),void 0===window._cti_backfill_function_prototype_bind&&(window._cti_backfill_function_prototype_bind=function(e,t){if("function"!=typeof e)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function n(){}function r(){return i.apply(e instanceof n?e:t,o.concat(Array.prototype.slice.call(arguments)))}var o=Array.prototype.slice.call(arguments,2),i=e;return e.prototype&&(n.prototype=e.prototype),r.prototype=new n,r}),_ctrequire=function a(s,l,c){var u="function"==typeof _ctrequire&&_ctrequire;function d(r,e,t){if(!l[r]){if(!s[r]){var n="function"==typeof _ctrequire&&_ctrequire;if(!t&&n)return n(r,e,!0);if(u)return u(r,e,!0);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}var i=l[r]={exports:{}};s[r][0].call(i.exports,function(e,t){var n=s[r][1][e];return d(n||e,t)},i,i.exports,a,s,l,c)}return e&&e(l[r].exports),l[r].exports}for(var e=0;e<c.length;e++)d(c[e]);return d}({cs:[function(d,r,e){"use strict";!function(){var e=window.module,t=r;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(t.module={})).exports=e()}}(function(){return function o(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({"lib/cti.sdk/api/CONFIG.js":[function(e,t,n){"use strict";function r(){}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/DEV.js":[function(e,t,n){"use strict";function r(r){r.HEADUP=e("cti.sdk/lib/libs/2017-11-HUD_loader.helper").forSDK(r),r.LIB.HEADUP={counts:{},used:{},incrementCount:function(e,t){r.LIB.HEADUP.counts[e]||(r.LIB.HEADUP.counts[e]=0),r.LIB.HEADUP.counts[e]+=t||1},incrementUsage:function(e,t,n){r.LIB.HEADUP.used[e]||(r.LIB.HEADUP.used[e]={}),r.LIB.HEADUP.used[e][t]||(r.LIB.HEADUP.used[e][t]=0),r.LIB.HEADUP.used[e][t]+=n||1}}}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{"cti.sdk/lib/libs/2017-11-HUD_loader.helper":"lib/cti.sdk/lib/libs/2017-11-HUD_loader.helper.js"}],"lib/cti.sdk/api/EXPERIMENTS.js":[function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(v){var y=v.LIB,r=(y.console,v.LIB.LODASH),b={overrides:{}};function w(e){if(e){var t=e.split("&").map(function(e){var t=e.split("=");return{experiment:t[0]&&decodeURIComponent(t[0]),variation:t[1]&&parseInt(t[1])}});if(t.every(function(e){return Boolean(e.experiment)&&(1===e.variation||0===e.variation)}))return t}}y.makeCookieOption(b.overrides,"CTI_FORCE_EXPERIMENT","variations","object"),this.forConfig=function(g){v.LIB.ASSERT(!!g["#cti1"],!0,"The '#cti1' config properties must be set!");var m=v.LIB.logger.scope("api/EXPERIMENTS"),e=r.get(window,["_CTZG","bootloader","constrain","data","VariantModule"],null);if(e&&v.LIB.makeCookieOption(e,"CTZ_USE_RUNTIME_EXPERIMENTS","enabled","boolean"),e&&e.enableForIntegrationExperimentPlugin){var t=y.LODASH.get(e,"variants",[]).reduce(function(e,t){return e[t["@id"]]=y.LODASH.merge({},{"@type":t["@type"]},t),e},{});return{run:function(){return v.LIB.Promise.try(function(){return function(n){return Object.keys(n).reduce(function(e,t){return"IntegrationExperimentPluginVariant"==n[t]["@type"]&&n[t].data&&(e=r.merge(e,n[t].data)),e},{})}(t)}).then(function(e){return v.RuntimeContextExperimentEnabled=!0,e}).catch(function(e){return v.LIB.logger.error("[EXPERIMENTS] Failed to parse middleware: "+e),{}})}}}function n(r,l,c){return new v.LIB.Promise(function(t,e){try{var n=g["#cti1"].endpoints.www.protocol+g["#cti1"].endpoints.www.hostUri+"/integrations/api/common/check_experiments.php";m.debug("Make experiments request to '"+n+"' using payload:",r),v.LIB.endpoint.call({method:"JSONP",url:n,query:r}).then(function(a){try{if(m.debug("Got experiments response:",a),void 0===a.experiments||"[object Array]"!==Object.prototype.toString.call(a.experiments))return m.error(new Error("Caught TypeError: Variations should be of type array")),t("CONTROL");var s={};return a.experiments.forEach(function(t,e){if(!0===y.LODASH.get(g["#cti1"].options,"useCookies",null)){var n=!1,r=y.FORCE_STORE.get("_ctz_variation"),i=w(r);if(i)try{(n=v.LIB.LODASH.some(i,function(e){return e.experiment===t.experiment}))||(a.experiments=v.LIB.LODASH.concat(i,a.experiments))}catch(e){v.LIB.logger.error("[EXPERIMENTS] could not parse cached experiment")}if(!n){var o=function(e){return e.map(function(e){return encodeURIComponent(e.experiment)+"="+e.variation}).join("&")}(a.experiments);y.FORCE_STORE.set("_ctz_variation",o,{expires:y.LODASH.get(g["#cti1"].options,"expires",2592e3),domain:y.LODASH.get(g["#cti1"].options,"domain",null)})}}1===t.variation?s[l[e]]=Object.keys(c[l[e]]).filter(function(e){return"CONTROL"!==e})[0]:s[l[e]]="CONTROL"}),t(s)}catch(e){return m.error(e),window._cti_backfill_array_prototype_reduce(t(l,function(e,t){return e[t]="CONTROL",e},{}))}})}catch(e){return m.error(e),window._cti_backfill_array_prototype_reduce(t(l,function(e,t){return e[t]="CONTROL",e},{}))}})}return{run:function(l){m.debug("Run experiments:",l);function c(e){t.publisherID=[].concat(i(t.publisherID),[e.publisherID||null]),t.experiments=[].concat(i(t.experiments),[e.id||null]),t.weight=[].concat(i(t.weight),[e.weight||null]),t.cacheTime=[].concat(i(t.cacheTime),[e.cacheTime||2592e3]),t.forceCacheMiss=void 0,t.debug=!!v.LIB.config.debug&&v.LIB.config.debug,t.names=[].concat(i(t.names),[e.name])}var u={},d={},f={},e=y.FORCE_STORE.get("_ctz_variation"),p=w(e),h=y.parseQueryString(y.dom.window.location.search),t={publisherID:[],typeID:1,experiments:[],weight:[],cacheTime:[],forceCacheMiss:void 0,debug:!!v.LIB.config.debug&&v.LIB.config.debug,names:[]};return Object.keys(l).forEach(function(n){var r=0;if("string"==typeof l[n])try{l[n]=v.LIB.JSON.parse(l[n])}catch(e){throw new Error('Could not parse SDK.LIB.JSON configuration for experiments["'+n+'"]')}if(l[n].forEach(function(e){var t=Object.keys(e)[0];void 0!==e[t].weight?(d[n]=d[n]||{},d[n][t]=e[t],r+=d[n][t].weight):f[t]=e[t]}),!d[n].CONTROL)throw new Error("Experiment with id '"+n+"' does not declare a 'CONTROL' bucket!");if(2!==Object.keys(d[n]).length)throw new Error("Only one treatment group is supported at this time!");if(1!==r)throw new Error("Bucket weights for experiment with id '"+n+"' do not add up to 1!");if(u[n]={buckets:d[n]},b.overrides.variations&&b.overrides.variations[n]){if(!y.LODASH.get(d[n],b.overrides.variations[n])&&!y.LODASH.get(f[n],b.overrides.variations[n]))throw new Error("Forced bucket of '"+b.overrides.variations[n]+"' for experiment '"+n+"' is not a declared bucket!");m.debug("Using forced response:",b.overrides.variations[n]);var e=b.overrides.variations[n];u[n].result=d[n][e].results}else{var t=Object.keys(d[n]).filter(function(e){return"CONTROL"!==e})[0],i=[(100*d[n].CONTROL.weight).toString(),(100*d[n][t].weight).toString()],o=[n,i.join(":"),v.LIB.md5(v.LIB.JSON.stringify(d))].join("-"),a={publisherID:g["#cti1"].publisher.umbrellaID||g["#cti1"].publisher.id,typeID:1,weight:d[n][t].weight,id:o,name:n};if("100"===i[0]||function(e){return!1===h[e]||"false"===h[e]}("ct"+n))u[n].result=d[n].CONTROL.results;else if("100"===i[1]||function(e){return!0===h[e]||"true"===h[e]}("ct"+n))u[n].result=d[n][t].results;else if(!0===y.LODASH.get(g["#cti1"].options,"useCookies",null)&&p)try{var s=v.LIB.LODASH.find(p,function(e){return e.experiment===o});s?s.experiment===o&&1===s.variation?u[n].result=d[n][t].results:u[n].result=d[n].CONTROL.results:c(a)}catch(e){v.LIB.logger.error("[EXPERIMENTS] could not parse cached experiment")}else c(a)}}),t.experiments.length?n({publisherID:v.LIB.JSON.stringify(t.publisherID),typeID:v.LIB.JSON.stringify(t.typeID),experiments:v.LIB.JSON.stringify(t.experiments),weight:v.LIB.JSON.stringify(t.weight),cacheTime:v.LIB.JSON.stringify(t.cacheTime),forceCacheMiss:v.LIB.JSON.stringify(t.forceCacheMiss),debug:t.debug},t.names,d).then(function(t){return Object.keys(t).forEach(function(e){u[e].result=(d[e][t[e]]||f[e][t[e]]).results}),u}).catch(function(e){throw m.error("Error running experiment:",e),e}):v.LIB.Promise.resolve(u)}}}}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/FIREWALL.js":[function(e,t,n){"use strict";function r(a){var e=a.LIB,s=(e.console,{overrides:{}});e.makeCookieOption(s.overrides,"CTI_FORCE_FIREWALL_URL","forcedFirewallURL","string"),e.makeCookieOption(s.overrides,"CTI_FORCE_STAGED_FIREWALL","forcedStagedFirewall","boolean"),this.forConfig=function(i){var e={},o=null;return a.LIB.ASSERT(!!i["#cti1"],!0,"The '#cti1' config properties must be set!"),a.LIB.ASSERT(!!i["#cti1"].publisher.alias,!0,"The '#cti1.publisher.alias' config properties must be set!"),a.LIB.ASSERT(!!i["#cti1"].endpoints.www,!0,"The '#cti1.endpoints.www' config properties must be set!"),a.LIB.ASSERT(!!i["#cti1"].endpoints.www.protocol,!0,"The '#cti1.endpoints.www.protocol' config properties must be set!"),a.LIB.ASSERT(!!i["#cti1"].endpoints.www.hostUri,!0,"The '#cti1.endpoints.www.hostUri' config properties must be set!"),e.getLastQueryResult=function(){return o},e.query=function(e){var t=Array.prototype.slice.call(arguments).slice(1),n=t.length?t[0]:21600;(e=e||{}).debug=!0;var r="";return s.overrides.forcedFirewallURL&&"string"==typeof s.overrides.forcedFirewallURL?(r=s.overrides.forcedFirewallURL,a.LIB.logger.debug('[FIREWALL] forcedFirewallURL in use.  Be sure to always append the protocol "https" when serving firewalls from the dev server')):r=[i["#cti1"].endpoints.www.protocol,i["#cti1"].endpoints.www.hostUri,"/integrations/api/vendor/",i["#cti1"].publisher.alias,"/create_context.php"].join(""),!0===s.overrides.forcedStagedFirewall&&(r=r.replace(/\.php$/,".stage.php")),a.LIB.endpoint.call({method:"POST",url:r,json:e}).then(function(e){return a.LIB.logger.debug("[FIREWALL] Response SUCCESS:",a.LIB.JSON.stringify(e)),(o=e).context&&e.context.domain&&(a.LIB.COOKIE.get("ctzSrc")?a.LIB.COOKIE.get("ctzSrc")!==e.context.domain&&a.LIB.COOKIE.set("ctzSrc",e.context.domain,{expires:n}):a.LIB.COOKIE.set("ctzSrc",e.context.domain,{expires:n})),delete e.context,e}).catch(function(e){return e.message&&(e=e.message),a.LIB.logger.error("[FIREWALL] Request ERROR:",a.LIB.JSON.stringify(e)),e})},e}}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/RECORD.SESSION.V2.js":[function(e,t,n){"use strict";function r(r){r.LIB;var i="/api/publishers/v2/sessions?publisherAlias=";this.forConfig=function(n){var e={};return r.LIB.ASSERT(!!n["#cti1"],!0,"The '#cti1' config properties must be set!"),r.LIB.ASSERT(!!n["#cti1"].publisher.alias,!0,"The '#cti1.publisher.alias' config properties must be set!"),r.LIB.ASSERT(!!n["#cti1"].endpoints.www,!0,"The '#cti1.endpoints.www' config properties must be set!"),r.LIB.ASSERT(!!n["#cti1"].endpoints.www.protocol,!0,"The '#cti1.endpoints.www.protocol' config properties must be set!"),r.LIB.ASSERT(!!n["#cti1"].endpoints.www.hostUri,!0,"The '#cti1.endpoints.www.hostUri' config properties must be set!"),e.getLastQueryResult=function(){return null},e.query=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=[n["#cti1"].endpoints.www.protocol,n["#cti1"].endpoints.www.hostUri,i,n["#cti1"].publisher.alias].join("");return r.LIB.endpoint.call({method:"POST",url:t,json:e}).then(function(e){return e}).catch(function(e){return e.message&&(e=e.message),r.LIB.logger.error("[RECORD.SESSION.V2] Request ERROR:",r.LIB.JSON.stringify(e)),null})},e}}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/RECORD.SESSION.js":[function(e,t,n){"use strict";function r(c){var u=c.LIB,d=(u.console,u.LODASH);this.forConfig=function(i){var n=i["#cti1"].endpoints.www.protocol+i["#cti1"].endpoints.www.hostUri+"/publisher/sessions/record_session_hotel_city.php",o={},a=[],t=!1,s=void 0,e=i.comparison&&c.LIB.JSON.internalize(i.comparison),r=i.search&&c.LIB.JSON.internalize(i.search);c.LIB.ASSERT(!(e&&r),!0,"Either comparison or search can be provided; not both"),r&&r.once("changed",function(e){s=c.LIB.LODASH.set({},"config.referralURL",u.dom.window.location.href),l.setSearchParams(e.reformatted),l.setKeyValue("publisher",c.LIB.LODASH.get(i["#cti1"],"publisher.id"));var t,n=c.LIB.LODASH.get(i,"keyValues",{});(t=n,Object.keys(t).map(function(e){return[e,t[e]]})).forEach(function(e){var t=f(e,2),n=t[0],r=t[1];return l.setKeyValue(n,r)}),l.recordSession()}),e||c.LIB.event.channels.page.on("comparison",function(e){return s=e}),e&&e.once("changed",function(e){var t=function(e){var n=c.LIB.LODASH.get(e,"results.strategy.searchParams",null),t=!!n&&n.type,r=c.LIB.CONSTANTS.ADSERVER_VERTICAL[t],i={hotel:{ctID:"hotelID"},flights:{origin:"from",destination:"to",startDate:"departureDate",endDate:"isOneWay",adults:"numTravelers"},cars:{origin:"pickUpLoc",destination:"dropOffLoc",startDate:"pickUpDate",startTime:"pickUpTime",endDate:"dropOffDate",endTime:"dropOffTime"},cruise:{destinationID:"cruiseDestinationID",startDate:"departureYear"}}[r];return i?{vertical:r,search:Object.keys(n).reduce(function(e,t){return e[i[t]||t]=n[t],e},{})}:{search:n,vertical:r}}(s=e);l.setSearchParams(t.search),l.setKeyValue("publisher",c.LIB.LODASH.get(i["#cti1"],"publisher.id"));var n,r=c.LIB.LODASH.get(i,"keyValues",{});(n=r,Object.keys(n).map(function(e){return[e,n[e]]})).forEach(function(e){var t=f(e,2),n=t[0],r=t[1];return l.setKeyValue(n,r)}),l.recordSession()});var l={"#cti1":i["#cti1"],recordSession:function(){return window.CTI_METRIC&&window.CTI_METRIC("request",{event:"Record Session Request",url:n,data:o}),new u.Promise(function(t,e){s?t(s.config.referralURL):c.LIB.event.channels.page.once("comparison",function(e){return t(e.config.referralURL)})}).then(function(e){var t=(a.length?a.join(":::")+":::":"")+e;return c.LIB.endpoint.call({method:"JSONP",url:n,query:u.LODASH.merge({},o,{referralURL:t})})}).then(function(e){void 0!==e&&void 0!==e.body&&void 0!==e.body.status||!c.LIB.logger?"success"!==e.body.status&&c.LIB.logger?c.LIB.logger.error("Response status not equal to success in RecordSessionAPI: "+e.body.message):(window.CTI_METRIC&&window.CTI_METRIC("response",{event:"Record Session Response",url:"test",data:e}),c.LIB.logger&&(t=!0,c.LIB.logger.info("Session data successfully recorded"))):c.LIB.logger.error("Unknown failure in Record Session API endpoint"),a=[]}).catch(function(e){e&&c.LIB.logger&&c.LIB.logger.error("Record Session API endpoint failed with error: "+e),a=[]})},recordSessionOnce:function(){t||(this.recordSession(),t=!0)},setSearchParams:function(e){var t=d.get(window,"_CTZG.bootloader.constrain.data",{}),n=c.LIB.LODASH.cloneDeep(e)||{},r=c.LIB.status.currentWatcher||{};d.each(e,function(e,t){a.push(t+"||"+e)}),n.publisherID=i["#cti1"].publisher.umbrellaID||i["#cti1"].publisher.id,n.alias=i["#cti1"].publisher.alias||i["#cti1"].publisher.publisherAlias,n.siteName=i["#cti1"].publisher.siteName||null,n.pageType=r.name,n.sessionVertical=r.vertical,n.pageviewUUID=d.get(t,"PageViewTrackerModule.pageViewUuid",null),n.ctzpid=t.cpid||null,o=n},getSearchParams:function(){return o},clearKeys:function(){a=[]},getKeys:function(){return a},setKey:function(e){a.push(e),c.LIB.logger.debug("[Record Session Util]","inspect","setKey(key)","key",e)},setKeyValue:function(e,t){a.push(e+"||"+t),c.LIB.logger.debug("[Record Session Util]","inspect","setKeyValue(key, value)","key, value",[e,t])}};return l}}var f=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/SDK.API.PROXY.js":[function(e,t,n){"use strict";function r(r){var i=r.LIB,o=i.console;r.LIB.dom.window.addEventListener("message",function(e){var t=function(e){if("string"!=typeof e.data||!/^\{/.test(e.data))return e.data;var t=null;try{t=i.JSON.parse(e.data)}catch(e){return}return t}(e);if(t&&"CTI.SDK"===t.to){var n=r.LIB.LODASH.get(r,t.call.apiPath);r.LIB.Promise.try(function(){if(!n||!n[t.call.method])throw o.error("API",n,"fetched using data.call.apiPath",t.call.apiPath,"does not have method",t.call.method),new Error("API not available!");return n[t.call.method].apply(n,t.call.args)}).catch(function(e){if("Plugin for id '2017-03-ProjectAthens.cti1' not found!"===e.message)return null;throw e}).then(function(e){return r.LIB.dom.window.postMessage(i.JSON.stringify({to:t.from,id:t.id,response:e}),"*"),null}).catch(r.LIB.logger.error)}})}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/SIDE.BY.SIDE.js":[function(e,t,n){"use strict";function r(l){function s(i){var e=l.OC,o={CONTROL:"gaVariationID=0&gaExperimentID=side-by-side-experiment-id&qaForceMVC",TREATMENT:"gaVariationID=1&gaExperimentID=side-by-side-experiment-id&qaForceMVC"};if(e.LIB.watcher.getActive()){var a,t=e.LIB.watcher.getActive(),n=t.name,r=t.type,s=e.LIB.CT.getActiveStripForType(r,{stripIdSuffix:n});if(s)if(e.LIB.CT.isCtCore)s.config.exitUnitExtraParameters=c.LODASH.merge({},s.config.exitUnitExtraParameters,{CONTROL:{gaVariationID:0,gaExperimentID:"side-by-side-experiment-id",qaForceMVC:!0},TREATMENT:{gaVariationID:1,gaExperimentID:"side-by-side-experiment-id",qaForceMVC:!0}}[i]);else s.getTabURL=(a=s.getTabURL,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=a.apply(s,t);return r&&!/.*&gaVariationID/.test(r)?(c.logger.debug("[SIDE-BY-SIDE] updating tabURL with: "+o[i]),r+"&"+o[i]):r});else e.LIB.logger.error("Unable to register drawn handler in side by side: no ctObjs available")}}var c=l.LIB;this.forConfig=function(i){i.experimentResult;var o=i.blockingExperiments,a=void 0;return l.LIB.event.channels.lifecycle.on("drawn",function(e,t){var n=t.filter(function(e){return"1"===e.checked}).length,r=!!o&&o.some(function(e){return!0===e});return!0===i.experimentResult&&2<=n&&!r&&!a?(c.logger.debug("[SIDE-BY-SIDE] start updateTabURL for experiment result: TREATMENT"),s("TREATMENT")):r||(c.logger.debug("[SIDE-BY-SIDE] start updateTabURL for experiment result: CONTROL"),s("CONTROL")),!1}),{disable:function(){return a=!0}}}}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/STATE.js":[function(e,t,n){"use strict";function r(e){var t=this;t.done={},e.LIB.createDeferredOnObject(t.done,"declaration"),e.LIB.createDeferredOnObject(t.done,"initialization"),e.LIB.createDeferredOnObject(t.done,"configuration"),e.LIB.createDeferredOnObject(t.done,"orchestration"),e.LIB.createDeferredOnObject(t.done,"ready")}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/TARGETING.js":[function(t,e,n){"use strict";function r(c){var u=c.LIB,e=(u.console,t("cti.sdk/lib/functions/makeCookieOption").forLib(c.LIB)),d=c.LIB.logger.scope("api/TARGETING"),f=c.LIB.status.activeWatcher||"";c.LIB.event.channels.page.on("page-type",function(e){f=(e||{}).name||f});var p={},n={};c.LIB.status=c.LIB.status||{},c.LIB.status.pubTargeting=c.LIB.status.pubTargeting||[],e(p,"CTI_FORCE_TARGETING_RESPONSE","forcedResponse","object"),e(p,"CTI_FORCE_TARGETING_PRODUCT","forceTest","object"),e(p,"CTI_FORCE_PUB_TARGETING_URL","forcePubTargetingURL","string"),this.forConfig=function(l){return c.LIB.ASSERT(!!l["#cti1"],!0,"The '#cti1' config properties must be set!"),{queryPubTargeting:function(a,e){var s=c.LIB.LODASH.cloneDeep(e),t=JSON.stringify(s);return n[t]?c.LIB.Promise.resolve(n[t]):function(){if(p.forcedResponse)return d.debug("Using forced response:",p.forcedResponse),c.LIB.Promise.resolve(p.forcedResponse);var e,t,n,r=c.LIB.LODASH.get(c,'plugins.experiments["#cti1"].experiments',[]),i=c.LIB.LODASH.map(r,function(e){return{result:e.result}});s=c.LIB.LODASH.merge({userDate:(e=new Date,t=e.getDate()<10?"0"+e.getDate().toString():e.getDate(),(e.getMonth()+1<10?"0"+(e.getMonth()+1).toString():e.getMonth()+1)+"/"+t+"/"+e.getFullYear()),userLoggedIn:a,pageType:f,experiments:i},s||{}),p.forcePubTargetingURL&&"string"==typeof p.forcePubTargetingURL?(n=p.forcePubTargetingURL,c.LIB.logger.debug("[pub-targeting] forced pub targeting url in use: "+n)):n=l["#cti1"].endpoints.www.protocol+l["#cti1"].endpoints.www.hostUri+"/api/publishers/v1/targeting";var o={URL:l["#cti1"].compareTo&&l["#cti1"].compareTo.setReferralURL||c.LIB.dom.window.location.href,publisherID:s.publisherID||l["#cti1"].publisher.id,publisherAlias:l["#cti1"].publisher.alias,unstructuredData:s,showDebug:!!u.config.debug};return l["#cti1"].publisher.umbrellaID&&(o.integrationPubGroupID=l["#cti1"].publisher.umbrellaID),d.debug("Make request to '"+n+"' with payload:",o),c.LIB.endpoint.call({method:"POST",url:n,json:o,sync:!!s.sync}).catch(function(e){throw d.error("[pub-targeting] ERROR:",u.JSON.stringify(e)),e})}().then(function(e){return n[t]=e,d.debug("Received response:",e),e?("success"===e.status?d.debug("Success Response"):d.error("[TARGETING].queryPubTargeting response message:",e.message),e):(d.error("[TARGETING].queryPubTargeting no response"),{})}).catch(function(e){return d.error("Targeting Error:",e),e})},getPubTargetingProducts:function(e,t){return this.queryPubTargeting(e,t).then(function(e){return"success"!==e.status?(u.logger.error("Failed to find targeting"),u.Promise.resolve([])):u.LODASH.isArray(e.data)?c.LIB.Promise.resolve(e.data):(u.logger.error("[TARGETING] API is not returning an Array"),c.LIB.Promise.resolve([]))})},getPubTargetingProductStatus:function(e,t,n){var r=c.LIB.LODASH.merge({},c.LIB.LODASH.cloneDeep(t),{products:[n],latitude:"",longitude:"",publisherID:l["#cti1"].publisher.id}),i=c.LIB.COOKIE.get("CTI_FORCE_TARGETING_PRODUCT");if(i){var o=JSON.parse(i);if(o&&void 0!==o[n]&&null!==o[n])return u.logger.debug("CTI_FORCE_TARGETING_PRODUCT is set to "+o[n]+" for "+n),u.Promise.resolve(o[n])}return this.getPubTargetingProducts(e,r,n).then(function(e){var t=e.filter(function(e){return e.type===n})[0];return(c.LIB.status.pubTargeting[n]=t)?"no"===t.excluded?(u.logger.debug("pub-targeting determined to include "+t.type),c.LIB.Promise.resolve(!0)):(u.logger.debug("pub-targeting determined to exclude"+t.type),c.LIB.Promise.resolve(!1)):(u.logger.error("pub-targeting could not find product "+n),c.LIB.Promise.resolve(!1))})}}}}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{"cti.sdk/lib/functions/makeCookieOption":"lib/cti.sdk/lib/functions/makeCookieOption.js"}],"lib/cti.sdk/api/TOOLS.js":[function(e,t,n){"use strict";function r(l){var i=this;l.TOOLS=i;var c=l.LIB,n=c.console,r={overrides:{}};function o(t,s){return o._cache||(o._cache={}),l.LIB.logger.debug("TOOLS:provisionPlugin(id) args:",t),o._cache[t]||(s=s||{},o._cache[t]=c.Promise.try(function(){return new l.LIB.Promise(function(i,o){var a=t.replace(/\.+/g,"."),e=null;e=l.LIB.config.options.forcePluginStage&&l.LIB.config.options.forcePluginStage[a.replace(/\.cti1$/,"")]?"https://cs.clicktripz.com/r/plugins/"+a.replace(/\.cti1$/,"")+"/_stage/"+c.config.options.forcePluginStage[a.replace(/\.cti1$/,"")]+"/"+a+".plugin.js":l.LIB.Asset.useDevUrl()||r.overrides.forcePluginLoadFromIws?l.LIB.Asset.makeDevUrl("/widgets/admin/pages/Integrations/Plugins/"+a+".plugin.js"):[l.config["#cti1"].endpoints.static.protocol,l.config["#cti1"].endpoints.static.hostUri,"/r/lib/"+a+".plugin.js"].join(""),r.overrides.forcePluginSource&&(l.LIB.logger.debug("TOOLS:provisionPlugin(id) Loading plugin source files by replacing '.js' with '.src.js'"),e=e.replace(/(\.src)?\.js$/,".src.js")),l.LIB.logger.debug("TOOLS:provisionPlugin(id) implId:",a,"(SDK.LIB._index: "+l.LIB._index+")"),l.LIB.logger.debug("TOOLS:provisionPlugin(id) implUrl:",e,"(SDK.LIB._index: "+l.LIB._index+")"),l.LIB.logger.debug("TOOLS:provisionPlugin(id) overlayConfig:",s,"(SDK.LIB._index: "+l.LIB._index+")"),l.LIB.dom.window.PINF=l.LIB.PINF,l.LIB.PINF.sandbox(e,function(e){try{var n=e.require("/main.js");if(l._optimizedPluginMode){var t=c.LODASH.merge({},n.config||{});l.LIB.LODASH.merge(t,s),t._impl=n,l._ensurePlugin(a,t).then(function(e){return n._buildHash&&(e._buildHash=n._buildHash),i(e)},o)}else{var r=n.forSDK(l);l.resolvePluginConfig(a,r.config||{}).then(function(e){var t=l.initPlugin(a,r,l.LIB.LODASH.merge({},e,s));return t?t.then(function(e){return c.Promise.resolve(e).then(function(e){return n._buildHash&&(e._buildHash=n._buildHash),l.LIB.logger.debug("TOOLS:provisionPlugin(id) plugin loaded!"),i(e)})}):l.STOP?i(null):o(new Error("'plugin' is 'null' for 'implId': "+a+" (SDK.STOP: "+l.STOP+", SDK.LIB._index: "+l.LIB._index+")"))}).catch(function(e){return e.message+=" (while loading plugin "+a+")",e.stack+="\n(while loading plugin "+a+")",o(e)})}}catch(e){return o(e)}},o)})})),o._cache[t]}function e(){r.overrides.forcePlugins&&(l.LIB.logger.debug("Provisioning forced plugins:",r.overrides.forcePlugins,"(SDK.STOP: "+l.STOP+")"),l.LIB.Promise.map(r.overrides.forcePlugins.split(","),function(t){return i.ensurePlugin(t).then(function(e){if(e)return l.LIB.logger.debug("success","provisioned plugin with id:",t),null;if(l.STOP)return l.LIB.logger.debug("ignore","plugin null for id",t,"due to","plugin is null","(SDK.STOP: "+l.STOP+")"),null;throw new Error("Plugin with id '"+t+"' could not be auto-provisioned!")})}).catch(function(e){return l.console.error("Error provisioning forced plugins:",e),null}))}l.LIB.makeCookieOption(r.overrides,"CTI_FORCE_PLUGIN_SRC","forcePluginSource","boolean"),l.LIB.makeCookieOption(r.overrides,"CTI_FORCE_PLUGIN_LOAD_FROM_IWS","forcePluginLoadFromIws","boolean"),l.LIB.makeCookieOption(r.overrides,"CTI_FORCE_PLUGINS","forcePlugins","string",{reloadHandler:e}),i.ensurePlugin=function(r,e,t){return{},i.ensurePlugin._cache||(i.ensurePlugin._cache={}),i.ensurePlugin._cache[r]||(e=e||{},n.info("[cti.sdk][TOOLS] ensurePlugin with id:",r),i.ensurePlugin._cache[r]=l.LIB.Promise.try(function(){return l._optimizedPluginMode?o(r,e).catch(function(e){throw l.LIB.logger.error("Error provisioning plugin:",e),new Error("Plugin for id '"+r+"' not found!")}):l.waitForOC().then(function(){return l.plugins[r]?l.plugin(r):o(r,e).catch(function(e){throw l.LIB.logger.error("Error provisioning plugin:",e),new Error("Plugin for id '"+r+"' not found!")})})}).then(function(t){if(!t){if(l.STOP)return l.LIB.logger.debug("ignore","ensurePlugin()","due to","plugin is null","(SDK.STOP: "+l.STOP+")"),null;throw new Error("Error loading plugin for ID '"+r+"'!")}if(l._optimizedPluginMode)return t;if("function"!=typeof t.forAPI)return t;var n=t._buildHash||null;return l.waitForOC().then(function(e){return t.forAPI(e)}).then(function(e){return n&&(e._buildHash=n),e})})),i.ensurePlugin._cache[r]},i.getAll=function(){return{}},i.callAPI=function(e,t,n){return i.ensurePlugin(e).then(function(e){return e?e[t]?e[t].apply(e,n):null:(l.LIB.logger.debug("ignore","callAPI()","due to","plugin is null","(SDK.STOP: "+l.STOP+")"),null)})},e()}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/api/WINDOW.js":[function(e,t,n){"use strict";function r(r){var i=r.LIB;this.changed=function(){throw new Error("DEPRECATED: Use '.on.changed('url', handler({location}))")};var o={};function n(){return e!==r.LIB.dom.window.location.href&&(e=r.LIB.dom.window.location.href,!0)}this.on={},r.LIB.createEventEmitterOnObject(this.on,"changed",o);var e=r.LIB.dom.window.location.href,a=0;function t(){a+=1;var e=i.dom.window.location.search,t={};try{!0===i._bootOptions.useUnescape&&i.dom.window.unescape&&(e=i.dom.window.unescape(e)),t=i.parseQueryString(e)}catch(e){r.LIB.logger.error(e)}var n={pageIndex:a,hostname:i.dom.window.location.hostname,search:i.dom.window.location.search,protocol:i.dom.window.location.protocol,qs:t};setTimeout(function(){try{o.changed("url",n)}catch(e){r.LIB.logger.error(e)}},0)}if(void 0!==i.dom.window.history&&void 0!==i.dom.window.history.pushState&&void 0!==i.dom.window.history.replaceState){var s=function(){i.logger.debug("inspect","WINDOW.URL()","window.location.href",window.location.href),t()};i.logger.debug("hook","WINDOW.URL()","window.history","change listener");var l=i.dom.window.history.pushState;i.dom.window.history.pushState=function(e){var t;return i.logger.debug("on","WINDOW.URL()","history.pushState",e),t=l.apply(i.dom.window.history,arguments),n()&&s(),t};var c=i.dom.window.history.replaceState;i.dom.window.history.replaceState=function(e){var t;return i.logger.debug("on","WINDOW.URL()","history.replaceState",e),t=c.apply(i.dom.window.history,arguments),n()&&s(),t},i.dom.window.addEventListener("popstate",function(e){if(i.logger.debug("on","WINDOW.URL()","window.onpopstate",e),e.state&&!0===e.state._ctz_reloadPageOnPopstate)return i.logger.debug("trigger","window.location.reload()","due to","event.state._ctz_reloadPageOnPopstate === true"),void r.LIB.dom.window.location.reload();s()})}else i.logger.debug("skip hook","WINDOW.URL()","window.history","change listener","due to","no minimum 'window.history.*' methods available.");t()}n.forSDK=function(e){return n.forSDK._instance||(n.forSDK._instance=new r(e)),n.forSDK._instance}},{}],"lib/cti.sdk/icc-util.js":[function(e,t,n){"use strict";t.exports.forLib=function(r){return{formatForMerge:function(e){function t(e){return r.LODASH.omitBy(e,function(e,t){return"@"===t[0]})}var n;return r.LODASH.isArray(e)?(n=e.filter(function(e){return Boolean(e["@alias"])}).map(function(e){return[e["@alias"],t(e)]}),window._cti_backfill_array_prototype_reduce(n,function(e,t){return e[t[0]]=t[1],e},{})):r.LODASH.isObject(e)?r.LODASH.mapValues(e,t):{}}}}},{}],"lib/cti.sdk/lib/classes/Asset.js":[function(e,t,n){"use strict";n.forWindow=function(t){var n={useDevUrl:function(){return!!(/^localhost:808[89]$/.test(t.location.host)||/^localhost:808[89]$/.test("%%IWS_HOST%%")||/^192\.[0-9\.]+:808[89]$/.test(t.location.host)||/^192\.[0-9\.]+:808[89]$/.test("%%IWS_HOST%%"))},getDevBaseUrl:function(e){return"http:"===t.location.protocol&&/^cs\w+\.clicktripz.com$/.test(t.location.host)&&(e="http"),[e=(e=e||"https").toLowerCase(),"://","%%IWS_HOST%%"===["%%","IWS_HOST","%%"].join("")?"localhost":"%%IWS_HOST%%".split(":")[0],":","https"===e?8089:8088].join("")},makeDevUrl:function(e){if(/^https?:/.test(e)&&(e=e.replace(/^https?:\/\/([^\/]+)/,"")),!/^\//.test(e))throw new Error("'uri' must start with '/'");return n.getDevBaseUrl()+e}};return n}},{}],"lib/cti.sdk/lib/classes/BrowserHistory.js":[function(e,t,n){"use strict";n.forLib=function(l){var i=l.dom.window;function r(e){try{var t=l.JSON.parse(i.localStorage.getItem("ctz_bh")||"{}");t&&!t.pages&&(t=null)}catch(e){t=null}return t||(e?null:(o({pages:[]}),r(!0)))}function o(e){try{e?i.localStorage.setItem("ctz_bh",l.JSON.stringify(e)):i.localStorage.removeItem("ctz_bh")}catch(e){}}function t(e){var t=e.urls,n=void 0===t?[l.dom.window.location.href]:t,r=e.callback,i=void 0===r?function(){return null}:r,o=e.timer,a=void 0===o?2e3:o,s=e.doNothingIfPageIsTarget;void 0!==s&&s&&d()||(u(i),setTimeout(function(){c(n)},a))}function c(e){var t=i.location.href,n=e;if(n.length){i._DEBUG_CTI_SDK&&(i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack()"),i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [backfill] backUrls:",JSON.stringify(n,null,4)),i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [backfill] (before) document.location.href:",document.location.href)),i.history.replaceState({page:"target",url:n[n.length-1]},i.document.title,n[n.length-1]);for(var r=n.length-2;0<=r;r--)i.history.pushState({page:"target",url:n[r]},i.document.title,n[r]);i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [backfill] (after replace) document.location.href:",document.location.href),i.history.pushState({page:"target",url:t},i.document.title,t),i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [backfill] (after push) document.location.href:",document.location.href),history.back(),i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [backfill] (after back) document.location.href:",document.location.href),setTimeout(function(){history.forward(),i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [backfill] (after forward) document.location.href:",document.location.href)},250)}else i._DEBUG_CTI_SDK.LIB.logger.debug("SKIP BrowserHistory:restoreFromSaved_HistoryBufferDelayedMultiBack() DUE TO no backUrls")}function u(t){var n=0;i.addEventListener("popstate",function(e){i._DEBUG_CTI_SDK&&(i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [on.popstate] event.state:",JSON.stringify(e.state,null,4)),i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [on.popstate] document.location.href:",document.location.href)),d(e)&&2<(n+=1)&&(i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:HistoryBufferDelayedMultiBack: [on.popstate] call window.location.replace() for:",e.state.url),t(e))})}function d(e){return e?"target"===e.state.page:"target"===(i.history.state||{}).page}return{recordPage:function(){if(i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:recordPage()"),i.localStorage){var e=r();e&&(e.pages.length&&e.pages[e.pages.length-1].url==i.location.href||(10<e.pages.length&&(e.pages=e.pages.slice(-10)),e.pages.push({state:i.history.state||{_ctz_reloadPageOnPopstate:!0},title:i.document.title,url:i.location.href}),o(e)))}},getCache:function(){return r()},setCache:function(e){return o(e)},backfillAdapter:function(e){return c(e)},addPopstateListener:function(e){return u(e)},isCurrentPageTarget:function(){return d()},setupBackfillAdapterListener:function(e){return t(e)},restoreFromSaved:function(){if(i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:restoreFromSaved()"),i.localStorage){var e=r();e&&e.pages.length&&(e.pages.push({state:i.history.state||{},title:i.document.title,url:i.location.href}),e.pages.forEach(function(e){var t=e.state||{};t._ctz_reloadPageOnPopstate=!0,i.history.pushState(t,e.title,e.url)}))}},restoreFromSaved_OnLoadAndClick:function(){if(i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:restoreFromSaved_OnLoadAndClick()"),i.localStorage){var e=r(),t=l.LODASH.cloneDeep(e);if(e){if(e.pages.length){var n=function(e){e.pages.push({state:i.history.state||{_ctz_reloadPageOnPopstate:!0},title:i.document.title,url:i.location.href}),i._DEBUG_CTI_SDK&&(i._DEBUG_CTI_SDK.LIB.logger.debug("Entries to be added to history:",JSON.stringify(e.pages,null,4)),i._DEBUG_CTI_SDK.LIB.logger.debug("Adding entries to history now ...")),e.pages.forEach(function(e){e.state=e.state||{},"string"==typeof e.state&&(e.state={}),e.state._ctz_reloadPageOnPopstate=!0,i.history.pushState(e.state,e.title,e.url)}),i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("... done adding all entries to history.")};i._DEBUG_CTI_SDK&&(i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:restoreFromSaved_OnLoadAndClick() : Updating Browser History from cache : ",e.pages.length),i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:restoreFromSaved_OnLoadAndClick() : Cache : "+JSON.stringify(e.pages,null,4))),document.addEventListener("click",function(){o(t),n(r())},{capture:!1,once:!0,passive:!0}),n(e)}}else i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("SKIP BrowserHistory:restoreFromSaved_OnLoadAndClick() DUE TO no cache")}},restoreFromSaved_HistoryBufferDelayedMultiBack:function(){if(i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("BrowserHistory:restoreFromSaved_HistoryBufferDelayedMultiBack()"),i.localStorage){var e=r();if(e){if(e.pages.length)t({urls:e.pages.reverse().reduce(function(e,t,n,r){return e.push(t.url),e},[]),callback:function(e){i.location.replace(e.state.url)}})}else i._DEBUG_CTI_SDK&&i._DEBUG_CTI_SDK.LIB.logger.debug("SKIP BrowserHistory:restoreFromSaved_HistoryBufferDelayedMultiBack() DUE TO no cache")}},clearSaved:function(){o(null)}}},n.forWindow=function(e){return n.forLib({JSON:e.JSON,dom:{window:e}})}},{}],"lib/cti.sdk/lib/classes/DataProvider.js":[function(t,e,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.forLib=function(i){var o=t("cti.sdk/lib/functions/getObjectDiff").forLib(i);function e(e,t){this.data=e||null,this.setMaxListeners(50);this.options=i.LODASH.merge({},{debugLogChanges:!0},t)}return(e.prototype=window._cti_backfill_object_create(i.EventEmitter.prototype)).update=function(e,t){var n=i.LODASH.merge({},this.options,t),r=!0;return n.alwaysEmitChangedEvent||(e===this.data?r=!1:e&&"object"===(void 0===e?"undefined":a(e))&&this.data&&"object"===a(this.data)&&0===o(e,this.data).length&&(r=!1)),r?(n.debugLogChanges&&i.logger.debug("emit","[DataProvider]","changed","due to","new data",e),this.data=e,this.emit("changed",e),!0):(n.debugLogChanges&&i.logger.debug("skip","[DataProvider]","notify changed","due to","new data",e,"is the same as existing data",this.data),!1)},{DataProvider:e}}},{"cti.sdk/lib/functions/getObjectDiff":"lib/cti.sdk/lib/functions/getObjectDiff.js"}],"lib/cti.sdk/lib/classes/ElementChildListObserver.js":[function(e,t,n){"use strict";n.forLib=function(a){var s=a.console,l=a.dom.window.MutationObserver||a.dom.window.WebKitMutationObserver;function c(e,t){if(!(this instanceof c))return new c(e,t);var n=this,r=a.$(e);if(0===r.length)throw new Error("Pointer '"+e+"' not found!");a.logger.debug("run","ElementChildListObserver(pointer)",e);var i=a.LODASH.debounce(function(){n.emit("changed")},t||250),o=new l(function(e){i()});n.destroy=function(){o.disconnect()},o.observe(r.get(0),{childList:!0}),s.log("TODO: Make sure destroy fires here!"),a.event&&a.event.channels.lifecycle.on("destroy",function(){s.log("TODO: Remove now that destroy is verified!"),o.disconnect()})}return c.prototype=window._cti_backfill_object_create(a.EventEmitter.prototype),{ElementChildListObserver:c}}},{}],"lib/cti.sdk/lib/classes/SelectorListener.js":[function(e,t,n){"use strict";var r=0;n.forLib=function(f){f.console;return function e(s){if(!(this instanceof e))return new e(s);var l=f.logger.scope("classes/SelectorWatcher"),c=this;s=s||{};var u="_cti_listener_"+(r+=1)+"_",d={};function t(){l.debug("run","ensureAttached()"),Object.keys(d).forEach(function(e){if(d[e].element){if(f.$.contains(f.dom.document.documentElement,d[e].element.get(0)))return;d[e].element.off(f.dom.scopedEvent(d[e].type,e)),delete d[e].element}l.debug("attach","ensureAttached()","new",d[e].type,"listener for selector",d[e].selector);var t=f.$(d[e].selector,d[e].context||void 0);if(0<t.length){var n=function(t){var n=this;try{l.debug("event",d[e].type,"on listener for selector",d[e].selector);var r=void 0;return d[e].handlers.forEach(function(e){r=e.call(n,t)}),r}catch(e){l.error(e)}};if(d[e].stop=function(){t.off(f.dom.scopedEvent(d[e].type,e),n)},d[e].options.preBind){if(d[e].type.split("."))throw new Error("options.preBind not supported when using event namespacing!");t.preBind(f.dom.scopedEvent(d[e].type,e),n)}else t.on(f.dom.scopedEvent(d[e].type,e),n);d[e].element=t}else l.debug("warning","ensureAttached()","no elements found for selector",d[e].selector,"and context",d[e].context)})}var n=f.LODASH.debounce(t,250,{trailing:!0});function a(e){d[e]&&("function"==typeof d[e].stop&&(d[e].stop(),d[e].options&&"function"==typeof d[e].options.onUnregister&&d[e].options.onUnregister()),delete d[e])}c.getListeners=function(){return d},c.ensureAttached=function(){!1===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).debounce?t():n()},c.register=function(e,t,n,r,i){if(i=i||{},l.debug("run","register(type, selector)",e,t),n){var o=r&&r.selector||"",a=u+f.md5(e+":"+t+":"+o);if(d[a]){if(i.oneHandlerOnly)return;d[a].handlers.push(n)}else d[a]={type:e,selector:t,handlers:[n],context:r,options:i}}"function"==typeof s.onRegister&&s.onRegister(e,t),i.ensureAttachedInThisTurn?c.ensureAttached():setTimeout(function(){c.ensureAttached()},0)},c.isRegistered=function(e,t,n,r){r=r||{};var i=n&&n.selector||"",o=u+f.md5(e+":"+t+":"+i);if(!d[o])return!1;if(c.ensureAttached(r),d[o].element&&0<d[o].element.length){if(r.handlerName){var a=!1;return d[o].handlers.forEach(function(e){e.toString().split("\n")[0].replace(/^function ([^\()]+)\(.+$/m,"$1")===r.handlerName&&(a=!0)}),a}return!0}return!1},c.unregisterHandler=function(e,t,n,r){var i=r&&r.selector||"",o=u+f.md5(e+":"+t+":"+i);if(d[o])if(1===d[o].handlers.length)a(o);else{d[o].handlers=d[o].handlers.filter(function(e){return e!==n})}},c.unregisterAll=function(){Object.keys(d).forEach(function(e){a(e)}),d={}}}}},{}],"lib/cti.sdk/lib/classes/SelectorWatcher.js":[function(e,t,n){"use strict";var r=0;n.forLib=function(d){d.console;return function e(t){if(!(this instanceof e))return new e(t);var s=d.logger.scope("classes/SelectorWatcher"),l=this;t=t||{};var c="_cti_watcher_"+(r+=1)+"_",u={};function i(e){u[e]._stop&&u[e]._stop(!0),delete u[e]}l.checkState=function(){s.debug("run","checkState()"),Object.keys(u).forEach(function(i){var o=null,a=0;function e(){s.debug("poll",u[i].type,"watcher for selector",u[i].selector);var e=u[i]._stop=function(e){!e&&u[i].options.pollFullDuration||o&&(s.debug("stop","polling for interval",o,"with id",c),clearInterval(o),o=null,u[i]._stopped=!0,delete u[i]._stop)},t=d.$(u[i].selector,u[i].context||void 0);if((a+=1)>4*u[i].options.pollDuration&&(0!==t.length||u[i]._stopped||("function"==typeof u[i].options.missingHandler?u[i].options.missingHandler.call(u[i],u[i].options):s.error("pollState()","no elements found for selector",u[i].selector,"and context",u[i].context)),e(!0)),0<t.length){if("visible"===u[i].type){var n=d.isElementVisible(t);if(s.debug("inspect",u[i].type,"watcher for selector",u[i].selector,"and context",u[i].context,"visible",n),u[i].state.visible!==n){void 0!==u[i].state.visible&&e(),u[i].state.visible=n;try{s.debug("event",u[i].type,"on watcher for selector",u[i].selector,"and context",u[i].context),u[i].handlers.forEach(function(e){e(u[i].state.visible)})}catch(e){s.error(e)}}u[i].state.visible&&u[i].options.stopOnVisible&&e()}else if("html"===u[i].type){var r=t.html();if(u[i].state.html!==r){void 0!==u[i].state.html&&e(),u[i].state.html=r;try{s.debug("event",u[i].type,"on watcher for selector",u[i].selector,"and context",u[i].context),u[i].handlers.forEach(function(e){e(u[i].state.html)})}catch(e){s.error(e)}}}}else s.debug("warning","pollState()","no elements found for selector",u[i].selector,"and context",u[i].context)}u[i]._stop&&u[i]._stop(!0),o=setInterval(e,250),s.debug("start","polling for interval",o,"with id",c),e()})},l.register=function(e,t,n,r,i){if((i=i||{}).pollDuration=i.pollDuration||3,i.pollFullDuration=i.pollFullDuration||!1,i.missingHandler=i.missingHandler||!1,n){s.debug("run","register(type, selector)",e,t);var o=r&&r.selector||"",a=c+d.md5(e+":"+t+":"+o);u[a]?u[a].handlers.push(n):u[a]={type:e,selector:t,handlers:[n],context:r,options:i,state:{}}}"function"==typeof i.onRegister&&i.onRegister(e,t),setTimeout(function(){l.checkState()},0)},l.unregister=function(e,t,n){var r=n&&n.selector||"";i(c+d.md5(e+":"+t+":"+r))},l.unregisterAll=function(){Object.keys(u).forEach(function(e){i(e)})}}}},{}],"lib/cti.sdk/lib/classes/UserAgent.js":[function(r,e,t){"use strict";t.forLib=function(i){i.console;var o=r("ua-parser-js");function e(e){var t={},n=new o(e),r=n.getResult();return t.getAgentString=function(){return n.getUA()},t.getNormalizedAgent=function(){return[t.getDevice(),t.getOS(!0),t.getBrowser(!0)].join(":")},t.getBrowser=function(e){var t=(r.browser&&r.browser.name||"?")+"/"+(r.browser&&r.browser.version||"?");return e&&(t=t.replace(/(\d+)(\.\d+)?[\.\d]*/g,"$1$2")),t},t.getBrowserName=function(){return r.browser&&r.browser.name||"unknown"},t.getCPU=function(){return r.cpu&&r.cpu.architecture||"?"},t.getEngine=function(){return(r.browser&&r.browser.name||"?")+"/"+(r.browser&&r.browser.version||"?")},t.getDevice=function(){return(r.device&&r.device.type||"?")+"/"+(r.device&&r.device.vendor||"?")+"/"+(r.device&&r.device.model||"?")},t.isIOS13Tablet=function(){return!!/iPad|MacIntel/.test(i.dom.window.navigator.platform)&&1<i.dom.window.navigator.maxTouchPoints},t.getDeviceType=function(){return r.device&&r.device.type?r.device.type:t.isIOS13Tablet()?"tablet":"desktop"},t.isDesktopDevice=function(){return"desktop"===t.getDeviceType()},t.isTabletDevice=function(){return"tablet"===t.getDeviceType()},t.isMobileDevice=function(){return"mobile"===t.getDeviceType()},t.getOSName=function(){return r.os&&r.os.name||"?"},t.getOS=function(e){var t=(r.os&&r.os.name||"?")+"/"+(r.os&&r.os.version||"?");return e&&(t=t.replace(/(\d+)(\.\d+)?[\.\d]*/g,"$1$2")),t},t.getLanguage=function(){var e=i.dom.window.navigator.languages?i.dom.window.navigator.languages[0]:null;return-1!==(e=e||i.dom.window.navigator.language||i.dom.window.navigator.browserLanguage||i.dom.window.navigator.userLanguage).indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e||"??"},t}var t="";i.dom&&i.dom.window&&(t=i.dom.window.navigator.userAgent);var n=e(t);return n.forAgentString=e,n}},{"ua-parser-js":"node_modules/ua-parser-js/src/ua-parser.js"}],"lib/cti.sdk/lib/creatives/_tag_impl.js":[function(r,e,t){"use strict";t.extend=function(p){var h,g=null,e={},m=null;e.hookMasterTag=function(u,l){if(!l["#lib1"])throw new Error("#lib1 not available in creative!");var c=(g=l["#lib1"]).$;try{var d=u.state=l.state||{};d.mode=d.mode||"live",void 0===d&&(d.isValid=!1),d.visibleAtLeastOnce=!1,d.visiblePartialViewAtLeastOnce=!1;var o=r("lib/cti/lib/ddu/translations"),f=u.skin=l.skin||{};if(!f.vertical)throw new Error("'skin.vertical' must be set!");if("city"!==f.vertical&&"hotel"!==f.vertical&&"flights"!==f.vertical&&"vacations"!==f.vertical&&"cruise"!==f.vertical&&"cars"!==f.vertical&&"multi"!==f.vertical)throw new Error("skin.vertical '"+f.vertical+"' is not supported!");f.languageCode=f.languageCode||"en",f.hasOwnProperty("hideSeeAll")||(f.hideSeeAll=g.UA.isMobileDevice()||g.UA.legacy.isSafari());var e=o[f.languageCode.toLowerCase()]||o.en;f.copy?f.copy=g.LODASH.merge(e,f.copy):f.copy=e,p.skin&&p.skin(u,u.skin),function(){var e=window.document.getElementById(l.componentId+"_style");if(!e){(e=window.document.createElement("style")).id=l.componentId+"_style";for(var t=l.cssText,n=/["']%%([^%]+)%%['"]/g,r=null;r=n.exec(t);){if(!f)throw new Error("The 'skin' object must be set to replace variables in CSS!");void 0===f[r[1]]||""===f[r[1]]?new RegExp("/\\*[^:]+:\\s*"+r[0]+"\\s*\\*/","g").test(t)||(t=t.replace(new RegExp("(((/*)|[^\\/]).*"+r[0]+")+(?:S*?;)*","mg"),"/* $1 */")):t=t.replace(new RegExp(r[0],"g"),f[r[1]])}e.innerHTML=t+(f.customCSS?f.customCSS:""),window.document.getElementsByTagName("head")[0].appendChild(e)}}();var t=function(){return new g.Promise(function(t,n){try{if("en"!==f.languageCode&&!0===f.showSearchDetails&&o[f.languageCode.toLowerCase()]&&"MM/DD/YYYY"!==f.dateFormat&&"DD/MM/YYYY"!==f.dateFormat){var e=g.LODASH.get(g,'config["#cti1"].endpoints.www.protocol',null),r=g.LODASH.get(g,'config["#cti1"].endpoints.www.hostUri',null);e&&r||n("Endpoints config is null");var i=[e,r,"/r/lib/moment/locale/",f.languageCode.toLowerCase(),".js"].join("");g.dom.window.PINF.sandbox(i,function(e){try{e.require("/locale/"+f.languageCode.toLowerCase()+".js")(g.MOMENT),t()}catch(e){n(e)}},function(e){n(e)})}else t()}catch(e){n(e)}})};u.on("data",function(c){u.data=c,u.data.formatted=u.data.formatted||{},m=u.data.impressionID,u.data&&u.data.search&&u.skin&&t().catch(function(e){f.dateFormat="DD/MM/YYYY",g.logger.error("Unable to load in script for langCode "+f.languageCode,g.JSON.stringify(e))}).then(function(){if(c["#allcampaigns1"]&&1<c["#allcampaigns1"].length){var n=0,r={},i=[],o={},a={},s=[];c["#allcampaigns1"].forEach(function(e,t){r[c["#allcampaigns1"][t].data.vertical]=c["#allcampaigns1"][t]}),g.LODASH.forEach(r,function(e,t){s.push(t),n++,a[t]=r[t].data,g.LODASH.forEach(r[t].data,function(e,t){o[e.name]||(o[e.name]=!0)})}),l=0,Object.keys(a).length<2||function e(){for(var t=0;0<=l;){for(;t<a[s[l]].length;){if(o[a[s[l]][t].name]){if(o[a[s[l]][t].name]=!1,a[s[l]][t].verticalType=s[l],i.push(a[s[l]][t]),++l<s.length&&e(),i.length===n)break;o[a[s[l]][t].name]||(o[a[s[l]][t].name]=!0,i.pop())}t++}if(!(0===l&&i.length<n)){l--;break}n--,e()}}(),setTimeout(function(){i.forEach(function(e){(new Image).src=e.smallAltThumb})},100),i.vertical="multi",1<i.length&&(u.data.campaigns=i,d.isValid=!0,p.data&&p.data(u,u.data),u.update())}else{if(c["#allcampaigns1"]?(u.data.campaigns=u.data.campaigns[0],u.data.search=u.data.search[0]):(u.data.campaigns=u.data.campaigns,u.data.search=u.data.search),("city"===u.skin.vertical||"hotel"===u.skin.vertical)&&c.search.checkInDate&&c.search.checkOutDate&&g.DATE_FNS.isValid(g.DATE_FNS.parse(c.search.checkInDate,"MM/DD/YYYY",new Date))&&g.DATE_FNS.isValid(g.DATE_FNS.parse(c.search.checkOutDate,"MM/DD/YYYY",new Date)))u.data.formatted.checkInDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.checkInDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do"),u.data.formatted.checkOutDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.checkOutDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do");else if(("flights"===u.skin.vertical||"vacations"===f.vertical)&&c.search.departureDate&&c.search.returnDate&&g.DATE_FNS.isValid(g.DATE_FNS.parse(c.search.departureDate,"MM/DD/YYYY",new Date))&&g.DATE_FNS.isValid(g.DATE_FNS.parse(c.search.returnDate,"MM/DD/YYYY",new Date)))u.data.formatted.departureDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.departureDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do"),u.data.formatted.returnDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.returnDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do");else if("flights"===u.skin.vertical&&c.search.departureDate&&g.DATE_FNS.isValid(g.DATE_FNS.parse(c.search.departureDate,"MM/DD/YYYY",new Date)))u.data.formatted.departureDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.departureDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do");else if("cars"===u.skin.vertical)u.data.formatted.dropOffDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.dropOffDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do"),u.data.formatted.pickUpDate=g.DATE_FNS.format(g.DATE_FNS.parse(c.search.pickUpDate,"MM/DD/YYYY",new Date),u.skin.dateFormat||"MMM Do");else if("cruise"===u.skin.vertical){var e={1:u.skin.copy["12Days"],2:u.skin.copy["35Days"],3:u.skin.copy["69Days"],4:u.skin.copy["10Days"],5:u.skin.copy.anyLengthDays};u.data.formatted.location=c.search.destinationName||{1:"Africa",2:"Alaska",3:"Asia",4:"Bahamas",5:"Bermuda",6:"Canada - New England",7:"Caribbean",8:"Caribbean - Eastern",9:"Caribbean - Southern",10:"Caribbean - Western",11:"Europe",12:"Hawaii",13:"Mediterranean",14:"Mediterranean - Eastern",15:"Mediterranean - Western",16:"Mexico",17:"No Port Stops",18:"Panama Canal",19:"South America",20:"South Pacific",21:"Transatlantic",22:"United States & Canada",23:"US Pacific Coast",24:"World",25:"Australia/New Zealand",26:"All Locations"}[c.search.destinationID],u.data.formatted.daysLength=e[c.search.lengthID],u.data.formatted.departureDate=g.DATE_FNS.format(g.DATE_FNS.parse(""+c.search.departureMonth,"MM",new Date),u.skin.dateFormat||"MMM")}u.data.search.city&&(u.data.formatted.city=u.data.search.city.split(",")[0]),c.campaigns&&c.campaigns.length&&(u.skin.advertiser=c.campaigns[0].name,u.skin.advertiserLogo=c.campaigns[0].mediumThumb,1===c.campaigns.length&&(u.skin.hideSeeAll=!0),d.isValid=!0,p.data&&p.data(u,u.data),u.update())}var l})}),u.handlers={firstAdvertiserReplaceMacro:function(e){if(u&&u.skin&&(u.skin.advertiserDisplayName||u.skin.advertiser)){var t=u.skin.advertiserDisplayName||u.skin.advertiser;return e.split("{advertiser}").join("<span class='ctz_advertiser'>"+t+"</span>")}return e},verticalReplaceMacro:function(e){var t=g.LODASH.get(u,"data.search",null),n=t.to||t.airportTo||t.destination,r=g.LODASH.get(u,"data.formatted.city",null),i=g.LODASH.get(u,"data.search.pickUpLoc",null);return r?e.split("{vertical}").join("<span class='ctz_vertical'>"+u.skin.copy.hotel+"</span>"):n?e.split("{vertical}").join("<span class='ctz_vertical'>"+u.skin.copy.flight+"</span>"):i?e.split("{vertical}").join("<span class='ctz_vertical'>"+u.skin.copy.carRental+"</span>"):e},locationReplaceMacro:function(e,t){var n=g.LODASH.get(u,"data.search",null),r=n.to||n.airportTo||n.destination,i=t?g.LODASH.get(u,"data.formatted.city",null):g.LODASH.get(u,"data.search.city",null),o=g.LODASH.get(u,"data.search.pickUpLoc",null);return i?e.split("{location}").join("<span class='ctz_location'>"+i+"</span>"):r?e.split("{location}").join("<span class='ctz_location'>"+r+"</span>"):o?e.split("{location}").join("<span class='ctz_location'>"+o+"</span>"):e},seeAny:function(e){if(!c(e.target).closest(".ctz-adv-item, .ctz-toaster-adv-item, .ctz-ads__close, .ctz-ads__return, .fa-arrow-left").length){u.skin.closeDDUOnClick&&!0===u.skin.closeDDUOnClick&&u.unmount(),e.stopPropagation();var t=a(u);return g.logger.debug("DDUclick Y : "+(e.pageY-t.top).toString()),g.logger.debug("DDUclick X : "+(e.pageX-t.left).toString()),h=h||new Date,l["#CTZ_CreativePlacement"].on.click({type:"seeAny",click:{iid:m,timeElapsed:new Date-h,campaignClickedOn:-1,ud:{c:{y:e.pageY-t.top,x:e.pageX-t.left,w:t.width,h:t.height}}}}),!1}},seeFirst:function(e){e.stopPropagation();var t=a(u);return g.logger.debug("DDUclick Y : "+(e.pageY-t.top).toString()),g.logger.debug("DDUclick X : "+(e.pageX-t.left).toString()),h=h||new Date,l["#CTZ_CreativePlacement"].on.click({type:"seeOne",click:{iid:m,timeElapsed:new Date-h,campaignClickedOn:u.data.campaigns[0].campaignID,ud:{c:{y:e.pageY-t.top,x:e.pageX-t.left,w:t.width,h:t.height}}}}),u.skin.closeDDUOnClick&&!0===u.skin.closeDDUOnClick&&u.unmount(),!1},seeAll:function(e){e.stopPropagation();var t=a(u);return g.logger.debug("DDUclick Y : "+(e.pageY-t.top).toString()),g.logger.debug("DDUclick X : "+(e.pageX-t.left).toString()),h=h||new Date,l["#CTZ_CreativePlacement"].on.click({type:"seeAll",click:{iid:m,timeElapsed:new Date-h,campaignClickedOn:0,ud:{c:{y:e.pageY-t.top,x:e.pageX-t.left,w:t.width,h:t.height}}}}),u.skin.closeDDUOnClick&&!0===u.skin.closeDDUOnClick&&u.unmount(),!1},close:function(e){e.stopPropagation();var t=a(u);return g.logger.debug("DDUclick Y : "+(e.pageY-t.top).toString()),g.logger.debug("DDUclick X : "+(e.pageX-t.left).toString()),l["#CTZ_CreativePlacement"].on.click({type:"close",close:{iid:m,reason:"click",ud:{c:{y:e.pageY-t.top,x:e.pageX-t.left,w:t.width,h:t.height}}},event:e}),u.unmount(),!1}},p.eventHandlers&&p.eventHandlers(u,u.handlers),u.on("visible",function(){try{var e=function(){try{if("horizontal"===u.skin.orientation){c(document).width()>r&&n.children().each(function(){c(this).show()}),r=c(document).width();for(var e=n.first().offset().top,t=n.find(".ctz-adv-item:visible").last().offset();t&&t.top>e;)n.find(".ctz-adv-item:visible").last().hide(),t=n.find(".ctz-adv-item:visible").last().offset()}1!==c(".ctz-lb-adv-item").length&&3!==c(".ctz-lb-adv-item").length||c(".ctz-lb-adv-item").css("width","100%")}catch(e){console.error(e)}},n=c(u.root).find(".ctz-ads__items"),r=c(document).width();e(),c(window).on("resize",e);var t={};c(u.root.querySelector(".ctz-ads__md-modal")).length?t=u.root.querySelector(".ctz-ads__md-modal").getBoundingClientRect():c(u.root.querySelector(".ctz-ads__ddu-tag")).length?t=u.root.querySelector(".ctz-ads__ddu-tag").getBoundingClientRect():c(u.root.querySelector(".ctz-ads__toaster-ddu-tag")).length&&(t=u.root.querySelector(".ctz-ads__toaster-ddu-tag").getBoundingClientRect());var i={},o=c(u.root).find("[data-campaign]:visible");if(o.length){for(var a=0;a<u.data.campaigns.length;a++)i[a]=0;o.each(function(e,t){i[e]=t.dataset.campaign})}else{g.logger.info("[cti.sdk][creative] deprecation: campaignID must be in a data attribute [data-campaign] for the advertiser tag.");for(a=0;a<u.data.campaigns.length;a++){var s=c(u.root).find(".ctz-lb-adv-item").length?".ctz-lb-adv-item":c(u.root).find(".ctz-adv-item").length?".ctz-adv-item":"ctz-adv-banner-item";i[a]=c(u.root).find(s).eq(a).is(":visible")?u.data.campaigns[a].campaignID:0}}h=h||new Date,l["#CTZ_CreativePlacement"].on.notify({type:"impression",impression:{iid:m,dimension:t.width+"x"+t.height,a:i},search:u.data.search}),p.on&&p.on.visible&&p.on.visible.call({opts:l},{impressionTime:h,impressionID:m})}catch(e){console.error(e)}});var n=g.LODASH.debounce(function(){var r=c(u.root.querySelector(".ctz-ads__md-modal")).length;g.isElementVisible(u.root,{ignoreScroll:r})&&d.isValid&&!1===d.visibleAtLeastOnce&&(d.visibleAtLeastOnce=!0,u.trigger("visible")),!d.isValid||!1!==d.visiblePartialViewAtLeastOnce||0!=r||!0!==l.skin.viewableImpressions||g.isElementVisible(u.root,{viewable:!r})&&setTimeout(function(){if(g.isElementVisible(u.root,{viewable:!r})&&!1===d.visiblePartialViewAtLeastOnce){d.visiblePartialViewAtLeastOnce=!0;var e={};c(u.root.querySelector(".ctz-ads__md-modal")).length?e=u.root.querySelector(".ctz-ads__md-modal").getBoundingClientRect():c(u.root.querySelector(".ctz-ads__ddu-tag")).length?e=u.root.querySelector(".ctz-ads__ddu-tag").getBoundingClientRect():c(u.root.querySelector(".ctz-ads__toaster-ddu-tag")).length&&(e=u.root.querySelector(".ctz-ads__toaster-ddu-tag").getBoundingClientRect());for(var t={},n=0;n<u.data.campaigns.length;n++)t[n]=c(u.root).find(".ctz-lb-adv-item").eq(n).is(":visible")?u.data.campaigns[n].campaignID:0;h=h||new Date,l["#CTZ_CreativePlacement"].on.notify({type:"impression",impression:{iid:m,dimension:e.width+"x"+e.height,a:t,ud:{viewableImpressions:!0}},search:u.data.search})}},1e3)},500,{trailing:!0});u.on("updated",n),window.document.addEventListener("scroll",n,{capture:!1,passive:!0})}catch(e){g.logger.error("[cti.sdk][creative] ERROR:",e.stack)}},e.hookItemTag=function(r,e){if(!g)throw new Error("#lib1 not available in creative!");var i=g.$;try{r.handlers={seeOne:function(e){e.stopPropagation(),r.skin.closeDDUOnClick&&!0===r.skin.closeDDUOnClick&&r.parent.unmount();var t,n=a(r.parent);return g.logger.debug("DDUclick Y : "+(e.pageY-n.top).toString()),g.logger.debug("DDUclick X : "+(e.pageX-n.left).toString()),h=h||new Date,r.parent.opts["#CTZ_CreativePlacement"].on.click({type:"seeOne",click:{iid:m,timeElapsed:new Date-h,campaignClickedOn:r.campaignID,ud:{c:{y:e.pageY-n.top,x:e.pageX-n.left,w:n.width,h:n.height},lightboxTrigger:g.LODASH.get(r,"data.showTrigger.reason",null)}}}),(t=i(e.target).closest(".ctz-adv-item, .ctz-lb-adv-item, .ctz-toaster-adv-item"))&&setTimeout(function(){var e=t.find(".ctz-ads__checkbox");1===e.length&&e.prop("checked",!0)},1e3),!1}},p.eventHandlers&&p.eventHandlers(r,r.handlers)}catch(e){g.logger.error("[cti.sdk][creative] ERROR:",e.stack)}};var a=function(e){var t={top:0,left:0,height:0,width:0};return g.$(e.root.querySelector(".ctz-ads__md-modal")).length?((t=g.$(".ctz-ads__md-modal",e.root).offset()).height=g.$(".ctz-ads__md-modal",e.root).height(),t.width=g.$(".ctz-ads__md-modal",e.root).width()):g.$(e.root.querySelector(".ctz-ads__ddu-tag")).length?((t=g.$(".ctz-ads__ddu-tag",e.root).offset()).height=g.$(".ctz-ads__ddu-tag",e.root).height(),t.width=g.$(".ctz-ads__ddu-tag",e.root).width()):g.$(e.root.querySelector(".ctz-ads__toaster-ddu-tag")).length&&((t=g.$(".ctz-ads__toaster-ddu-tag",e.root).offset()).height=g.$(".ctz-ads__toaster-ddu-tag",e.root).height(),t.width=g.$(".ctz-ads__toaster-ddu-tag",e.root).width()),t};return e}},{"lib/cti/lib/ddu/translations":"lib/cti/lib/ddu/translations.js"}],"lib/cti.sdk/lib/functions/consent.js":[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.forSDK=function(r){return{ensureUserConsent:function(e){var t=r.LIB.LODASH.get(e,"config.#cti1.options.consent",null)||r.LIB.LODASH.get(window,"_CTZ.consent",null)||r.LIB.LODASH.get(window,"_CTZS.consent",null),n=!0;return t?t.hasOwnProperty("allowed")?(n=function(e){switch(void 0===e?"undefined":i(e)){case"string":return{true:!0,false:!1}[e];case"boolean":default:return e}}(t.allowed),r.LIB.logger.debug("[CTZ-consent] :: allowed boolean :: user consent is "+n)):(r.LIB.logger.debug("[CTZ-consent] :: consent object present, but missing properties consentString and allowed :: defaulting to false"),n=!1):r.LIB.logger.debug("[CTZ-consent] :: consent object not present :: defaulting to true"),n}}}},{}],"lib/cti.sdk/lib/functions/constrain.js":[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.forSDK=function(d){var s=d.LIB.COOKIE.get("_ctpuid"),f=!1,p=!1;return{UCB:{ensureConstrains:function(t,n){if(d.HELPERS.bootloaderV2adapter.isBootloaderLoaded()&&d.HELPERS.bootloaderV2adapter.getDataDependency("constrain"))return void n(!0);var e=d.config["#cti1"].endpoints.www.hostUri.replace(/^\/\//,""),r=d.LIB.LODASH.get(t,"config.#cti1.publisher.alias",null),i=d.LIB.LODASH.get(t,"config.#cti1.publisher.hash",null);if(!/clicktripz\.com/.test(e)){var o=d.config["#cti1"].endpoints.www.protocol+"//www.clicktripz.com/api/integrations/v1/constrain";l(o,function(){d.config["#cti1"].adblockIsEnabled=!1,l(o=g(r,i,e,d.config["#cti1"].adblockIsEnabled),function(e){m(e,t,a)})},function(){d.config["#cti1"].adblockIsEnabled=!0,l(o=g(r,i,e,d.config["#cti1"].adblockIsEnabled),function(e){m(e,t,a)})})}else{l(h(r,i,e),function(e){m(e,t,a)})}function a(e){!1===d.LIB.LODASH.get(d.config["#cti1"],"userOptedOut",!1)?(!0===p&&d.LIB.logger.error("Publisher alias is not set in config['#cti1'].publisher.alias"),n(!0)):n(!1)}}},INTEGRATION:{ensureConstrains:function(o){var t=(new Date).getTime(),n=d.LIB.LODASH.get(o,"config.#cti1.options.FPCSCookieSyncLogLoaded",!1),a=d.config["#cti1"].endpoints.www.hostUri.replace(/^\/\//,""),s=d.LIB.LODASH.get(o,"config.#cti1.publisher.alias",null),l=d.LIB.LODASH.get(o,"config.#cti1.publisher.hash",null),c=!/clicktripz\.com/.test(a);return new d.LIB.Promise(function(n,r){var e=d.LIB.LODASH.get(window,"_CTZG.bootloader.constrain",null);if(e){d.LIB.CONSTRAIN_ADAPTER.applyConstrainResponse(o,e);var t=u(e);if(t)return n(t)}if(d.LIB.logger.error("[Integration SDK] ensureConstrain() Error :: raw constrain response not found on window"),c)d.LIB.endpoint.call({method:"GET",url:d.config["#cti1"].endpoints.www.protocol+"//www.clicktripz.com/api/integrations/v1/constrain"}).then(function(){return!1}).catch(function(){return!0}).then(function(e){var t=g(s,l,a,e);return d.LIB.endpoint.call({method:"GET",url:t}).then(function(e){m(e,o,function(e){var t=u(e);if(t)return n(t)})}).catch(function(e){r(e)})});else{var i=h(s,l,a);d.LIB.endpoint.call({method:"GET",url:i}).then(function(e){m(e,o,function(e){var t=u(e);if(t)return n(t)})}).catch(function(e){r(e)})}});function u(e){if(!1===d.LIB.LODASH.get(o.config["#cti1"],"userOptedOut",!1))return!0===p&&d.LIB.logger.error("Publisher alias is not set in config['#cti1'].publisher.alias"),{useFPCSCookieSync:f,constrainLoadStart:t,constrainLogLoaded:n,response:e}}}}};function h(e,t,n){var r="",i=encodeURIComponent(d.LIB.dom.window.location.href);return r=d.config["#cti1"].endpoints.www.protocol+"//"+n+"/api/integrations/v1/constrain?",null!==e?r+="publisherAlias="+e:null!==t?r+="h="+t:p=!0,void 0!==s&&(r+="&cpid="+s),r+="&u="+i}function g(e,t,n,r){var i="",o=encodeURIComponent(d.LIB.dom.window.location.href);if(r)i=d.config["#cti1"].endpoints.www.protocol+"//"+n+"/api/integrations/v1/constrain?",null!==e?i+="publisherAlias="+e:null!==t?i+="h="+t:p=!0,void 0!==s&&(i+="&cpid="+s),i+="&u="+o;else{f=!0;var a=d.config["#cti1"].endpoints.www.protocol+"//"+n+"/api/integrations/v1/constrain?";i=d.config["#cti1"].endpoints.www.protocol+"//www.clicktripz.com/api/integrations/v1/constrain?",null!==e?(a+="publisherAlias="+e,i+="publisherAlias="+e+"&"):null!==t?(a+="h="+t,i+="h="+t+"&"):p=!0,void 0!==s&&(a+="&cpid="+s),a+="&u="+o,i+="r="+encodeURIComponent(a)}return i+="&u="+o}function l(e,t,n){d.LIB.http.request("GET",{url:e,responseType:"json",withCredentials:!0},t,n)}function m(e,t,n){if("object"!==(void 0===e?"undefined":i(e))){d.LIB.logger.error("Response from constrain has been modified and is no longer an object");try{"string"==typeof e&&""!==e&&(e=JSON.parse(e))}catch(e){d.LIB.logger.error("Could not parse the response from the constrain API")}}d.LIB.CONSTRAIN_ADAPTER.rawResponse=e;var r=d.LIB.CONSTRAIN_ADAPTER.formatConstrainResponse(d.LIB.CONSTRAIN_ADAPTER.rawResponse);d.LIB.CONSTRAIN_ADAPTER.applyConstrainResponse(t,r),n(r)}}},{}],"lib/cti.sdk/lib/functions/getObjectDiff.js":[function(e,t,n){"use strict";n.forLib=function(i){return function(n,r){return Object.keys(n).reduce(function(e,t){return r.hasOwnProperty(t)?i.LODASH.isEqual(n[t],r[t])&&e.splice(e.indexOf(t),1):e.push(t),e},Object.keys(r))}}},{}],"lib/cti.sdk/lib/functions/injectSourcingElement.js":[function(e,t,n){"use strict";n.forLib=function(t){return function(e){("SCRIPT"===e.tagName&&(e.async=!0,void 0===e.charset&&(e.charset="UTF-8")),t.dom.window.document.body)?(t.logger.debug("inject","page.injectSourcingElement()","into BODY"),t.dom.window.document.body.appendChild(e)):(t.logger.debug("inject","page.injectSourcingElement()","into HEAD"),t.dom.window.document.getElementsByTagName("head")[0].appendChild(e))}}},{}],"lib/cti.sdk/lib/functions/isElementVisible.js":[function(e,t,n){"use strict";n.forWindow=function(d){var r=e("cti.sdk/lib/libs/jquery").forLib({console:d.console,dom:{window:d}}).jQuery;return function e(t,c){if(!t)return!1;if(void 0!==t.selector&&void 0!==t.length){if(1<t.length){var n=!1;return t.each(function(){n||e(r(this).get(0),c)&&(n=!0)}),n}t=t.get(0)}if(!t)return!1;function u(e,t){return d.getComputedStyle?d.document.defaultView.getComputedStyle(e,null)[t]:e.currentStyle?e.currentStyle[t]:void 0}return void 0===(c=c||{}).ignoreScroll&&(c.ignoreScroll=!0),void 0===c.viewable&&(c.viewable=!1),1==c.viewable?function(e,t){d.innerWidth||document.documentElement.clientWidth;var n=d.innerHeight||document.documentElement.clientHeight,r=e.getBoundingClientRect(),i=(r.bottom-r.top)*t;return 0!=i&&(0<=r.top&&r.top+i<=n||0<=r.bottom&&r.bottom-i<=n)}(t,.5):function e(t,n,r,i,o,a,s){var l=t.parentNode;return!!function(e){for(;e=e.parentNode;)if(e==d.document)return 1;return 0}(t)&&(9===l.nodeType||"0"!==u(t,"opacity")&&"none"!==u(t,"display")&&"hidden"!==u(t,"visibility")&&(void 0!==n&&void 0!==r&&void 0!==i&&void 0!==o&&void 0!==a&&void 0!==s||(n=t.offsetTop,o=t.offsetLeft,i=n+t.offsetHeight,r=o+t.offsetWidth,a=t.offsetWidth,s=t.offsetHeight),!l||!(!("hidden"!==u(l,"overflow")&&"scroll"!==u(l,"overflow")||c.ignoreScroll)&&(o+2>l.offsetWidth+l.scrollLeft||o+a-2<l.scrollLeft||n+2>l.offsetHeight+l.scrollTop||n+s-2<l.scrollTop))&&(t.offsetParent===l&&(o+=l.offsetLeft,n+=l.offsetTop),e(l,n,r,i,o,a,s))))}(t)}}},{"cti.sdk/lib/libs/jquery":"lib/cti.sdk/lib/libs/jquery.js"}],"lib/cti.sdk/lib/functions/loadAlternativeImplementation.js":[function(e,t,n){"use strict";n.forLib=function(n){return function(e){if(e.replacementImplementationUrl){if(void 0===n.dom.window.CTI_LOADED_REPLACEMENT||e.replacementImplementationUrl!==n.dom.window.CTI_LOADED_REPLACEMENT){n.dom.window.CTI_LOADED_REPLACEMENT=e.replacementImplementationUrl,n.logger.debug("Load replacement implementation from '"+n.dom.window.CTI_LOADED_REPLACEMENT+"'!");var t=n.dom.window.document.createElement("script");return t.type="text/javascript",t.src=n.dom.window.CTI_LOADED_REPLACEMENT,t.charset=e.charset||"UTF-8",n.injectSourcingElement(t),!0}n.logger.debug("Loaded replacement implementation from '"+n.dom.window.CTI_LOADED_REPLACEMENT+"'!")}return!1}}},{}],"lib/cti.sdk/lib/functions/makeCookieOption.js":[function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.forLib=function(u){var d=e("./parseQueryString").forLib(u);return function(o,a,s,l,c){function e(n,e){if(n!==o[s]||null===n){var t=function(e){u.FORCE_STORE.remove(a),n=e;var t={};try{t=d(u.dom.window.location.search)}catch(e){u.logger&&u.logger.error(e)}void 0!==t[a]&&(r=function(){delete t[a],u.dom.window.location.search="?"+u.QUERYSTRING.stringify(t)})},r=function(){if(c.reloadHandler)return c.reloadHandler(),null;setTimeout(function(){u.dom.window.location.reload()},500)};if(u.logger&&u.logger.debug("run","window."+a+"(value)",n),"boolean"===l)!0===n||"1"===n||"true"===n?(u.FORCE_STORE.set(a,"1"),n=!0):!1===n||"0"===n||"false"===n?(u.FORCE_STORE.set(a,"0"),n=!1):t(!1);else if("string"===l)null!==n?u.FORCE_STORE.set(a,n):t("");else{if("object"!==l)throw new Error("Type '"+l+"' not implemented!");if(null!==n){if("string"==typeof n)try{n=u.JSON.parse(n);var i=u.JSON.stringify(n);u.FORCE_STORE.set(a,i)}catch(e){u.logger&&u.logger.error("Unable to parse: "+a,e),n=void 0}else if("object"===(void 0===n?"undefined":f(n)))try{i=u.JSON.stringify(n);u.FORCE_STORE.set(a,i)}catch(e){u.logger&&u.logger.error("Unable to stringify: "+a,e),n=void 0}}else t("")}o[s]=n,e||r()}else u.logger&&u.logger.debug("skip","window."+a+"()","due to","no change in setting")}c=c||{};var t={};if(void 0!==u.dom.window.location.search&&u.dom.window.location.search&&(t=d(u.dom.window.location.search)),t&&void 0!==t[a]?(u.logger&&u.logger.debug("set","config."+s,"due to","'"+a+"' url search variable"),e(t[a],!0)):void 0!==u.dom.window[a]&&"function"!=typeof u.dom.window[a]?(u.logger&&u.logger.debug("set","config."+s,"due to","'"+a+"' window variable"),e(u.dom.window[a],!0)):void 0!==u.FORCE_STORE.get(a)&&(u.logger&&u.logger.debug("set","config."+s,"due to","'"+a+"' cookie"),e(u.FORCE_STORE.get(a),!0)),"function"==typeof u.dom.window[a]){var n=u.dom.window[a];u.dom.window[a]=function(){e.apply(null,arguments),n.apply(null,arguments)}}else u.dom.window[a]=e}}},{"./parseQueryString":"lib/cti.sdk/lib/functions/parseQueryString.js"}],"lib/cti.sdk/lib/functions/md5.js":[function(e,t,n){"use strict";n.forLib=function(e){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,o){return d(function(e,t){return e<<t|e>>>32-t}(d(d(t,e),d(r,o)),i),n)}function f(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function h(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function l(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,i,o,a,s=1732584193,l=-271733879,c=-1732584194,u=271733878;for(n=0;n<e.length;n+=16)l=g(l=g(l=g(l=g(l=h(l=h(l=h(l=h(l=p(l=p(l=p(l=p(l=f(l=f(l=f(l=f(i=l,c=f(o=c,u=f(a=u,s=f(r=s,l,c,u,e[n],7,-680876936),l,c,e[n+1],12,-389564586),s,l,e[n+2],17,606105819),u,s,e[n+3],22,-1044525330),c=f(c,u=f(u,s=f(s,l,c,u,e[n+4],7,-176418897),l,c,e[n+5],12,1200080426),s,l,e[n+6],17,-1473231341),u,s,e[n+7],22,-45705983),c=f(c,u=f(u,s=f(s,l,c,u,e[n+8],7,1770035416),l,c,e[n+9],12,-1958414417),s,l,e[n+10],17,-42063),u,s,e[n+11],22,-1990404162),c=f(c,u=f(u,s=f(s,l,c,u,e[n+12],7,1804603682),l,c,e[n+13],12,-40341101),s,l,e[n+14],17,-1502002290),u,s,e[n+15],22,1236535329),c=p(c,u=p(u,s=p(s,l,c,u,e[n+1],5,-165796510),l,c,e[n+6],9,-1069501632),s,l,e[n+11],14,643717713),u,s,e[n],20,-373897302),c=p(c,u=p(u,s=p(s,l,c,u,e[n+5],5,-701558691),l,c,e[n+10],9,38016083),s,l,e[n+15],14,-660478335),u,s,e[n+4],20,-405537848),c=p(c,u=p(u,s=p(s,l,c,u,e[n+9],5,568446438),l,c,e[n+14],9,-1019803690),s,l,e[n+3],14,-187363961),u,s,e[n+8],20,1163531501),c=p(c,u=p(u,s=p(s,l,c,u,e[n+13],5,-1444681467),l,c,e[n+2],9,-51403784),s,l,e[n+7],14,1735328473),u,s,e[n+12],20,-1926607734),c=h(c,u=h(u,s=h(s,l,c,u,e[n+5],4,-378558),l,c,e[n+8],11,-2022574463),s,l,e[n+11],16,1839030562),u,s,e[n+14],23,-35309556),c=h(c,u=h(u,s=h(s,l,c,u,e[n+1],4,-1530992060),l,c,e[n+4],11,1272893353),s,l,e[n+7],16,-155497632),u,s,e[n+10],23,-1094730640),c=h(c,u=h(u,s=h(s,l,c,u,e[n+13],4,681279174),l,c,e[n],11,-358537222),s,l,e[n+3],16,-722521979),u,s,e[n+6],23,76029189),c=h(c,u=h(u,s=h(s,l,c,u,e[n+9],4,-640364487),l,c,e[n+12],11,-421815835),s,l,e[n+15],16,530742520),u,s,e[n+2],23,-995338651),c=g(c,u=g(u,s=g(s,l,c,u,e[n],6,-198630844),l,c,e[n+7],10,1126891415),s,l,e[n+14],15,-1416354905),u,s,e[n+5],21,-57434055),c=g(c,u=g(u,s=g(s,l,c,u,e[n+12],6,1700485571),l,c,e[n+3],10,-1894986606),s,l,e[n+10],15,-1051523),u,s,e[n+1],21,-2054922799),c=g(c,u=g(u,s=g(s,l,c,u,e[n+8],6,1873313359),l,c,e[n+15],10,-30611744),s,l,e[n+6],15,-1560198380),u,s,e[n+13],21,1309151649),c=g(c,u=g(u,s=g(s,l,c,u,e[n+4],6,-145523070),l,c,e[n+11],10,-1120210379),s,l,e[n+2],15,718787259),u,s,e[n+9],21,-343485551),s=d(s,r),l=d(l,i),c=d(c,o),u=d(u,a);return[s,l,c,u]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function r(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function n(e){return unescape(encodeURIComponent(e))}function i(e){return function(e){return c(l(u(e),8*e.length))}(n(e))}function o(e,t){return function(e,t){var n,r,i=u(e),o=[],a=[];for(o[15]=a[15]=void 0,16<i.length&&(i=l(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=l(o.concat(u(t)),512+8*t.length),c(l(a.concat(r),640))}(n(e),n(t))}return function(e,t,n){return t?n?o(t,e):function(e,t){return r(o(e,t))}(t,e):n?i(e):function(e){return r(i(e))}(e)}}},{}],"lib/cti.sdk/lib/functions/onceSelectorVisible.js":[function(t,e,n){"use strict";n.forWindow=function(e){var i=t("./isElementVisible").forWindow(e),o=t("cti.sdk/lib/libs/jquery").forLib({console:e.console,dom:{window:e}}).jQuery;return function(t,e){var n=0,r=setInterval(function(){60<=(n+=1)&&clearInterval(r);try{(function(){var e=o(t);return 0!==e.length&&i(e.get(0))})()&&(clearInterval(r),e())}catch(e){console.error(e)}},250)}}},{"./isElementVisible":"lib/cti.sdk/lib/functions/isElementVisible.js","cti.sdk/lib/libs/jquery":"lib/cti.sdk/lib/libs/jquery.js"}],"lib/cti.sdk/lib/functions/parseQueryString.js":[function(e,t,n){"use strict";n.forLib=function(t){var n=e("querystring");return function(e){try{return e=e.replace(/^\?|\%\%/g,function(e){return"?"===e?"":"%"}),!0===t._bootOptions.useUnescape&&t.dom.window.unescape&&(e=t.dom.window.unescape(e)),n.parse(e)}catch(e){return t.logger.error(e),null}}}},{querystring:"lib/cti.tools/node_modules/querystring-es3/index.js"}],"lib/cti.sdk/lib/instances/background-click-util.js":[function(e,t,n){"use strict";var s={clickOffs:'*[target="blank"]',clickOffs2:'*[target="_blank"]',clickOffs3:'*[target="new"]',clickOffs4:'*[target="_new"]',ctDebug:"#ctDebugContainer",_ctDebug:"._ctDebug",DDU:".ctz-ads__ddu-tag","CTI.SDK.API.HEADUP":"#_ctzHeadup",GoogleMaps:"#FT_map",ClicktripzWidget:"#ctz-widget",debugForms:"#_clicktripz_forms_container form","ctz-ads__meta-results":".ctz-ads__meta-results"};t.exports=function e(o,a){if(!(this instanceof e))return new e(o,a);if(!a)throw new Error("Using 'support/background-click-util' directly is DEPRECATED! If you must use it, pass in 'console' as second argument to constructor.");return{blockedElements:s,isClickBlocked:function(e){var n=this,r=o(e.target),i=!1;return o.each(s,function(e,t){if(n.isBlockedElement(t,r))return void 0!==window.CTI_DEBUG&&window.CTI_DEBUG&&a.log("[background-click-util] Click is blocked due to element:",e,t),i=t,!1}),0!==e.button&&(i=!0),i||void 0!==window.CTI_DEBUG&&window.CTI_DEBUG&&a.log("[background-click-util] Click is allowed",{event:e,target:r,parents:[r.parent(),r.parent().parent(),r.parent().parent().parent(),r.parent().parent().parent().parent()],blockedElements:s}),i},addBlockedElements:function(e){o.extend(s,e)},removeBlockedElements:function(t){Object.keys(t).forEach(function(e){s[e]===t[e]&&delete s[e]})},isBlockedElement:function(e,t){var n=!1;return t.closest(e).length&&(n=!0),n},ensureIDsReferencedAreUnique:function(){for(var n=/#[\d\w\S]+/,e=document.getElementsByTagName("*"),t={},r=Object.keys(s).map(function(e){var t=n.exec(s[e]);if(t)return t[0]}),i=0;i<e.length;i++)e[i].id&&-1<o.inArray("#"+e[i].id,r)&&(void 0!==t[e[i].id]?void 0!==window.CTI_DEBUG&&window.CTI_DEBUG&&a.log("[cti] background-click-util :: ensureIDsReferencedAreUnique found duplicated ID in DOM #"+e[i].id):t[e[i].id]="1")}}}},{}],"lib/cti.sdk/lib/instances/bodyEvent.js":[function(t,e,n){"use strict";var r=null,i=null;n.forLib=function(c){if(!r){var e=function(){var n=this,a=c.UA.isMobileDevice()||c.UA.isTabletDevice();function r(e){try{var t=n.isEventBlocked(e);t?(u.debug("on","page:body:event (blocked)"),u.debug("emit","event","on","bodyEvent"),c.event.channels.page.emit("body.event",{blocked:t,event:e})):(u.debug("on","page:body:event"),u.debug("emit","event","on","bodyEvent"),c.event.channels.page.emit("body.event",{blocked:!1,event:e}))}catch(e){u.error(e)}}var s={};function i(e,t){var n="click"===e.domEventType,r=c.dom.scopedEvent(e.domEventType,"lib/instances/bodyEvent");if(d(e.element).off(r).on(r,function(e){!function(e){return!e.offsetX||!e.offsetY}(e)?!function(e){return d.contains(window.document,e.target)}(e)?u.debug("on","page/body:click (blocked due to element no longer in the DOM)"):c.LODASH.get(c,"config.options.backgroundClickConsistentTargetingCheck",!0)&&n&&!function(e,t){var n=t.mousedown&&t.mousedown.target===e.target,r=a&&t.touchstart&&t.touchstart.target===e.target;return n||r}(e,s)?u.debug("on","page/body:click (blocked due to touchstart/mousedown target different from click target)"):t(e):u.debug("on","page/body:click (blocked due to click being programmatically generated)")}),n){var i=c.dom.scopedEvent("mousedown","lib/instances/bodyEvent/consistentTarget");d(e.element).off(i).on(i,function(e){s.mousedown=e});var o=c.dom.scopedEvent("touchstart","lib/instances/bodyEvent/consistentTarget");d(e.element).off(o).on(o,function(e){s.touchstart=e})}}var o=[],l=[];function t(e){var t=c.LODASH.get(e,"launch.domEventTypes",[]).filter(function(e){return"submit"!==e});(function(i){return new c.Promise(function(t,e){function n(){var e=d(i);e.length&&(clearInterval(r),t(e))}var r=setInterval(n,1e3);n()})})(c.LODASH.get(e,"launch.backgroundQuerySelector","body")).then(function(e){t.sort().join(",")===l.sort().join(",")||(o.forEach(function(e){!function(e){var t="click"===e.domEventType,n=c.dom.scopedEvent(e.domEventType,"lib/instances/bodyEvent");if(d(e.element).off(n),t){var r=c.dom.scopedEvent("mousedown","lib/instances/bodyEvent/consistentTarget");d(e.element).off(r);var i=c.dom.scopedEvent("touchstart","lib/instances/bodyEvent/consistentTarget");d(e.element).off(i)}}(e)}),o=[],e.each(function(){var n=this;t.forEach(function(e){var t={element:n,domEventType:e};i(t,r),o.push(t)})}),l=t)})}n.setLaunchStrategyInterfaceDefinition=function(e){t(e)},t(c.CONSTANTS.DEFAULT_INTERFACE_DEFINITION)},u=c.logger.scope("instances/bodyEvent"),d=c.$;i=i||t("background-click-util")(d,c.console),(e.prototype=window._cti_backfill_object_create(c.EventEmitter.prototype)).addBlockedSelector=function(e){var t=e;"string"==typeof t&&((t={})["custom."+e]=e),u.debug("run","bodyEvent.addBlocked(selector)",t),i.addBlockedElements(t)},e.prototype.removeBlockedSelector=function(e){var t=e;"string"==typeof t&&((t={})["custom."+e]=e),u.debug("run","bodyEvent.addBlocked(selector)",t),i.removeBlockedElements(t)},e.prototype.isEventBlocked=function(e){var t=i.isClickBlocked(e);return u.debug("ran","bodyEvent.isClickBlocked()",t),t},e.prototype.ensureIDsReferencedAreUnique=function(){return u.debug("ran","bodyEvent.ensureIDsReferencedAreUnique()"),i.ensureIDsReferencedAreUnique()},r=new e}return r}},{"background-click-util":"lib/cti.sdk/lib/instances/background-click-util.js"}],"lib/cti.sdk/lib/instances/browser-device-detection-util.js":[function(e,t,n){"use strict";function r(t){return{isAndroidTablet:function(){return/Android/i.test(t)&&!/Mobile/i.test(t)},isIpad:function(){return/iPad/i.test(t)},isMobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(t)},isChrome:function(){return this.isWebkit()&&-1<t.toLowerCase().indexOf("chrome")},isWebkit:function(){return/webkit/i.test(t)},isFF4Plus:function(){return void 0!==window.mozPaintCount},isSafari:function(){return this.isWebkit()&&!this.isChrome()&&!this.isFF4Plus()},isIE:function(){return-1<t.indexOf("MSIE ")||-1<t.indexOf("Trident/")||-1<t.indexOf("Edge/")},isIEEdge:function(){return-1<t.indexOf("Edge/")},getIEVersion:function(){var e=999;if(-1<t.indexOf("MSIE "))e=parseFloat(navigator.appVersion.split("MSIE")[1]);else if("Netscape"==navigator.appName){null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e},isDesktopOrTablet:function(){return!(this.isMobileDevice()&&!this.isIpad()&&!this.isAndroidTablet())},isVivaldi:function(){return/Vivaldi/i.test(t)},isWindows:function(){return-1<t.indexOf("Windows")},isMac:function(){return-1<t.indexOf("Mac")},isChromeOnIOS:function(){return-1<t.indexOf("CriOS")}}}var i="";"undefined"!=typeof window&&(i=window.navigator.userAgent),t.exports=r(i),t.exports.forAgentString=r},{}],"lib/cti.sdk/lib/instances/history.js":[function(e,t,n){"use strict";var a=null;n.forLib=function(n){if(!a)if(a=new n.EventEmitter,void 0!==n.dom.window.history&&void 0!==n.dom.window.history.pushState&&void 0!==n.dom.window.history.replaceState){var r=function(){n.logger.debug("inspect","notifyUrlChange()","window.location.href",window.location.href),t()&&a.emit("url.changed")},e=n.dom.window.location.href,t=function(){return e!==n.dom.window.location.href?(e=n.dom.window.location.href,!0):(n.logger.debug("window.history","compareUrl()","no change in location"),!1)};n.logger.debug("hook","window.history","change listener");var i=n.dom.window.history.pushState;n.dom.window.history.pushState=function(e){n.logger.debug("on","history.pushState",e);var t=i.apply(n.dom.window.history,arguments);return r(),t};var o=n.dom.window.history.replaceState;n.dom.window.history.replaceState=function(e){n.logger.debug("on","history.replaceState",e);var t=o.apply(n.dom.window.history,arguments);return r(),t},n.dom.window.addEventListener("popstate",function(e){n.logger.debug("on","window.onpopstate",e),r()})}else n.logger.debug("skip hook","window.history","change listener","due to","no minimum 'window.history.*' methods available.");return a}},{}],"lib/cti.sdk/lib/instances/logger.js":[function(t,e,l){"use strict";var n=null;l.forLib=function(s){if(n)return n;s.config["#cti1"].logger&&!0===s.config["#cti1"].logger.enableUncaughtErrorHandler&&!function e(){if(!e._added){e._added=!0,s.dom.window.addEventListener("error",function(e){a(e.message,e.filename,e.lineno,e.colno,e.error)});var o=s.dom.window.onerror;s.dom.window.onerror=function(e,t,n,r,i){if(a(e,t,n,r,i),o)return o(e,t,n,r,i)}}function a(e,t,n,r,i){try{(i=i||{}).message?e!==i.message&&(i.message=e+": "+i.message):i.message=e,i.message="Uncaught Error: "+i.message,i.file=t||"",i.line=n||"",i.col=r||"";var o=s.JSON.stringify(i);if(o===a._lastErrorString)return;a._lastErrorString=o,l.logger.record.error(i),s.config.debug&&s.CONSOLE.callConsoleMethod("error",[i.message])}catch(e){}}}();var e=t("cti.sdk/lib/libs/2017-07-Logger_logger.helper").forConfig({"#lib1":s,"#cti1":s.config["#cti1"],"#build1":s.config["#build1"],"#timing1":s._timingInfo});return n=e.init()}},{"cti.sdk/lib/libs/2017-07-Logger_logger.helper":"lib/cti.sdk/lib/libs/2017-07-Logger_logger.helper.js"}],"lib/cti.sdk/lib/instances/sdkEvents.js":[function(e,t,n){"use strict";var c=null;n.forLib=function(s){if(c)return c;c={};s.console;c.channels={lifecycle:new s.EventEmitter,message:new s.EventEmitter,placement:new s.EventEmitter,page:new s.EventEmitter,adhoc:new s.EventEmitter};var l={};return c.channels.message.registerPlacement=function(e,t){var n="ctil.clicktripz.com?placementID="+(e=e||""),r=new s.EventEmitter;if(t(l[n]=r),s.config.options.waitForFirstPostMessage){var i={notify:{from:n,body:{ready:!0}}};s.logger.debug("call","window.postMessage()",i,"*"),(s.dom.window.parent||s.dom.window).postMessage(s.JSON.stringify(i),"*")}},c.channels.lifecycle.once("configured",function(){if(s.config.placements){var n={};if(Object.keys(s.config.placements).forEach(function(e){var t=s.config.placements[e].container||null;t?void 0!==s.dom.window.CTZ_PlacementContainer&&s.dom.window.CTZ_PlacementContainer.containers&&s.dom.window.CTZ_PlacementContainer.containers[t]?n[e]=s.dom.window.CTZ_PlacementContainer.containers[t]:s.logger.debug("ignore","placement",e,"due to","no placement container with id",t,"registered on 'LIB.dom.window.CTZ_PlacementContainer.containers'"):s.logger.debug("ignore","placement",e,"due to","no placement container ID set")}),0<Object.keys(n).length){var r=function(e){return!!n[e]||(s.logger.debug("ignore","event","setControllable","for placement",e,"due to","placement not aliased in LIB.config.placements"),!1)},i=function(e,t){if(r(e))if("function"==typeof n[e].eventHandlers[t])try{n[e].eventHandlers[t](n[e].domId)}catch(e){s.logger.error(e)}else s.logger.debug("ignore","event",t,"for placement",e,"due to","no state change handler declared in placement container")};["showControls","hideControls","showContainer","hideContainer","expandContainer","collapseContainer"].forEach(function(e){c.channels.placement.on(e,function(t){return function(e){i(e,t)}}(e))}),c.channels.placement.on("setControllable",function(e,t){r(e)&&(n[e].controllable=!!t,t||(i(e,"hideControls"),i(e,"hideContainer")))})}}var e=null;s.config.options.expectedPostMessageOrigins&&(e=new RegExp(s.config.options.expectedPostMessageOrigins)),s.dom.window.addEventListener("message",function(r){try{var o=function(e,t){try{var n={};n[e]=t,n[e].id=n[e].id||a.request.id,n[e].from=n[e].from||a.request.to,s.logger.debug("call","window.postMessage()",n,r.origin),r.source.postMessage(s.JSON.stringify(n),r.origin)}catch(e){s.logger.error(e)}};if(!(e&&e.test(r.origin)||/^https?:\/\/(.+\.(?:clicktripz)\.[^\.]+|(?:192\.[0-9\.]+|localhost)(:\d+)?)$/.test(r.origin)||r.origin===s.dom.window.location.origin))return;var a=null;try{a=s.JSON.parse(r.data)}catch(e){return}if(!a.request)return;if(s.logger.debug("event","window.message",a),!l[a.request.to]){if(!a.request.id)throw new Error("Message handler for uri '"+a.request.to+"' not found!");return void o("response",{status:500,body:{error:"Message handler for uri '"+a.request.to+"' not found!"}})}if(a.request.id){l[a.request.to].on("response",function e(t,n,r){if(t===a.request.id){void 0===r&&(r=200),l[a.request.to].removeListener("response",e);var i={status:"number"==typeof r?r:500,body:"number"==typeof r?n:{error:r}};200!==r&&s.logger.error("[event] postMessage response error message:",s.JSON.stringify(i)),o("response",i)}})}a.request.id=a.request.id||s.UUID.v4(),c.channels.message.emit("request",a.request.id,a.request.body),l[a.request.to].emit("request",a.request.id,a.request.body)}catch(e){s.logger.error(e)}},!1)}),c}},{}],"lib/cti.sdk/lib/libs/2017-07-Logger_logger.helper.js":[function(e,t,n){"use strict";var D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.PINF.sandbox(function(e){var h={};e.memoize("/lib/md5.js",function(e,t,n){var r=window;!function(e){"object"===(void 0===t?"undefined":D(t))&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).mainModule=e()}(function(){return function o(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var n=!1;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var u=!1,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){n.forLib=function(e){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function s(e,t,n,r,i,o){return d(function(e,t){return e<<t|e>>>32-t}(d(d(t,e),d(r,o)),i),n)}function f(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)}function p(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)}function h(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)}function g(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)}function l(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var n,r,i,o,a,s=1732584193,l=-271733879,c=-1732584194,u=271733878;for(n=0;n<e.length;n+=16)l=g(l=g(l=g(l=g(l=h(l=h(l=h(l=h(l=p(l=p(l=p(l=p(l=f(l=f(l=f(l=f(i=l,c=f(o=c,u=f(a=u,s=f(r=s,l,c,u,e[n],7,-680876936),l,c,e[n+1],12,-389564586),s,l,e[n+2],17,606105819),u,s,e[n+3],22,-1044525330),c=f(c,u=f(u,s=f(s,l,c,u,e[n+4],7,-176418897),l,c,e[n+5],12,1200080426),s,l,e[n+6],17,-1473231341),u,s,e[n+7],22,-45705983),c=f(c,u=f(u,s=f(s,l,c,u,e[n+8],7,1770035416),l,c,e[n+9],12,-1958414417),s,l,e[n+10],17,-42063),u,s,e[n+11],22,-1990404162),c=f(c,u=f(u,s=f(s,l,c,u,e[n+12],7,1804603682),l,c,e[n+13],12,-40341101),s,l,e[n+14],17,-1502002290),u,s,e[n+15],22,1236535329),c=p(c,u=p(u,s=p(s,l,c,u,e[n+1],5,-165796510),l,c,e[n+6],9,-1069501632),s,l,e[n+11],14,643717713),u,s,e[n],20,-373897302),c=p(c,u=p(u,s=p(s,l,c,u,e[n+5],5,-701558691),l,c,e[n+10],9,38016083),s,l,e[n+15],14,-660478335),u,s,e[n+4],20,-405537848),c=p(c,u=p(u,s=p(s,l,c,u,e[n+9],5,568446438),l,c,e[n+14],9,-1019803690),s,l,e[n+3],14,-187363961),u,s,e[n+8],20,1163531501),c=p(c,u=p(u,s=p(s,l,c,u,e[n+13],5,-1444681467),l,c,e[n+2],9,-51403784),s,l,e[n+7],14,1735328473),u,s,e[n+12],20,-1926607734),c=h(c,u=h(u,s=h(s,l,c,u,e[n+5],4,-378558),l,c,e[n+8],11,-2022574463),s,l,e[n+11],16,1839030562),u,s,e[n+14],23,-35309556),c=h(c,u=h(u,s=h(s,l,c,u,e[n+1],4,-1530992060),l,c,e[n+4],11,1272893353),s,l,e[n+7],16,-155497632),u,s,e[n+10],23,-1094730640),c=h(c,u=h(u,s=h(s,l,c,u,e[n+13],4,681279174),l,c,e[n],11,-358537222),s,l,e[n+3],16,-722521979),u,s,e[n+6],23,76029189),c=h(c,u=h(u,s=h(s,l,c,u,e[n+9],4,-640364487),l,c,e[n+12],11,-421815835),s,l,e[n+15],16,530742520),u,s,e[n+2],23,-995338651),c=g(c,u=g(u,s=g(s,l,c,u,e[n],6,-198630844),l,c,e[n+7],10,1126891415),s,l,e[n+14],15,-1416354905),u,s,e[n+5],21,-57434055),c=g(c,u=g(u,s=g(s,l,c,u,e[n+12],6,1700485571),l,c,e[n+3],10,-1894986606),s,l,e[n+10],15,-1051523),u,s,e[n+1],21,-2054922799),c=g(c,u=g(u,s=g(s,l,c,u,e[n+8],6,1873313359),l,c,e[n+15],10,-30611744),s,l,e[n+6],15,-1560198380),u,s,e[n+13],21,1309151649),c=g(c,u=g(u,s=g(s,l,c,u,e[n+4],6,-145523070),l,c,e[n+11],10,-1120210379),s,l,e[n+2],15,718787259),u,s,e[n+9],21,-343485551),s=d(s,r),l=d(l,i),c=d(c,o),u=d(u,a);return[s,l,c,u]}function c(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function r(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function n(e){return unescape(encodeURIComponent(e))}function i(e){return function(e){return c(l(u(e),8*e.length))}(n(e))}function o(e,t){return function(e,t){var n,r,i=u(e),o=[],a=[];for(o[15]=a[15]=void 0,16<i.length&&(i=l(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=l(o.concat(u(t)),512+8*t.length),c(l(a.concat(r),640))}(n(e),n(t))}return function(e,t,n){return t?n?o(t,e):function(e,t){return r(o(e,t))}(t,e):n?i(e):function(e){return r(i(e))}(e)}}},{}]},{},[1])(1)})}),e.memoize("/lib/ua.js",function(e,t,n){var r=window;!function(e){"object"===(void 0===t?"undefined":D(t))&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).mainModule=e()}(function(){return function o(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var n=!1;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var u=!1,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(r,e,t){t.forLib=function(i){i.console;var o=r("ua-parser-js");function e(e){var t={},n=new o(e),r=n.getResult();return t.getAgentString=function(){return n.getUA()},t.getNormalizedAgent=function(){return[t.getDevice(),t.getOS(!0),t.getBrowser(!0)].join(":")},t.getBrowser=function(e){var t=(r.browser&&r.browser.name||"?")+"/"+(r.browser&&r.browser.version||"?");return e&&(t=t.replace(/(\d+)(\.\d+)?[\.\d]*/g,"$1$2")),t},t.getBrowserName=function(){return r.browser&&r.browser.name||"unknown"},t.getCPU=function(){return r.cpu&&r.cpu.architecture||"?"},t.getEngine=function(){return(r.browser&&r.browser.name||"?")+"/"+(r.browser&&r.browser.version||"?")},t.getDevice=function(){return(r.device&&r.device.type||"?")+"/"+(r.device&&r.device.vendor||"?")+"/"+(r.device&&r.device.model||"?")},t.isIOS13Tablet=function(){return!!/iPad|MacIntel/.test(i.dom.window.navigator.platform)&&1<i.dom.window.navigator.maxTouchPoints},t.getDeviceType=function(){return r.device&&r.device.type?r.device.type:t.isIOS13Tablet()?"tablet":"desktop"},t.isDesktopDevice=function(){return"desktop"===t.getDeviceType()},t.isTabletDevice=function(){return"tablet"===t.getDeviceType()},t.isMobileDevice=function(){return"mobile"===t.getDeviceType()},t.getOSName=function(){return r.os&&r.os.name||"?"},t.getOS=function(e){var t=(r.os&&r.os.name||"?")+"/"+(r.os&&r.os.version||"?");return e&&(t=t.replace(/(\d+)(\.\d+)?[\.\d]*/g,"$1$2")),t},t.getLanguage=function(){var e=i.dom.window.navigator.languages?i.dom.window.navigator.languages[0]:null;return-1!==(e=e||i.dom.window.navigator.language||i.dom.window.navigator.browserLanguage||i.dom.window.navigator.userLanguage).indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e||"??"},t}var t="";i.dom&&i.dom.window&&(t=i.dom.window.navigator.userAgent);var n=e(t);return n.forAgentString=e,n}},{"ua-parser-js":2}],2:[function(e,T,k){!function(i,d){function o(e,t){if("object"===(void 0===e?"undefined":D(e))&&(t=e,e=d),!(this instanceof o))return new o(e,t).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?m.extend(b,t):b;return this.getBrowser=function(){var e={name:d,version:d};return v.rgx.call(e,n,r.browser),e.major=m.major(e.version),e},this.getCPU=function(){var e={architecture:d};return v.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:d,model:d,type:d};return v.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:d,version:d};return v.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:d,version:d};return v.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this}var f="function",e="undefined",t="model",n="name",r="type",a="vendor",s="version",l="architecture",c="console",u="mobile",p="tablet",h="smarttv",g="wearable",m={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"===(void 0===e?"undefined":D(e))?e.replace(/[^\d\.]/g,"").split(".")[0]:d},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},v={rgx:function(e,t){for(var n,r,i,o,a,s,l=0;l<t.length&&!a;){var c=t[l],u=t[l+1];for(n=r=0;n<c.length&&!a;)if(a=c[n++].exec(e))for(i=0;i<u.length;i++)s=a[++r],"object"===(void 0===(o=u[i])?"undefined":D(o))&&0<o.length?2==o.length?D(o[1])==f?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?D(o[1])!==f||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):d:this[o[0]]=s?o[1].call(this,s,o[2]):d:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):d):this[o]=s||d;l+=2}},str:function(e,t){for(var n in t)if("object"===D(t[n])&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(m.has(t[n][r],e))return"?"===n?d:n}else if(m.has(t[n],e))return"?"===n?d:n;return e}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,s],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],s],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],s],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[n,s],[/(konqueror)\/([\w\.]+)/i],[[n,"Konqueror"],s],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],s],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],s],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],s],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],s],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],s],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],s],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],s],[/(windowswechat qbcore)\/([\w\.]+)/i],[[n,"WeChat(Win) Desktop"],s],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],s],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],s],[/(qqbrowserlite)\/([\w\.]+)/i],[n,s],[/(QQ)\/([\d\.]+)/i],[n,s],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,s],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,s],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,s],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[s,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[s,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,s],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[s,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],s],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],s],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[s,[n,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[n,"Sailfish Browser"],s],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,s],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],s],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],s],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],s],[/fxios\/([\w\.-]+)/i],[s,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[s,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[s,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],s],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[s,v.str,y.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[n,s],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],s],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,s]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[l,"amd64"]],[/(ia32(?=;))/i],[[l,m.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[l,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[l,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[l,/ower/,"",m.lowerize]],[/(sun4\w)[;\)]/i],[[l,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[l,m.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[t,a,[r,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[a,"Apple"],[r,p]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[a,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,t,[r,p]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[t,[a,"Amazon"],[r,p]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[t,v.str,y.device.amazon.model],[a,"Amazon"],[r,u]],[/android.+aft([bms])\sbuild/i],[t,[a,"Amazon"],[r,h]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,a,[r,u]],[/\((ip[honed|\s\w*]+);/i],[t,[a,"Apple"],[r,u]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,t,[r,u]],[/\(bb10;\s(\w+)/i],[t,[a,"BlackBerry"],[r,u]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[t,[a,"Asus"],[r,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[t,"Xperia Tablet"],[r,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[a,"Sony"],[r,u]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,t,[r,c]],[/android.+;\s(shield)\sbuild/i],[t,[a,"Nvidia"],[r,c]],[/(playstation\s[34portablevi]+)/i],[t,[a,"Sony"],[r,c]],[/(sprint\s(\w+))/i],[[a,v.str,y.device.sprint.vendor],[t,v.str,y.device.sprint.model],[r,u]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[t,/_/g," "],[r,u]],[/(nexus\s9)/i],[t,[a,"HTC"],[r,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[a,"Huawei"],[r,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,t,[r,u]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[a,"Microsoft"],[r,c]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[a,"Microsoft"],[r,u]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[a,"Motorola"],[r,u]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[a,"Motorola"],[r,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,m.trim],[t,m.trim],[r,h]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[a,"Samsung"],[r,h]],[/\(dtv[\);].+(aquos)/i],[t,[a,"Sharp"],[r,h]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],t,[r,p]],[/smart-tv.+(samsung)/i],[a,[r,h],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[a,"Samsung"],t,[r,u]],[/sie-(\w*)/i],[t,[a,"Siemens"],[r,u]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[a,"Nokia"],t,[r,u]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[t,[a,"Acer"],[r,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[a,"LG"],[r,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],t,[r,p]],[/(lg) netcast\.tv/i],[a,t,[r,h]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[a,"LG"],[r,u]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[a,t,[r,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[a,"Lenovo"],[r,p]],[/(lenovo)[_\s-]?([\w-]+)/i],[a,t,[r,u]],[/linux;.+((jolla));/i],[a,t,[r,u]],[/((pebble))app\/[\d\.]+\s/i],[a,t,[r,g]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,t,[r,u]],[/crkey/i],[[t,"Chromecast"],[a,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[a,"Google"],[r,g]],[/android.+;\s(pixel c)[\s)]/i],[t,[a,"Google"],[r,p]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[t,[a,"Google"],[r,u]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[a,"Xiaomi"],[r,u]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[a,"Xiaomi"],[r,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[a,"Meizu"],[r,u]],[/(mz)-([\w-]{2,})/i],[[a,"Meizu"],t,[r,u]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[t,[a,"OnePlus"],[r,u]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[a,"RCA"],[r,p]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[t,[a,"Dell"],[r,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[a,"Verizon"],[r,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[a,"Barnes & Noble"],t,[r,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[a,"NuVision"],[r,p]],[/android.+;\s(k88)\sbuild/i],[t,[a,"ZTE"],[r,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[a,"Swiss"],[r,u]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[a,"Swiss"],[r,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[a,"Zeki"],[r,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[a,"Dragon Touch"],t,[r,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[t,[a,"Insignia"],[r,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[t,[a,"NextBook"],[r,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],t,[r,u]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[a,"LvTel"],t,[r,u]],[/android.+;\s(PH-1)\s/i],[t,[a,"Essential"],[r,u]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[a,"Envizen"],[r,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[a,t,[r,p]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[a,"MachSpeed"],[r,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,t,[r,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[a,"Rotor"],[r,p]],[/android.+(KS(.+))\s+build/i],[t,[a,"Amazon"],[r,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[a,t,[r,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,m.lowerize],a,t],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,h]],[/(android[\w\.\s\-]{0,9});.+build/i],[t,[a,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[s,[n,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,s],[/rv\:([\w\.]{1,9}).+(gecko)/i],[s,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,s],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[s,v.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[s,v.str,y.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],s],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[n,s],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],s],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],s],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,s],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],s],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],s],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,s],[/(haiku)\s(\w+)/i],[n,s],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[s,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[s,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,s]]};o.VERSION="0.7.20",o.BROWSER={NAME:n,MAJOR:"major",VERSION:s},o.CPU={ARCHITECTURE:l},o.DEVICE={MODEL:t,VENDOR:a,TYPE:r,CONSOLE:c,MOBILE:u,SMARTTV:h,TABLET:p,WEARABLE:g,EMBEDDED:"embedded"},o.ENGINE={NAME:n,VERSION:s},o.OS={NAME:n,VERSION:s},(void 0===k?"undefined":D(k))!==e?((void 0===T?"undefined":D(T))!==e&&T.exports&&(k=T.exports=o),k.UAParser=o):i&&(i.UAParser=o);var w=i&&(i.jQuery||i.Zepto);if((void 0===w?"undefined":D(w))!==e&&!w.ua){var _=new o;w.ua=_.getResult(),w.ua.get=function(){return _.getUA()},w.ua.set=function(e){_.setUA(e);var t=_.getResult();for(var n in t)w.ua[n]=t[n]}}}("object"===("undefined"==typeof window?"undefined":D(window))?window:this)},{}]},{},[1])(1)})}),e.memoize("/lib/schema.js",function(e,t,n){var r=window;!function(e){"object"===(void 0===t?"undefined":D(t))&&void 0!==n?n.exports=e():("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).mainModule=e()}(function(){return function o(a,s,l){function c(t,e){if(!s[t]){if(!a[t]){var n=!1;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return c(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var u=!1,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){n.forLib=function(a){a.console;var l={};function e(e,t){if(!l.searchFields[e])throw new Error("Search field '"+e+"' does not exist!");return a.LODASH.merge({},l.searchFields[e],t)}function t(t,n){return t=window._cti_backfill_object_create(t),Object.keys(n).forEach(function(e){t[e]=n[e]}),t}function s(t,n,r,i){if(n){var e=n.type;if(Array.isArray(e)||(e=[e]),n.format)if(-1!==e.indexOf("date"))try{if(a.DATE.convertUsingFormatStrings(n.format,n.format,r)!==r)throw new Error("Input string does not match output string. It should!")}catch(e){a.logger.error(e),a.logger.debug("[format error] Input string '"+r+"' does not match format '"+n.format+"'!"),i(t,"invalid-format")}else-1!==e.indexOf("string")&&(n.format.test(r)||i(t,"invalid-format"))}else i(t,"unknown-field")}function c(e,t,n){var r=void 0===t?"undefined":D(t),i=void 0===t?"undefined":D(t),o=void 0;if("undefined"===r||"undefined"===i?o=e+": Arguments are undefined!":d(t)&&d(n)||(o=e+": Arguments must be an object!"),o&&a.config.debug)throw new Error(o)}function u(e){return Object.prototype.toString.call(e)}function d(e){return"[object Object]"===u(e)}function f(e,t,n){if(t!==n)if("string"===t){if("number"===n)return Number(e);if("boolean"===n)return Boolean(e)}else if("number"===t){if("string"===n)return String(e);if("boolean"===n)return Boolean(e)}else if("boolean"===t){if("string"===n)return String(e);if("number"===n)return Number(e)}return e}return l.logFields={event:"string",i:"number",rid:"string",msg:"string",type:"string",input:{city:"string",hotelData:{campaignID:"string",dataType:"string",nativeData:["string"]}},result:"string",prepop:"string",submitType:"string",trigger:"string",url:"string",searchType:"string",group:"string",data:{valid:"boolean",severity:"string",message:"string",givenMessage:"string"},search:{route:"string",origin:"string",device:"string",destination:"string",departureMonth:"string"},s:{departureDate:"string",returnDate:"string",numTravelers:"number",oneWay:"boolean",airportFrom:"string",airportTo:"string"},raw:{active:"boolean",search:{checkInDate:"string",checkOutDate:"string",city:"string",country:"string",destinationId:"string",countryCode:"string",province:"string",rooms:[{adults:"number",children:"number",infants:"number"}]},audiences:"string",currency:"string",language:"string",referralURL:"string",hotelID:"number",hotelName:"string",hotelStreetAddress:"string",hotelLatitude:"number",hotelLongitude:"number",country:"string",city:"string",checkInDate:"string",checkOutDate:"string",guests:"number",rooms:"number",latitude:"number",longitude:"number",airportFrom:"string",airportTo:"string",departureDate:"string",returnDate:"string",numTravelers:"number",oneWay:"boolean",pickUpDate:"string",pickUpTime:"string",pickUpLoc:"string",dropOffDate:"string",dropOffTime:"string",dropOffLoc:"string",origin:"string",destination:"string",destinationID:"number",lengthID:"number",departureMonth:"string",departureYear:"string"},normalized:{audiences:"string",currency:"string",language:"string",referralURL:"string",hotelID:"number",hotelName:"string",hotelStreetAddress:"string",hotelLatitude:"number",hotelLongitude:"number",country:"string",city:"string",checkInDate:"string",checkOutDate:"string",guests:"number",rooms:"number",latitude:"number",longitude:"number",airportFrom:"string",airportTo:"string",departureDate:"string",returnDate:"string",numTravelers:"number",oneWay:"boolean",pickUpDate:"string",pickUpTime:"string",pickUpLoc:"string",dropOffDate:"string",dropOffTime:"string",dropOffLoc:"string",origin:"string",destination:"string",destinationID:"number",lengthID:"number",departureMonth:"string",departureYear:"string"},code:"string",file:"string",line:"string",col:"string",trace:["string"],callstack:["string"],ctx:{iid:"string",vendor:"string",version:"string",browserClass:"string",browser:"string",engine:"string",deviceType:"string",device:"string",cpu:"string",os:"string",agent:"string",viewport:"string",maxTouchPoints:"number",tz:"number",lang:"string",localization:"string",protocol:"string",host:"string",pathname:"string",search:"string",hash:"string",referrer:"string",agentRaw:"string",debug:"string",ctuid:"string",pageviewUUID:"string",sdk:"string",watcher:"string",pageType:"string",sessionVertical:"string"},token:"string",idur:"number",ttr:"number",cdur:"number",plugin:"string",pluginBuildHash:"string",handlerUrl:"string",handlerVersion:"string",expectedStatus:"boolean",actualStatus:"boolean"},l.searchFields={publisherID:{type:["number","string"]},currency:{type:"string",format:/^[A-Z]{3}$/},language:{type:"string",format:/^[A-Z]{2}$/},referralURL:{type:"string"},hotelID:{type:"number"},hotelName:{type:"string"},hotelStreetAddress:{type:"string"},hotelLatitude:{type:"float"},hotelLongitude:{type:"float"},country:{type:"string",format:/^[A-Z]{2}$/},city:{type:"string"},checkInDate:{type:"date",format:"MM/DD/YYYY"},checkOutDate:{type:"date",format:"MM/DD/YYYY"},guests:{type:"number"},rooms:{type:["number","array"]},latitude:{type:"float"},longitude:{type:"float"},airportFrom:{type:"string"},airportTo:{type:"string"},departureDate:{type:"date",format:"MM/DD/YYYY"},returnDate:{type:"date",format:"MM/DD/YYYY"},numTravelers:{type:"number"},oneWay:{type:"boolean"},pickUpDate:{type:"date",format:"MM/DD/YYYY"},pickUpTime:{type:"string"},pickUpLoc:{type:"string"},dropOffDate:{type:"date",format:"MM/DD/YYYY"},dropOffTime:{type:"string"},dropOffLoc:{type:"string"},origin:{type:"string"},destination:{type:"string"},destinationID:{type:"number"},lengthID:{type:"number"},departureMonth:{type:"string"},departureYear:{type:"string"},audiences:{type:"string"}},l.verticalsFields={city:t({label:"Hotel City Wide"},{city:e("city",{required:!0}),checkInDate:e("checkInDate",{required:!0,triggerPrepop:!0,alsoSync:["checkOutDate"]}),checkOutDate:e("checkOutDate",{required:!0,triggerPrepop:!0,alsoSync:["checkInDate"]}),guests:e("guests",{required:!0,on:{reformat:function(e){if("string"==typeof e&&/^\[/.test(e)){var t=0;return a.JSON.parse(e).forEach(function(e){t+=e.adults||0,t+=e.children||0}),t}return e}}}),rooms:e("rooms",{required:!0,on:{reformat:function(e){return"string"==typeof e&&/^\[/.test(e)?a.JSON.parse(e).length:e}}}),latitude:e("latitude",{}),longitude:e("longitude",{})}),hotel:t({label:"Hotel Specific"},{hotelID:e("hotelID",{required:!0}),city:e("city",{required:!1}),checkInDate:e("checkInDate",{required:!0,triggerPrepop:!0,alsoSync:["checkOutDate"]}),checkOutDate:e("checkOutDate",{required:!0,triggerPrepop:!0,alsoSync:["checkInDate"]}),guests:e("guests",{required:!0,on:{reformat:function(e){if("string"==typeof e&&/^\[/.test(e)){var t=0;return a.JSON.parse(e).forEach(function(e){t+=e.adults||0,t+=e.children||0}),t}return e}}}),rooms:e("rooms",{required:!0,on:{reformat:function(e){return"string"==typeof e&&/^\[/.test(e)?a.JSON.parse(e).length:e}}})}),flights:t({label:"Flights"},{airportFrom:e("airportFrom",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),airportTo:e("airportTo",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),departureDate:e("departureDate",{required:!0,triggerPrepop:!0,alsoSync:["returnDate"]}),returnDate:e("returnDate",{required:{if:function(e){return!(e.oneWay||e.isOneWay)}},triggerPrepop:!0,alsoSync:["departureDate"]}),numTravelers:e("numTravelers",{required:!0}),oneWay:e("oneWay",{required:!0})}),cars:t({label:"Cars"},{pickUpDate:e("pickUpDate",{required:!0,triggerPrepop:!0,alsoSync:["dropOffDate"]}),pickUpTime:e("pickUpTime",{required:!0}),pickUpLoc:e("pickUpLoc",{required:!0}),dropOffDate:e("dropOffDate",{required:!0,triggerPrepop:!0,alsoSync:["pickUpDate"]}),dropOffTime:e("dropOffTime",{required:!0}),dropOffLoc:e("dropOffLoc",{required:!0})}),vacations:t({label:"Vacation Packages"},{departureDate:e("departureDate",{required:!0,triggerPrepop:!0,alsoSync:["returnDate"]}),returnDate:e("returnDate",{required:!0,triggerPrepop:!0,alsoSync:["departureDate"]}),origin:e("origin",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),destination:e("destination",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),numTravelers:e("numTravelers",{required:!0})}),cruise:t({label:"Cruises"},{destinationID:e("destinationID",{required:!0}),destinationName:e("destinationID",{required:!1}),lengthID:e("lengthID",{required:!0}),departureMonth:e("departureMonth",{required:!0,triggerPrepop:!0,alsoSync:["departureYear"]}),departureYear:e("departureYear",{required:!0,triggerPrepop:!0,alsoSync:["departureMonth"]})}),"non-travel":t({label:"Non-travel"},{audiences:e("city",{required:!0}),city:e("city",{required:!1}),checkInDate:e("checkInDate",{required:!1,triggerPrepop:!0,alsoSync:["checkOutDate"]}),checkOutDate:e("checkOutDate",{required:!1,triggerPrepop:!0,alsoSync:["checkInDate"]}),guests:e("guests",{required:!1,on:{reformat:function(e){if("string"==typeof e&&/^\[/.test(e)){var t=0;return a.JSON.parse(e).forEach(function(e){t+=e.adults||0,t+=e.children||0}),t}return e}}}),rooms:e("rooms",{required:!1,on:{reformat:function(e){return"string"==typeof e&&/^\[/.test(e)?a.JSON.parse(e).length:e}}}),latitude:e("latitude",{}),longitude:e("longitude",{})})},l.validateVerticalFields=function(r,i){if(!l.verticalsFields[r])throw new Error("Unknown type '"+r+"'!");var n={};function o(e,t){n[e]||(n[e]=[]),n[e].push(t)}return Object.keys(l.verticalsFields[r]).forEach(function(e){var t=l.verticalsFields[r][e],n=!0===t.required||t.required&&t.required.if&&t.required.if(i)||!1;!(void 0===i[e]||""===i[e]||null===i[e])?s(e,t,i[e],o):n&&o(e,"required")}),0!==Object.keys(n).length&&n},l.validateSearchFields=function(t,e){var n={};function r(e,t){n[e]||(n[e]=[]),n[e].push(t)}return Object.keys(t).forEach(function(e){s(e,l.searchFields[e],t[e],r)}),0===Object.keys(n).length&&e&&(n=l.validateVerticalFields(e,t)),0!==Object.keys(n).length&&n},l.normalizeSearchFields=function(r){return Object.keys(r).forEach(function(e){var t=r[e],n=(l.searchFields[e]||{}).type;Array.isArray(n)||(n=[n]),-1!==n.indexOf("number")&&"string"==typeof t&&(""+(t=parseInt(t))!==r[e]&&(0!==t||null!==r[e]&&""!==r[e])||(r[e]=t)),t=r[e],"rooms"===e?(Array.isArray(t)&&(t=r[e]=a.JSON.stringify(t)),"string"==typeof t&&/^\[/.test(t)&&(r.guests=t)):"currency"===e?r[e]=t.toUpperCase():"language"===e?r[e]=t.toUpperCase():"country"===e&&(r[e]=t.toUpperCase(),r[e]=t.toUpperCase())}),r},l.validateLogFields=function(e,t){for(var n in c("validateLogFields",e,t),e){var r=e[n],i=void 0===r?"undefined":D(r),o=t[n];if(r)if(d(o)){if(!d(r))throw"Expected "+n+" to be an Object but got "+u(r)+" instead!";l.validateLogFields(r,o)}else if(Array.isArray(o))a(n,r,o[0]);else if(i!==o)throw"Expected "+n+" to be a "+o+" but got "+u(r)+" instead!"}function a(n,e,r){if(!Array.isArray(e))throw"Expected "+n+" to be an Array but got "+u(e)+" instead!";e.forEach(function(e){var t=void 0===e?"undefined":D(e);if(d(r)){if(!d(e))throw"Expected "+n+" to be an Array of objects but got an array of "+u(e)+" instead!";l.validateLogFields(e,r)}else if(Array.isArray(r)){if(!Array.isArray(e))throw"Expected "+n+" to be an Array of arrays but got an array of "+u(e)+" instead!";a(n+"[0]",e,r[0])}else if(t!==r)throw"Expected "+n+" to be an Array of "+r+" but got an array of "+u(e)+" instead!"})}},l.coerceDataTypes=function(e,t){c("coerceDataTypes",e,t);var n={};for(var r in e){var i=e[r],o=t[r];if(i)if(d(i)&&d(o))n[r]=l.coerceDataTypes(i,o);else if(Array.isArray(i)&&Array.isArray(o))n[r]=s(i,o[0]);else if(!d(i)&&!Array.isArray(i)){var a=void 0===i?"undefined":D(i);n[r]=f(i,a,o)}}return n;function s(e,t){return e.map(function(e){return d(e)&&d(t[0])?l.coerceDataTypes(e,t[0]):Array.isArray(e)&&Array.isArray(t[0])?void(e=s(e,t[0])):f(e,void 0===e?"undefined":D(e),t[0])})}},l}},{}]},{},[1])(1)})}),e.memoize("/main.js",function(l,e,t){return{forConfig:function(d){var o=l("./lib/md5").forLib(d["#lib1"]),r=l("./lib/ua").forLib(d["#lib1"]),f=l("./lib/schema").forLib(d["#lib1"]),p={config:d,instanceID:d["#cti1"].logger.instanceID&&d["#cti1"].logger.instanceID.substring(0,8)||(Math.random()+Math.PI).toString(36).substring(2,10),logEventIndex:null,lastReadyId:""};return{_state:p,init:function(){var i=l("./beacon")(d),u=d["#build1"].buildConfig&&d["#build1"].buildConfig.logger&&d["#build1"].buildConfig.logger.channels&&d["#build1"].buildConfig.logger.channels.lifecycle&&d["#build1"].buildConfig.logger.channels.lifecycle.token||"";function e(){function a(){var e=d["#lib1"].status.currentWatcher||{};return{iid:p.instanceID,vendor:d["#cti1"].publisher&&d["#cti1"].publisher.alias||"",version:d["#lib1"].dom.window._ctzIntegrationVersion||"",browserClass:r.getBrowserName(),browser:r.getBrowser(),engine:r.getEngine(),deviceType:r.getDeviceType(),device:r.getDevice(),cpu:r.getCPU(),os:r.getOS(),agent:r.getNormalizedAgent(),viewport:(d["#lib1"].dom.window.innerWidth||"")+"x"+(d["#lib1"].dom.window.innerHeight||"")+"|"+(d["#lib1"].dom.window.outerWidth||"")+"x"+(d["#lib1"].dom.window.outerHeight||"")+"|"+(d["#lib1"].dom.window.screen&&(d["#lib1"].dom.window.screen.width||"")+"x"+(d["#lib1"].dom.window.screen.height||"")),maxTouchPoints:d["#lib1"].dom.window.navigator.maxTouchPoints,tz:(new Date).getTimezoneOffset(),lang:r.getLanguage(),localization:d["#cti1"].localization||"",protocol:d["#lib1"].dom.window.location.protocol,host:d["#lib1"].dom.window.location.host,pathname:d["#lib1"].dom.window.location.pathname,search:d["#lib1"].dom.window.location.search,hash:d["#lib1"].dom.window.location.hash,referrer:d["#lib1"].dom.window.document.referrer.replace(/\?.*$/,""),agentRaw:r.getAgentString(),debug:d["#cti1"].debug?"1":"0",ctuid:d["#lib1"].COOKIE.get("_ctuid"),pageviewUUID:d["#lib1"].COOKIE.get("_pageviewUUID"),sdk:d["#lib1"].dom.window._ctzSDKVersion,watcher:e.name,pageType:e.name,sessionVertical:e.vertical}}function s(e,t,n){if(!i[e])throw new Error("Logger does not export logging function for severity '"+e+"'!");return d["#lib1"].HEADUP&&d["#lib1"].HEADUP.incrementCount("log"),i[e](t,n)}function l(e,t,n){var r,i;i=t,(r=e).plugin=i.plugin,r.pluginBuildHash=i.pluginBuildHash,r.handlerUrl=i.handlerUrl,r.handlerVersion=i.handlerVersion,n||function(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n])}(e,t)}function c(e,t,n,r,i){if(r["#cti1"].debug)throw new Error("Malformed message was passed into logger's "+t+" method: "+n);e("malformedData",{message:n,givenMessage:r["#lib1"].JSON.stringify(i),severity:t})}return{loaded:function(){if(!(h.loaded||d["#lib1"]&&d["#lib1"].LODASH.get(d["#lib1"],"_bootOptions.disableLoadedAndInfoLogs"))){h.loaded=!0;var e={event:"loaded",i:++p.logEventIndex,ctx:a(),token:u};d["#lib1"].HEADUP&&d["#lib1"].HEADUP.incrementCount("loaded");var t=f.coerceDataTypes(e,f.logFields);try{f.validateLogFields(t,f.logFields)}catch(e){return c(this.custom,"loaded",e,d,t)}return s("log",t)}},pending:function(e){e&&Array.isArray(e)&&(e=e.join(", "));var t={event:"pending",i:++p.logEventIndex,msg:e||null,ctx:a(),token:u},n=f.coerceDataTypes(t,f.logFields);try{f.validateLogFields(n,f.logFields)}catch(e){return c(this.custom,"pending",e,d,n)}return s("info",n)},disabled:function(e){if(!h.disabled){h.disabled=!0,e&&Array.isArray(e)&&(e=e.join(", "));var t={event:"disabled",i:++p.logEventIndex,msg:e||null,ctx:a(),token:u},n=f.coerceDataTypes(t,f.logFields);try{f.validateLogFields(n,f.logFields)}catch(e){return c(this.custom,"disabled",e,d,n)}return s("info",n)}},miss:function(t){var n={type:null,input:null,result:null};"string"==typeof t?n.result=t:"object"===(void 0===t?"undefined":D(t))&&Object.keys(t).forEach(function(e){n[e]=t[e]});var e={event:"miss",i:++p.logEventIndex,type:n.type,input:n.input,result:n.result,ctx:a(),token:u};d["#lib1"].HEADUP&&d["#lib1"].HEADUP.incrementCount("miss"),d["#lib1"].LODASH.get(e.input,"hotelData.nativeData")&&!Array.isArray(e.input.hotelData.nativeData)&&(e.input.hotelData.nativeData=[e.input.hotelData.nativeData]);var r=f.coerceDataTypes(e,f.logFields);try{f.validateLogFields(r,f.logFields)}catch(e){return c(this.custom,"miss",e,d,r)}return s("info",r)},ready:function(e){if(!h.ready){h.ready=!0;var t={event:"ready",i:++p.logEventIndex,rid:null,searchType:e&&e.searchType||null,raw:e&&e.raw||null,normalized:e&&e.normalized||null,ctx:a(),token:u};d["#timing1"].initDuration&&(t.idur=d["#timing1"].initDuration),d["#timing1"].bootTime&&(t.ttr=Date.now()-d["#timing1"].bootTime),d["#timing1"].constrainDuration&&(t.cdur=d["#timing1"].constrainDuration);var n=o(d["#lib1"].JSON.stringify(t)).substring(0,8);if(n!==p.lastReadyId){t.rid=p.lastReadyId=n;var r=f.coerceDataTypes(t,f.logFields);try{f.validateLogFields(r,f.logFields)}catch(e){return c(this.custom,"ready",e,d,r)}return s("info",r)}}},launched:function(e,t){var n={event:"launched",i:++p.logEventIndex,rid:p.lastReadyId,prepop:e&&e.prepop||null,submitType:e&&e.submitType||null,ctx:a(),token:u};"pa.debug"===t&&l(n,e);var r=f.coerceDataTypes(n,f.logFields);try{f.validateLogFields(r,f.logFields)}catch(e){return c(this.custom,"launched",e,d,r)}return s("log",r,t)},custom:function(t,e,n){e&&"string"==typeof e&&(e={message:e});var r={event:"custom",i:++p.logEventIndex,group:t,data:e,ctx:a(),token:u};"pa.debug"===n&&l(r,e,!0);var i=f.coerceDataTypes(r,f.logFields);try{f.validateLogFields(i,f.logFields)}catch(e){if(d["#cti1"].debug)throw new Error("Malformed message was passed into logger's custom method: "+e);return i.group="malformedData",i.data={severity:t,message:e,givenMessage:i},s("info",i,n)}return s("info",i,n)},alexandriaData:function(e,t){var n={event:"alexandriaData",i:++p.logEventIndex,group:e,search:t,ctx:a(),token:u},r=f.coerceDataTypes(n,f.logFields);try{f.validateLogFields(r,f.logFields)}catch(e){return c(this.custom,"alexandriaData",e,d,r)}return i.logToIndex(r,"cti.alexandria-search-data")},searchData:function(e,t){var n={event:"searchData",i:++p.logEventIndex,group:e,s:function(e){return{departureDate:e.departureDate,returnDate:e.returnDate,numTravelers:e.numTravelers,oneWay:e.oneWay,airportFrom:e.airportFrom,airportTo:e.airportTo}}(t),ctx:a(),token:u},r=f.coerceDataTypes(n,f.logFields);try{f.validateLogFields(r,f.logFields)}catch(e){return c(this.custom,"searchData",e,d,r)}return s("info",r)},info:function(e,t){if(!d["#lib1"]||!d["#lib1"].LODASH.get(d["#lib1"],"_bootOptions.disableLoadedAndInfoLogs")){var n={event:"info",i:++p.logEventIndex,msg:"pa.debug"===t?e.msg:e,ctx:a(),token:u};"pa.debug"===t&&l(n,e);var r=f.coerceDataTypes(n,f.logFields);try{f.validateLogFields(r,f.logFields)}catch(e){return c(this.custom,"info",e,d,r)}return s("info",r,t)}},error:function(e,t){var n=e&&(e.msg||e.message)||e||null;if(h.error||(h.error={}),!h.error[n]){h.error[n]=1;var r=0;if(Object.keys(h.error).forEach(function(e){r+=h.error[e]}),!(3<r)){var i={event:"error",i:++p.logEventIndex,code:e&&e.code||"1",msg:n,file:e&&e.file||null,line:e&&e.line||null,col:e&&e.col||null,trace:e&&e.trace||null,ctx:a(),token:u,callstack:function(){var t=new Error("callstack").stack;if(!t)try{throw new Error("callstack")}catch(e){t=e.stack}return t=t.split("\n").slice(1,6)}()};"pa.debug"===t&&l(i,e);var o=f.coerceDataTypes(i,f.logFields);try{f.validateLogFields(o,f.logFields)}catch(e){return c(this.custom,"error",e,d,o)}return s("error",o,t)}d["#lib1"].SDK&&d["#lib1"].SDK.api(["HEADUP"],function(e){e.HEADUP.showNotification("info","Skip logging error. Too many!")})}}}}var a={};function s(){var e=d["#lib1"].JSON.get(d["#cti1"],["options","dynamicCTZOverride"]);return e&&e.options&&e.options.logger&&e.options.logger.scopes||{}}var t=new function t(n){var r=this,i=!1,o=null;n&&(o=n.join("/"),void 0===a[o]&&(a[o]=!1)),r.scope=function(e){return"string"==typeof e&&(e=[e]),new t((n||[]).concat(e))},r.forceEnableScope=function(){i=!0},r.debug=function(){if(!d["#cti1"].debug){var e=!1;if(o&&s()[o]&&(e=!0),!e)return}if(!0===i||!o||!0===s()[o]){var t=Array.prototype.slice.call(arguments);if(n?t.unshift("[cti:"+n.join(":")+"]"):t.unshift("[cti]"),d["#lib1"].CONSOLE&&d["#lib1"].CONSOLE.callConsoleMethod)return d["#lib1"].CONSOLE.callConsoleMethod("log",t);console.log.apply(console,t)}},r.custom=function(e,t){e&&t&&r.record.custom(e,t)},r.info=function(e){var t=Array.prototype.slice.call(arguments);1<t.length?r.record.info(t.join(" ")):r.record.info(e)},r.error=function(){var e=Array.prototype.slice.call(arguments),t={code:"",msg:"",trace:[]},n=[];if(e.forEach(function(e){e instanceof Error||e&&e.stack?(t.code=e.code||"",t.file=e.file||"",t.line=e.line||"",t.col=e.col||"",t.stack=e.stack||"",t.trace=function(e){return e=e.split("\n"),/^[^:]+: .*$/.test(e[0])&&e.shift(),e.slice(0,4)}(t.stack),n.push(e.name+":"),n.push(e.message)):(e=e||"(falsey)",n.push(e))}),t.msg=n.join(" "),r.record.error(t),d["#cti1"].debug){if(e.unshift("[cti]"),d["#lib1"].CONSOLE&&d["#lib1"].CONSOLE.callConsoleMethod)return d["#lib1"].CONSOLE.callConsoleMethod("error",e);console.error.apply(console,e)}},r.record=e(),r.resetLoggedOnce=function(){r.debug("run","resetLoggedOnce()"),h={}},r.searchData=function(e,t){r.record.searchData(e,t)},r.alexandriaData=function(e,t){r.record.alexandriaData(e,t)},r.logCriticalError=r.error,r.logCaughtError=r.error,r.log=function(e,t){var n=Array.prototype.slice.call(arguments);2<n.length?r.record.custom("support",{severity:e,message:n.slice(1).join(" ")}):r.record.custom("support",{severity:e,message:t})},r.logJSONBlob=function(e,t){r.record.custom("dump",t)},r.metric=function(){if(d["#cti1"].debug&&(!o||!0===s()[o])&&!0===s().Metrics&&d["#lib1"].$){var e=d["#lib1"].$("#_cti_iws_tools_internals_console");e.length&&d["#lib1"].$("<pre>"+d["#lib1"].JSON.stringify(arguments)+"</pre>").appendTo(e)}}},n=t.scope("Metrics");return t.metric={lifecycle:n.scope("lifecycle"),request:n.scope("requests"),response:n.scope("responses")},t.getAllScopes=function(){var t=s();return Object.keys(a).forEach(function(e){a[e]=!!t[e]}),a},t.setScopeEnabled=function(t,n){if(!d["#lib1"].JSON.set)throw new Error("'config[\"#lib1\"].JSON.set' not available!");if(void 0===a[t])throw new Error("Scope with id '"+t+"' not found!");d["#lib1"].JSON.set(d["#cti1"],["options","dynamicCTZOverride"],function(e){e.options.logger||(e.options.logger={}),e.options.logger.scopes||(e.options.logger.scopes={}),n?e.options.logger.scopes[t]=!0:delete e.options.logger.scopes[t]}),d["#lib1"]&&d["#lib1"].headup&&d["#lib1"].headup.redraw()},t}}}}}),e.memoize("/lib/beacon.js",function(e,t,n){var r="2017-04-Beacon_beacon.helper";if(window.___CTS||(window.___CTS=function(e,t){if(window.___CTS[e])return t(window.___CTS[e]);throw new Error("Load helper from uri "+e)}),window.___CTS[r])n.exports=window.___CTS[r];else{window.PINF.sandbox(function(e){e.memoize("/main.js",function(e,t,n){function o(){var n=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(n+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}var a=o();return new function e(r,i){this.Beacon=e,this.emit=function(e,t){try{var n=new(window.XMLHttpRequest||window.ActiveXObject)("MSXML2.XMLHTTP.3.0");n.open("POST",r,1),n.setRequestHeader("Content-type","application/json"),n.send(i.JSON.stringify({fp:a,data:[{type:e,id:o(),attributes:t}]}))}catch(e){console.error(e.stack)}}}("https://www.clicktripz.com/logs")})},function(e){n.exports=window.___CTS[r]=e.main()})}}),e.memoize("/beacon.js",function(e,t,n){var r=e("../lib/beacon");return function(e){var t=e["#cti1"].endpoints.beacon.protocol+e["#cti1"].endpoints.beacon.hostUri,i=new r.Beacon(t,e["#lib1"]);return{log:function(e,t){return n("log",e,t)},logToIndex:function(e,t){return n("log",e,t)},info:function(e,t){return n("info",e,t)},error:function(e,t){return n("error",e,t)}};function n(e,t,n){var r=2<arguments.length&&void 0!==n?n:"cti.lifecycle";return t.vendor=t.ctx&&t.ctx.vendor||"",i.emit(r,t),null}}})},function(e){t.exports=e.main()})},{}],"lib/cti.sdk/lib/libs/2017-11-HUD_loader.helper.js":[function(e,t,n){"use strict";window.PINF.sandbox(function(e){e.memoize("/main.js",function(e,t,n){t.forSDK=function(r){var i=r.LIB.Promise.defer();function t(t){if(t.qs&&"1"===t.qs.CTI_HUD?r.LIB.COOKIE.set("CTI_HUD","1"):t.qs&&"0"===t.qs.CTI_HUD&&r.LIB.COOKIE.remove("CTI_HUD"),(r.DEBUG||t.qs&&"1"===t.qs.CTI_HUD||"1"===r.LIB.COOKIE.get("CTI_HUD"))&&t.qs&&"0"!==t.qs.CTI_HUD&&r.LIB.config.options&&!0===r.LIB.config.options.displayDebugTools){r.LIB.dom.window.fetch("https://www.clicktripz.com/integrations/api/widget/is_loggedin.php",{method:"GET",cache:"no-store",redirect:"manual",mode:"cors",credentials:"include"}).then(function(e){return 200===e.status||(r.LIB.logger.debug("Skip show HUD due to not authenticated!"),!1)}).catch(function(e){return r.LIB.logger.debug("Error while checking if authenticated:",e),!1}).then(function(e){if(!e)return r.LIB.logger.debug("Skip loading HUD due to not authenticated"),null;r.TOOLS.ensurePlugin("2017-11-HUD.cti1",{}).then(function(n){return r.LIB.headup={redraw:n.redraw,showNotification:n.showNotification},Object.keys(t.qs).forEach(function(e){/^CTI_/.test(e)&&"CTI_HUD"!==e&&(n._headup.overrides.items["QS:"+e]=t.qs[e])}),r.LIB.HEADUP.counts&&(Object.keys(r.LIB.HEADUP.counts).forEach(function(e){n.incrementCount(e,r.LIB.HEADUP.counts[e])}),delete r.LIB.HEADUP.counts),r.LIB.HEADUP.incrementCount=n.incrementCount,r.LIB.HEADUP.used&&(Object.keys(r.LIB.HEADUP.used).forEach(function(t){Object.keys(r.LIB.HEADUP.used[t]).forEach(function(e){n.incrementUsage(t,e,r.LIB.HEADUP.used[t][e])})}),delete r.LIB.HEADUP.used),r.LIB.HEADUP.incrementUsage=n.incrementUsage,i.resolve(null),null})})}return null}return r.API.WINDOW.on.changed("url",function(e){t(e)}),{showNotification:function(e,t,n){return r.LIB.headup&&r.LIB.headup.showNotification?r.LIB.headup.showNotification(e,t,n):i.promise.then(function(){return r.LIB.headup.showNotification(e,t,n)}).catch(function(e){throw e})}}}})},function(e){t.exports=e.main()})},{}],"lib/cti.sdk/lib/libs/2018-02-BackendEndpoint_endpoint.helper.js":[function(e,t,n){"use strict";window.PINF.sandbox(function(e){var r=null;e.memoize("/main.js",function(e,t,n){t.forLib=function(f){function t(d){return new f.Promise(function(r,i){try{if(!d.method)throw new Error("'request.method' must be set!");if(!d.url){if(!d.path)throw new Error("'request.path' or 'request.url' must be set!");d.url=f.config["#cti1"].endpoints.www.protocol+f.config["#cti1"].endpoints.www.hostUri+d.path}var o=d.url,e=0!=d.withCredentials;if(d.query)if("string"!=typeof d.query){var t=[];Object.keys(d.query).forEach(function(e){t.push(f.dom.window.encodeURIComponent(e)+"="+f.dom.window.encodeURIComponent(d.query[e]))}),o+="?"+t.join("&")}else o+="?"+d.query;if(window.CTI_METRIC&&window.CTI_METRIC("request",{event:"Endpoint Request",request:d}),"JSONP"!==d.method){var n=window.XDomainRequest&&window.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType,a=!1;if(n?((a=new window.XDomainRequest).onprogress=function(){},a.ontimeout=function(){i(new Error("The XDR request timed out"))},a.onload=function(){var e=this.responseText||"{}";r(JSON.parse(e)),window.CTI_METRIC&&window.CTI_METRIC("response",{event:"Endpoint Response",request:d,response:e})},a.onerror=function(){i(new Error("The XDR request failed"))}):a=new window.XMLHttpRequest,d.sync?(f.logger.debug("**************************************************************************************************"),f.logger.debug("[backendEndpoint] please use sync calls with caution as it will break or ruin user's experience!"),f.logger.debug("**************************************************************************************************"),a.open(d.method,o,!1)):a.open(d.method,o,!0),n||(a.withCredentials=e,!function(t){return f.LODASH.some([/\/api\/publishers\/v1\/user\/update$/,/\/api\/integrations\/v1\/constrain/,/\/api\/publishers\/v2\/sessions/,/(n1\.clicktripz\.com|n1)\/ue\/v0/],function(e){return new RegExp(e).test(t)})}(o)&&"GET"!==d.method?a.setRequestHeader("Content-type","application/json"):a.setRequestHeader("Content-type","text/plain")),a.onreadystatechange=function(e){if(4===this.readyState)if(200==this.status||202==this.status){var t=this.responseText||"",n=this.getResponseHeader("Content-Type");/^application\/(javascript|json)($|\s*;)/.test(n)&&(""===t||/^\{/.test(t))&&(t=JSON.parse(t||"{}")),r(t),window.CTI_METRIC&&window.CTI_METRIC("response",{event:"Endpoint Response",request:d,response:t})}else i(new Error("Got status '"+this.status+"' when calling URL '"+o+"'!"))},"GET"===d.method)a.send();else{if("POST"!==d.method)throw new Error("Unknown method '"+d.method+"'!");if(n)throw new Error("Not yet implemented! (useXDR; for IE?)");if(!d.json)throw new Error("'request.json' not set!");if(a.send(JSON.stringify(d.json)),d.sync){var s=a.responseText||"{}";r(JSON.parse(s))}}}else{var l=!1,c="_ctz_callback_jsonp_"+f.CRYPTO.generateUUID().replace(/\-/g,"");f.dom.window[c]=function(e){r(e);try{delete f.dom.window[c]}catch(e){}f.dom.window[c]=null},-1<o.indexOf("?")?o+="&":o+="?",o+="callback="+c;var u=f.dom.window.document.createElement("script");u.src=o,u.async=!0,u.onload=u.onreadystatechange=function(){l||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(l=!0,u.onload=u.onreadystatechange=null,u&&u.parentNode&&u.parentNode.removeChild(u))},f.dom.window.document.head.appendChild(u)}}catch(e){return i(e)}})}return r=r||{call:function(e){return t(e)}}}})},function(e){t.exports=e.main()})},{}],"lib/cti.sdk/lib/libs/bluebird.js":[function(e,t,n){(function(ae,U,u){"use strict";var se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports=function(){var e,t,n;return function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t=typeof _dereq_=="function"&&_dereq_;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};a[n][0].call(i.exports,function(e){var t=a[n][1][e];return c(t?t:e)},i,i.exports,o,a,s,l)}return s[n].exports}var u=typeof _dereq_=="function"&&_dereq_;for(var e=0;e<l.length;e++){c(l[e])}return c}({1:[function(e,t,n){"use strict";t.exports=function(e){var r=e._SomePromiseArray;function t(e){var t=new r(e);var n=t.promise();t.setHowMany(1);t.setUnwrap();t.init();return n}e.any=function(e){return t(e)};e.prototype.any=function(){return t(this)}}},{}],2:[function(e,t,n){"use strict";var r;try{throw new Error}catch(e){r=e}var i=e("./schedule");var o=e("./queue");var a=e("./util");function s(){this._customScheduler=false;this._isTickUsed=false;this._lateQueue=new o(16);this._normalQueue=new o(16);this._haveDrainedQueues=false;this._trampolineEnabled=true;var e=this;this.drainQueues=function(){e._drainQueues()};this._schedule=i}s.prototype.setScheduler=function(e){var t=this._schedule;this._schedule=e;this._customScheduler=true;return t};s.prototype.hasCustomScheduler=function(){return this._customScheduler};s.prototype.enableTrampoline=function(){this._trampolineEnabled=true};s.prototype.disableTrampolineIfNecessary=function(){if(a.hasDevTools){this._trampolineEnabled=false}};s.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues};s.prototype.fatalError=function(e,t){if(t){ae.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n");ae.exit(2)}else{this.throwLater(e)}};s.prototype.throwLater=function(e,t){if(arguments.length===1){t=e;e=function e(){throw t}}if(typeof setTimeout!=="undefined"){setTimeout(function(){e(t)},0)}else try{this._schedule(function(){e(t)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}};function l(e,t,n){this._lateQueue.push(e,t,n);this._queueTick()}function c(e,t,n){this._normalQueue.push(e,t,n);this._queueTick()}function u(e){this._normalQueue._pushOne(e);this._queueTick()}if(!a.hasDevTools){s.prototype.invokeLater=l;s.prototype.invoke=c;s.prototype.settlePromises=u}else{s.prototype.invokeLater=function(e,t,n){if(this._trampolineEnabled){l.call(this,e,t,n)}else{this._schedule(function(){setTimeout(function(){e.call(t,n)},100)})}};s.prototype.invoke=function(e,t,n){if(this._trampolineEnabled){c.call(this,e,t,n)}else{this._schedule(function(){e.call(t,n)})}};s.prototype.settlePromises=function(e){if(this._trampolineEnabled){u.call(this,e)}else{this._schedule(function(){e._settlePromises()})}}}s.prototype._drainQueue=function(e){while(e.length()>0){var t=e.shift();if(typeof t!=="function"){t._settlePromises();continue}var n=e.shift();var r=e.shift();t.call(n,r)}};s.prototype._drainQueues=function(){this._drainQueue(this._normalQueue);this._reset();this._haveDrainedQueues=true;this._drainQueue(this._lateQueue)};s.prototype._queueTick=function(){if(!this._isTickUsed){this._isTickUsed=true;this._schedule(this.drainQueues)}};s.prototype._reset=function(){this._isTickUsed=false};t.exports=s;t.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(o,a,s,l){var c=false;var r=function e(t,n){this._reject(n)};var u=function e(t,n){n.promiseRejectionQueued=true;n.bindingPromise._then(r,r,null,this,t)};var d=function e(t,n){if((this._bitField&50397184)===0){this._resolveCallback(n.target)}};var f=function e(t,n){if(!n.promiseRejectionQueued)this._reject(t)};o.prototype.bind=function(e){if(!c){c=true;o.prototype._propagateFrom=l.propagateFromFunction();o.prototype._boundValue=l.boundValueFunction()}var t=s(e);var n=new o(a);n._propagateFrom(this,1);var r=this._target();n._setBoundTo(t);if(t instanceof o){var i={promiseRejectionQueued:false,promise:n,target:r,bindingPromise:t};r._then(a,u,undefined,n,i);t._then(d,f,undefined,n,i);n._setOnCancel(t)}else{n._resolveCallback(r)}return n};o.prototype._setBoundTo=function(e){if(e!==undefined){this._bitField=this._bitField|2097152;this._boundTo=e}else{this._bitField=this._bitField&~2097152}};o.prototype._isBound=function(){return(this._bitField&2097152)===2097152};o.bind=function(e,t){return window._cti_backfill_function_prototype_bind(o.resolve(t),e)}}},{}],4:[function(e,t,n){"use strict";var r;if(typeof Promise!=="undefined")r=Promise;function i(){try{if(Promise===o)Promise=r}catch(e){}return o}var o=e("./promise")();o.noConflict=i;t.exports=o},{"./promise":22}],5:[function(e,t,n){"use strict";var r=window._cti_backfill_object_create;if(r){var g=r(null);var m=r(null);g[" size"]=m[" size"]=0}t.exports=function(i){var o=e("./util");var a=o.canEvaluate;var s=o.isIdentifier;var r;var l;if(!true){var n=function e(t){return new Function("ensureMethod","                                    \n        return function(obj) {                                               \n            'use strict'                                                     \n            var len = this.length;                                           \n            ensureMethod(obj, 'methodName');                                 \n            switch(len) {                                                    \n                case 1: return obj.methodName(this[0]);                      \n                case 2: return obj.methodName(this[0], this[1]);             \n                case 3: return obj.methodName(this[0], this[1], this[2]);    \n                case 0: return obj.methodName();                             \n                default:                                                     \n                    return obj.methodName.apply(obj, this);                  \n            }                                                                \n        };                                                                   \n        ".replace(/methodName/g,t))(d)};var c=function e(t){return new Function("obj","                                             \n        'use strict';                                                        \n        return obj.propertyName;                                             \n        ".replace("propertyName",t))};var u=function e(t,n,r){var i=r[t];if(typeof i!=="function"){if(!s(t)){return null}i=n(t);r[t]=i;r[" size"]++;if(r[" size"]>512){var o=Object.keys(r);for(var a=0;a<256;++a){delete r[o[a]]}r[" size"]=o.length-256}}return i};r=function e(t){return u(t,n,g)};l=function e(t){return u(t,c,m)}}function d(e,t){var n;if(e!=null)n=e[t];if(typeof n!=="function"){var r="Object "+o.classString(e)+" has no method '"+o.toString(t)+"'";throw new i.TypeError(r)}return n}function f(e){var t=this.pop();var n=d(e,t);return n.apply(e,this)}i.prototype.call=function(e){var t=[].slice.call(arguments,1);if(!true){if(a){var n=r(e);if(n!==null){return this._then(n,undefined,undefined,t,undefined)}}}t.push(e);return this._then(f,undefined,undefined,t,undefined)};function p(e){return e[this]}function h(e){var t=+this;if(t<0)t=Math.max(0,t+e.length);return e[t]}i.prototype.get=function(e){var t=typeof e==="number";var n;if(!t){if(a){var r=l(e);n=r!==null?r:p}else{n=p}}else{n=h}return this._then(n,undefined,undefined,e,undefined)}}},{"./util":36}],6:[function(l,e,t){"use strict";e.exports=function(e,t,n,r){var i=l("./util");var o=i.tryCatch;var a=i.errorObj;var s=e._async;e.prototype["break"]=e.prototype.cancel=function(){if(!r.cancellation())return this._warn("cancellation is disabled");var e=this;var t=e;while(e._isCancellable()){if(!e._cancelBy(t)){if(t._isFollowing()){t._followee().cancel()}else{t._cancelBranched()}break}var n=e._cancellationParent;if(n==null||!n._isCancellable()){if(e._isFollowing()){e._followee().cancel()}else{e._cancelBranched()}break}else{if(e._isFollowing())e._followee().cancel();e._setWillBeCancelled();t=e;e=n}}};e.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--};e.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===undefined||this._branchesRemainingToCancel<=0};e.prototype._cancelBy=function(e){if(e===this){this._branchesRemainingToCancel=0;this._invokeOnCancel();return true}else{this._branchHasCancelled();if(this._enoughBranchesHaveCancelled()){this._invokeOnCancel();return true}}return false};e.prototype._cancelBranched=function(){if(this._enoughBranchesHaveCancelled()){this._cancel()}};e.prototype._cancel=function(){if(!this._isCancellable())return;this._setCancelled();s.invoke(this._cancelPromises,this,undefined)};e.prototype._cancelPromises=function(){if(this._length()>0)this._settlePromises()};e.prototype._unsetOnCancel=function(){this._onCancelField=undefined};e.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()};e.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()};e.prototype._doInvokeOnCancel=function(e,t){if(i.isArray(e)){for(var n=0;n<e.length;++n){this._doInvokeOnCancel(e[n],t)}}else if(e!==undefined){if(typeof e==="function"){if(!t){var r=o(e).call(this._boundValue());if(r===a){this._attachExtraTrace(r.e);s.throwLater(r.e)}}}else{e._resultCancelled(this)}}};e.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel();s.invoke(this._doInvokeOnCancel,this,e)};e.prototype._invokeInternalOnCancel=function(){if(this._isCancellable()){this._doInvokeOnCancel(this._onCancel(),true);this._unsetOnCancel()}};e.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,n){"use strict";e.exports=function(d){var f=t("./util");var p=t("./es5").keys;var h=f.tryCatch;var g=f.errorObj;function e(l,c,u){return function(e){var t=u._boundValue();e:for(var n=0;n<l.length;++n){var r=l[n];if(r===Error||r!=null&&r.prototype instanceof Error){if(e instanceof r){return h(c).call(t,e)}}else if(typeof r==="function"){var i=h(r).call(t,e);if(i===g){return i}else if(i){return h(c).call(t,e)}}else if(f.isObject(e)){var o=p(r);for(var a=0;a<o.length;++a){var s=o[a];if(r[s]!=e[s]){continue e}}return h(c).call(t,e)}}return d}}return e}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(o){var a=false;var n=[];o.prototype._promiseCreated=function(){};o.prototype._pushContext=function(){};o.prototype._popContext=function(){return null};o._peekContext=o.prototype._peekContext=function(){};function s(){this._trace=new s.CapturedTrace(l())}s.prototype._pushContext=function(){if(this._trace!==undefined){this._trace._promiseCreated=null;n.push(this._trace)}};s.prototype._popContext=function(){if(this._trace!==undefined){var e=n.pop();var t=e._promiseCreated;e._promiseCreated=null;return t}return null};function e(){if(a)return new s}function l(){var e=n.length-1;if(e>=0){return n[e]}return undefined}s.CapturedTrace=null;s.create=e;s.deactivateLongStackTraces=function(){};s.activateLongStackTraces=function(){var e=o.prototype._pushContext;var t=o.prototype._popContext;var n=o._peekContext;var r=o.prototype._peekContext;var i=o.prototype._promiseCreated;s.deactivateLongStackTraces=function(){o.prototype._pushContext=e;o.prototype._popContext=t;o._peekContext=n;o.prototype._peekContext=r;o.prototype._promiseCreated=i;a=false};a=true;o.prototype._pushContext=s.prototype._pushContext;o.prototype._popContext=s.prototype._popContext;o._peekContext=o.prototype._peekContext=l;o.prototype._promiseCreated=function(){var e=this._peekContext();if(e&&e._promiseCreated==null)e._promiseCreated=this}};return s}},{}],9:[function(oe,e,t){"use strict";e.exports=function(a,r){var n=a._getDomain;var o=a._async;var s=oe("./errors").Warning;var l=oe("./util");var i=l.canAttachTrace;var c;var u;var d=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/;var h=/\((?:timers\.js):\d+:\d+\)/;var g=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/;var f=null;var p=null;var m=false;var v;var e=!!(l.env("BLUEBIRD_DEBUG")!=0&&(true||l.env("BLUEBIRD_DEBUG")||l.env("NODE_ENV")==="development"));var t=!!(l.env("BLUEBIRD_WARNINGS")!=0&&(e||l.env("BLUEBIRD_WARNINGS")));var y=!!(l.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(e||l.env("BLUEBIRD_LONG_STACK_TRACES")));var b=l.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(t||!!l.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=e._bitField&~1048576|524288};a.prototype._ensurePossibleRejectionHandled=function(){if((this._bitField&524288)!==0)return;this._setRejectionIsUnhandled();var e=this;setTimeout(function(){e._notifyUnhandledRejection()},1)};a.prototype._notifyUnhandledRejectionIsHandled=function(){K("rejectionHandled",c,undefined,this)};a.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456};a.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0};a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified();K("unhandledRejection",u,e,this)}};a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144};a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&~262144};a.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0};a.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576};a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&~1048576;if(this._isUnhandledRejectionNotified()){this._unsetUnhandledRejectionIsNotified();this._notifyUnhandledRejectionIsHandled()}};a.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0};a.prototype._warn=function(e,t,n){return F(e,t,n||this)};a.onPossiblyUnhandledRejection=function(e){var t=n();u=typeof e==="function"?t===null?e:l.domainBind(t,e):undefined};a.onUnhandledRejectionHandled=function(e){var t=n();c=typeof e==="function"?t===null?e:l.domainBind(t,e):undefined};var w=function e(){};a.longStackTraces=function(){if(o.haveItemsQueued()&&!ie.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}if(!ie.longStackTraces&&J()){var t=a.prototype._captureStackTrace;var n=a.prototype._attachExtraTrace;ie.longStackTraces=true;w=function e(){if(o.haveItemsQueued()&&!ie.longStackTraces){throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n")}a.prototype._captureStackTrace=t;a.prototype._attachExtraTrace=n;r.deactivateLongStackTraces();o.enableTrampoline();ie.longStackTraces=false};a.prototype._captureStackTrace=B;a.prototype._attachExtraTrace=M;r.activateLongStackTraces();o.disableTrampolineIfNecessary()}};a.hasLongStackTraces=function(){return ie.longStackTraces&&J()};var _=function(){try{if(typeof CustomEvent==="function"){var e=new CustomEvent("CustomEvent");l.global.dispatchEvent(e);return function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:true});return!l.global.dispatchEvent(n)}}else if(typeof Event==="function"){var e=new Event("CustomEvent");l.global.dispatchEvent(e);return function(e,t){var n=new Event(e.toLowerCase(),{cancelable:true});n.detail=t;return!l.global.dispatchEvent(n)}}else{var e=document.createEvent("CustomEvent");e.initCustomEvent("testingtheevent",false,true,{});l.global.dispatchEvent(e);return function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e.toLowerCase(),false,true,t);return!l.global.dispatchEvent(n)}}}catch(e){}return function(){return false}}();var T=function(){if(l.isNode){return function(){return ae.emit.apply(ae,arguments)}}else{if(!l.global){return function(){return false}}return function(e){var t="on"+e.toLowerCase();var n=l.global[t];if(!n)return false;n.apply(l.global,[].slice.call(arguments,1));return true}}}();function k(e,t){return{promise:t}}var D={promiseCreated:k,promiseFulfilled:k,promiseRejected:k,promiseResolved:k,promiseCancelled:k,promiseChained:function e(t,n,r){return{promise:n,child:r}},warning:function e(t,n){return{warning:n}},unhandledRejection:function e(t,n,r){return{reason:n,promise:r}},rejectionHandled:k};var S=function e(t){return false};a.config=function(e){e=Object(e);if("longStackTraces"in e){if(e.longStackTraces){a.longStackTraces()}else if(!e.longStackTraces&&a.hasLongStackTraces()){w()}}if("warnings"in e){var t=e.warnings;ie.warnings=!!t;b=ie.warnings;if(l.isObject(t)){if("wForgottenReturn"in t){b=!!t.wForgottenReturn}}}if("cancellation"in e&&e.cancellation&&!ie.cancellation){if(o.haveItemsQueued()){throw new Error("cannot enable cancellation after promises are in use")}a.prototype._clearCancellationData=L;a.prototype._propagateFrom=I;a.prototype._onCancel=A;a.prototype._setOnCancel=O;a.prototype._attachCancellationCallback=E;a.prototype._execute=C;j=I;ie.cancellation=true}if("monitoring"in e){if(e.monitoring&&!ie.monitoring){ie.monitoring=true;a.prototype._fireEvent=S}else if(!e.monitoring&&ie.monitoring){ie.monitoring=false;a.prototype._fireEvent=x}}return a};function x(){return false}a.prototype._fireEvent=x;a.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}};a.prototype._onCancel=function(){};a.prototype._setOnCancel=function(e){};a.prototype._attachCancellationCallback=function(e){};a.prototype._captureStackTrace=function(){};a.prototype._attachExtraTrace=function(){};a.prototype._clearCancellationData=function(){};a.prototype._propagateFrom=function(e,t){};function C(e,t,n){var r=this;try{e(t,n,function(e){if(typeof e!=="function"){throw new TypeError("onCancel must be a function, got: "+l.toString(e))}r._attachCancellationCallback(e)})}catch(e){return e}}function E(e){if(!this._isCancellable())return this;var t=this._onCancel();if(t!==undefined){if(l.isArray(t)){t.push(e)}else{this._setOnCancel([t,e])}}else{this._setOnCancel(e)}}function A(){return this._onCancelField}function O(e){this._onCancelField=e}function L(){this._cancellationParent=undefined;this._onCancelField=undefined}function I(e,t){if((t&1)!==0){this._cancellationParent=e;var n=e._branchesRemainingToCancel;if(n===undefined){n=0}e._branchesRemainingToCancel=n+1}if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}function P(e,t){if((t&2)!==0&&e._isBound()){this._setBoundTo(e._boundTo)}}var j=P;function R(){var e=this._boundTo;if(e!==undefined){if(e instanceof a){if(e.isFulfilled()){return e.value()}else{return undefined}}}return e}function B(){this._trace=new ne(this._peekContext())}function M(e,t){if(i(e)){var n=this._trace;if(n!==undefined){if(t)n=n._parent}if(n!==undefined){n.attachExtraTrace(e)}else if(!e.__stackCleaned__){var r=W(e);l.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n"));l.notEnumerableProp(e,"__stackCleaned__",true)}}}function N(e,t,n,r,i){if(e===undefined&&t!==null&&b){if(i!==undefined&&i._returnedNonUndefined())return;if((r._bitField&65535)===0)return;if(n)n=n+" ";var o="";var a="";if(t._trace){var s=t._trace.stack.split("\n");var l=Y(s);for(var c=l.length-1;c>=0;--c){var u=l[c];if(!h.test(u)){var d=u.match(g);if(d){o="at "+d[1]+":"+d[2]+":"+d[3]+" "}break}}if(l.length>0){var f=l[0];for(var c=0;c<s.length;++c){if(s[c]===f){if(c>0){a="\n"+s[c-1]}break}}}}var p="a promise was created in a "+n+"handler "+o+"but was not returned from it, "+"see http://goo.gl/rRqMUw"+a;r._warn(p,true,t)}}function H(e,t){var n=e+" is deprecated and will be removed in a future version.";if(t)n+=" Use "+t+" instead.";return F(n)}function F(e,t,n){if(!ie.warnings)return;var r=new s(e);var i;if(t){n._attachExtraTrace(r)}else if(ie.longStackTraces&&(i=a._peekContext())){i.attachExtraTrace(r)}else{var o=W(r);r.stack=o.message+"\n"+o.stack.join("\n")}if(!S("warning",r)){G(r,"",true)}}function U(e,t){for(var n=0;n<t.length-1;++n){t[n].push("From previous event:");t[n]=t[n].join("\n")}if(n<t.length){t[n]=t[n].join("\n")}return e+"\n"+t.join("\n")}function z(e){for(var t=0;t<e.length;++t){if(e[t].length===0||t+1<e.length&&e[t][0]===e[t+1][0]){e.splice(t,1);t--}}}function V(e){var t=e[0];for(var n=1;n<e.length;++n){var r=e[n];var i=t.length-1;var o=t[i];var a=-1;for(var s=r.length-1;s>=0;--s){if(r[s]===o){a=s;break}}for(var s=a;s>=0;--s){var l=r[s];if(t[i]===l){t.pop();i--}else{break}}t=r}}function Y(e){var t=[];for(var n=0;n<e.length;++n){var r=e[n];var i="    (No stack trace)"===r||f.test(r);var o=i&&Q(r);if(i&&!o){if(m&&r.charAt(0)!==" "){r="    "+r}t.push(r)}}return t}function q(e){var t=e.stack.replace(/\s+$/g,"").split("\n");for(var n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||f.test(r)){break}}if(n>0&&e.name!="SyntaxError"){t=t.slice(n)}return t}function W(e){var t=e.stack;var n=e.toString();t=typeof t==="string"&&t.length>0?q(e):["    (No stack trace)"];return{message:n,stack:e.name=="SyntaxError"?t:Y(t)}}function G(e,t,n){if(typeof console!=="undefined"){var r;if(l.isObject(e)){var i=e.stack;r=t+p(i,e)}else{r=t+String(e)}if(typeof v==="function"){v(r,n)}else if(typeof console.log==="function"||se(console.log)==="object"){console.log(r)}}}function K(e,t,n,r){var i=false;try{if(typeof t==="function"){i=true;if(e==="rejectionHandled"){t(r)}else{t(n,r)}}}catch(e){o.throwLater(e)}}function $(e){var t;if(typeof e==="function"){t="[function "+(e.name||"anonymous")+"]"}else{t=e&&typeof e.toString==="function"?e.toString():l.toString(e);var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(t)){try{var r=JSON.stringify(e);t=r}catch(e){}}if(t.length===0){t="(empty array)"}}return"(<"+X(t)+">, no stack trace)"}function X(e){var t=41;if(e.length<t){return e}return e.substr(0,t-3)+"..."}function J(){return typeof re==="function"}var Q=function e(){return false};var Z=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function ee(e){var t=e.match(Z);if(t){return{fileName:t[1],line:parseInt(t[2],10)}}}function te(e,t){if(!J())return;var n=e.stack.split("\n");var r=t.stack.split("\n");var i=-1;var o=-1;var a;var s;for(var l=0;l<n.length;++l){var c=ee(n[l]);if(c){a=c.fileName;i=c.line;break}}for(var l=0;l<r.length;++l){var c=ee(r[l]);if(c){s=c.fileName;o=c.line;break}}if(i<0||o<0||!a||!s||a!==s||i>=o){return}Q=function e(t){if(d.test(t))return true;var n=ee(t);if(n){if(n.fileName===a&&i<=n.line&&n.line<=o){return true}}return false}}function ne(e){this._parent=e;this._promisesCreated=0;var t=this._length=1+(e===undefined?0:e._length);re(this,ne);if(t>32)this.uncycle()}l.inherits(ne,Error);r.CapturedTrace=ne;ne.prototype.uncycle=function(){var e=this._length;if(e<2)return;var t=[];var n={};for(var r=0,i=this;i!==undefined;++r){t.push(i);i=i._parent}e=this._length=r;for(var r=e-1;r>=0;--r){var o=t[r].stack;if(n[o]===undefined){n[o]=r}}for(var r=0;r<e;++r){var a=t[r].stack;var s=n[a];if(s!==undefined&&s!==r){if(s>0){t[s-1]._parent=undefined;t[s-1]._length=1}t[r]._parent=undefined;t[r]._length=1;var l=r>0?t[r-1]:this;if(s<e-1){l._parent=t[s+1];l._parent.uncycle();l._length=l._parent._length+1}else{l._parent=undefined;l._length=1}var c=l._length+1;for(var u=r-2;u>=0;--u){t[u]._length=c;c++}return}}};ne.prototype.attachExtraTrace=function(e){if(e.__stackCleaned__)return;this.uncycle();var t=W(e);var n=t.message;var r=[t.stack];var i=this;while(i!==undefined){r.push(Y(i.stack.split("\n")));i=i._parent}V(r);z(r);l.notEnumerableProp(e,"stack",U(n,r));l.notEnumerableProp(e,"__stackCleaned__",true)};var re=function e(){var t=/^\s*at\s*/;var n=function e(t,n){if(typeof t==="string")return t;if(n.name!==undefined&&n.message!==undefined){return n.toString()}return $(n)};if(typeof Error.stackTraceLimit==="number"&&typeof Error.captureStackTrace==="function"){Error.stackTraceLimit+=6;f=t;p=n;var r=Error.captureStackTrace;Q=function e(t){return d.test(t)};return function(e,t){Error.stackTraceLimit+=6;r(e,t);Error.stackTraceLimit-=6}}var i=new Error;if(typeof i.stack==="string"&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0){f=/@/;p=n;m=true;return function e(t){t.stack=(new Error).stack}}var o;try{throw new Error}catch(e){o="stack"in e}if(!("stack"in i)&&o&&typeof Error.stackTraceLimit==="number"){f=t;p=n;return function e(t){Error.stackTraceLimit+=6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit-=6}}p=function e(t,n){if(typeof t==="string")return t;if(((typeof n==="undefined"?"undefined":se(n))==="object"||typeof n==="function")&&n.name!==undefined&&n.message!==undefined){return n.toString()}return $(n)};return null}([]);v=function e(t){if(!a._console||typeof a._console.warn!=="function"){return}a._console.warn(t)};var ie={warnings:t,longStackTraces:false,cancellation:false,monitoring:false};if(y)a.longStackTraces();return{longStackTraces:function e(){return ie.longStackTraces},warnings:function e(){return ie.warnings},cancellation:function e(){return ie.cancellation},monitoring:function e(){return ie.monitoring},propagateFromFunction:function e(){return j},boundValueFunction:function e(){return R},checkForgottenReturns:N,setBounds:te,warn:F,deprecated:H,CapturedTrace:ne,fireDomEvent:_,fireGlobalEvent:T}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(r){function i(){return this.value}function o(){throw this.reason}r.prototype["return"]=r.prototype.thenReturn=function(e){if(e instanceof r)e.suppressUnhandledRejections();return this._then(i,undefined,undefined,{value:e},undefined)};r.prototype["throw"]=r.prototype.thenThrow=function(e){return this._then(o,undefined,undefined,{reason:e},undefined)};r.prototype.catchThrow=function(e){if(arguments.length<=1){return this._then(undefined,o,undefined,{reason:e},undefined)}else{var t=arguments[1];var n=function e(){throw t};return this.caught(e,n)}};r.prototype.catchReturn=function(e){if(arguments.length<=1){if(e instanceof r)e.suppressUnhandledRejections();return this._then(undefined,i,undefined,{value:e},undefined)}else{var t=arguments[1];if(t instanceof r)t.suppressUnhandledRejections();var n=function e(){return t};return this.caught(e,n)}}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,n){var r=e.reduce;var t=e.all;function i(){return t(this)}function o(e,t){return r(e,t,n,n)}e.prototype.each=function(e){return r(this,e,n,0)._then(i,undefined,undefined,this,undefined)};e.prototype.mapSeries=function(e){return r(this,e,n,n)};e.each=function(e,t){return r(e,t,n,0)._then(i,undefined,undefined,e,undefined)};e.mapSeries=o}},{}],12:[function(e,t,n){"use strict";var r=e("./es5");var i=r.freeze;var o=e("./util");var a=o.inherits;var s=o.notEnumerableProp;function l(t,n){function r(e){if(!(this instanceof r))return new r(e);s(this,"message",typeof e==="string"?e:n);s(this,"name",t);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}else{Error.call(this)}}a(r,Error);return r}var c,u;var d=l("Warning","warning");var f=l("CancellationError","cancellation error");var p=l("TimeoutError","timeout error");var h=l("AggregateError","aggregate error");try{c=TypeError;u=RangeError}catch(e){c=l("TypeError","type error");u=l("RangeError","range error")}var g=("join pop push shift unshift slice filter forEach some "+"every map indexOf lastIndexOf reduce reduceRight sort reverse").split(" ");for(var m=0;m<g.length;++m){if(typeof Array.prototype[g[m]]==="function"){h.prototype[g[m]]=Array.prototype[g[m]]}}r.defineProperty(h.prototype,"length",{value:0,configurable:false,writable:true,enumerable:true});h.prototype["isOperational"]=true;var v=0;h.prototype.toString=function(){var e=Array(v*4+1).join(" ");var t="\n"+e+"AggregateError of:"+"\n";v++;e=Array(v*4+1).join(" ");for(var n=0;n<this.length;++n){var r=this[n]===this?"[Circular AggregateError]":this[n]+"";var i=r.split("\n");for(var o=0;o<i.length;++o){i[o]=e+i[o]}r=i.join("\n");t+=r+"\n"}v--;return t};function y(e){if(!(this instanceof y))return new y(e);s(this,"name","OperationalError");s(this,"message",e);this.cause=e;this["isOperational"]=true;if(e instanceof Error){s(this,"message",e.message);s(this,"stack",e.stack)}else if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}a(y,Error);var b=Error["__BluebirdErrorTypes__"];if(!b){b=i({CancellationError:f,TimeoutError:p,OperationalError:y,RejectionError:y,AggregateError:h});r.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:false,enumerable:false,configurable:false})}t.exports={Error:Error,TypeError:c,RangeError:u,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:d}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return this===undefined}();if(r){t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function e(t,n){var r=Object.getOwnPropertyDescriptor(t,n);return!!(!r||r.writable||r.set)}}}else{var i={}.hasOwnProperty;var o={}.toString;var a={}.constructor.prototype;var s=function e(t){var n=[];for(var r in t){if(i.call(t,r)){n.push(r)}}return n};var l=function e(t,n){return{value:t[n]}};var c=function e(t,n,r){t[n]=r.value;return t};var u=function e(t){return t};var d=function e(t){try{return Object(t).constructor.prototype}catch(e){return a}};var f=function e(t){try{return o.call(t)==="[object Array]"}catch(e){return false}};t.exports={isArray:f,keys:s,names:s,defineProperty:c,getDescriptor:l,freeze:u,getPrototypeOf:d,isES5:r,propertyIsWritable:function e(){return true}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,r){var i=e.map;e.prototype.filter=function(e,t){return i(this,e,t,r)};e.filter=function(e,t,n){return i(e,t,n,r)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(s,a,l){var c=e("./util");var u=s.CancellationError;var d=c.errorObj;var f=e("./catch_filter")(l);function i(e,t,n){this.promise=e;this.type=t;this.handler=n;this.called=false;this.cancelPromise=null}i.prototype.isFinallyHandler=function(){return this.type===0};function p(e){this.finallyHandler=e}p.prototype._resultCancelled=function(){h(this.finallyHandler)};function h(e,t){if(e.cancelPromise!=null){if(arguments.length>1){e.cancelPromise._reject(t)}else{e.cancelPromise._cancel()}e.cancelPromise=null;return true}return false}function g(){return v.call(this,this.promise._target()._settledValue())}function m(e){if(h(this,e))return;d.e=e;return d}function v(e){var t=this.promise;var n=this.handler;if(!this.called){this.called=true;var r=this.isFinallyHandler()?n.call(t._boundValue()):n.call(t._boundValue(),e);if(r===l){return r}else if(r!==undefined){t._setReturnedNonUndefined();var i=a(r,t);if(i instanceof s){if(this.cancelPromise!=null){if(i._isCancelled()){var o=new u("late cancellation observer");t._attachExtraTrace(o);d.e=o;return d}else if(i.isPending()){i._attachCancellationCallback(new p(this))}}return i._then(g,m,undefined,this,undefined)}}}if(t.isRejected()){h(this);d.e=e;return d}else{h(this);return e}}s.prototype._passThrough=function(e,t,n,r){if(typeof e!=="function")return this.then();return this._then(n,r,undefined,new i(this,t,e),undefined)};s.prototype.lastly=s.prototype["finally"]=function(e){return this._passThrough(e,0,v,v)};s.prototype.tap=function(e){return this._passThrough(e,1,v)};s.prototype.tapCatch=function(e){var t=arguments.length;if(t===1){return this._passThrough(e,1,undefined,v)}else{var n=new Array(t-1),r=0,i;for(i=0;i<t-1;++i){var o=arguments[i];if(c.isObject(o)){n[r++]=o}else{return s.reject(new TypeError("tapCatch statement predicate: "+"expecting an object but got "+c.classString(o)))}}n.length=r;var a=arguments[i];return this._passThrough(f(n,a,this),1,undefined,v)}};return i}},{"./catch_filter":7,"./util":36}],16:[function(i,e,t){"use strict";e.exports=function(s,r,l,c,e,u){var t=i("./errors");var d=t.TypeError;var n=i("./util");var f=n.errorObj;var p=n.tryCatch;var h=[];function o(e,t,n){for(var r=0;r<t.length;++r){n._pushContext();var i=p(t[r])(e);n._popContext();if(i===f){n._pushContext();var o=s.reject(f.e);n._popContext();return o}var a=c(i,n);if(a instanceof s)return a}return null}function g(e,t,n,r){if(u.cancellation()){var i=new s(l);var o=this._finallyPromise=new s(l);this._promise=i.lastly(function(){return o});i._captureStackTrace();i._setOnCancel(this)}else{var a=this._promise=new s(l);a._captureStackTrace()}this._stack=r;this._generatorFunction=e;this._receiver=t;this._generator=undefined;this._yieldHandlers=typeof n==="function"?[n].concat(h):h;this._yieldedPromise=null;this._cancellationPhase=false}n.inherits(g,e);g.prototype._isResolved=function(){return this._promise===null};g.prototype._cleanup=function(){this._promise=this._generator=null;if(u.cancellation()&&this._finallyPromise!==null){this._finallyPromise._fulfill();this._finallyPromise=null}};g.prototype._promiseCancelled=function(){if(this._isResolved())return;var e=typeof this._generator["return"]!=="undefined";var t;if(!e){var n=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=n;this._promise._attachExtraTrace(n);this._promise._pushContext();t=p(this._generator["throw"]).call(this._generator,n);this._promise._popContext()}else{this._promise._pushContext();t=p(this._generator["return"]).call(this._generator,undefined);this._promise._popContext()}this._cancellationPhase=true;this._yieldedPromise=null;this._continue(t)};g.prototype._promiseFulfilled=function(e){this._yieldedPromise=null;this._promise._pushContext();var t=p(this._generator.next).call(this._generator,e);this._promise._popContext();this._continue(t)};g.prototype._promiseRejected=function(e){this._yieldedPromise=null;this._promise._attachExtraTrace(e);this._promise._pushContext();var t=p(this._generator["throw"]).call(this._generator,e);this._promise._popContext();this._continue(t)};g.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var e=this._yieldedPromise;this._yieldedPromise=null;e.cancel()}};g.prototype.promise=function(){return this._promise};g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver);this._receiver=this._generatorFunction=undefined;this._promiseFulfilled(undefined)};g.prototype._continue=function(e){var t=this._promise;if(e===f){this._cleanup();if(this._cancellationPhase){return t.cancel()}else{return t._rejectCallback(e.e,false)}}var n=e.value;if(e.done===true){this._cleanup();if(this._cancellationPhase){return t.cancel()}else{return t._resolveCallback(n)}}else{var r=c(n,this._promise);if(!(r instanceof s)){r=o(r,this._yieldHandlers,this._promise);if(r===null){this._promiseRejected(new d("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(n))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));return}}r=r._target();var i=r._bitField;if((i&50397184)===0){this._yieldedPromise=r;r._proxy(this,null)}else if((i&33554432)!==0){s._async.invoke(this._promiseFulfilled,this,r._value())}else if((i&16777216)!==0){s._async.invoke(this._promiseRejected,this,r._reason())}else{this._promiseCancelled()}}};s.coroutine=function(r,e){if(typeof r!=="function"){throw new d("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var i=Object(e).yieldHandler;var o=g;var a=(new Error).stack;return function(){var e=r.apply(this,arguments);var t=new o(undefined,undefined,i,a);var n=t.promise();t._generator=e;t._promiseFulfilled(undefined);return n}};s.coroutine.addYieldHandler=function(e){if(typeof e!=="function"){throw new d("expecting a function but got "+n.classString(e))}h.push(e)};s.spawn=function(e){u.deprecated("Promise.spawn()","Promise.coroutine()");if(typeof e!=="function"){return r("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n")}var t=new g(e,this);var n=t.promise();t._run(s.spawn);return n}}},{"./errors":12,"./util":36}],17:[function(i,e,t){"use strict";e.exports=function(d,f,p,h,c,g){var m=i("./util");var v=m.canEvaluate;var u=m.tryCatch;var y=m.errorObj;var b;if(!true){if(v){var e=function e(t){return new Function("value","holder","                             \n            'use strict';                                                    \n            holder.pIndex = value;                                           \n            holder.checkFulfillment(this);                                   \n            ".replace(/Index/g,t))};var t=function e(t){return new Function("promise","holder","                           \n            'use strict';                                                    \n            holder.pIndex = promise;                                         \n            ".replace(/Index/g,t))};var n=function e(t){var n=new Array(t);for(var r=0;r<n.length;++r){n[r]="this.p"+(r+1)}var i=n.join(" = ")+" = null;";var o="var promise;\n"+n.map(function(e){return"                                                         \n                promise = "+e+";                                      \n                if (promise instanceof Promise) {                            \n                    promise.cancel();                                        \n                }                                                            \n            "}).join("\n");var a=n.join(", ");var s="Holder$"+t;var l="return function(tryCatch, errorObj, Promise, async) {    \n            'use strict';                                                    \n            function [TheName](fn) {                                         \n                [TheProperties]                                              \n                this.fn = fn;                                                \n                this.asyncNeeded = true;                                     \n                this.now = 0;                                                \n            }                                                                \n                                                                             \n            [TheName].prototype._callFunction = function(promise) {          \n                promise._pushContext();                                      \n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \n                promise._popContext();                                       \n                if (ret === errorObj) {                                      \n                    promise._rejectCallback(ret.e, false);                   \n                } else {                                                     \n                    promise._resolveCallback(ret);                           \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype.checkFulfillment = function(promise) {       \n                var now = ++this.now;                                        \n                if (now === [TheTotal]) {                                    \n                    if (this.asyncNeeded) {                                  \n                        async.invoke(this._callFunction, this, promise);     \n                    } else {                                                 \n                        this._callFunction(promise);                         \n                    }                                                        \n                                                                             \n                }                                                            \n            };                                                               \n                                                                             \n            [TheName].prototype._resultCancelled = function() {              \n                [CancellationCode]                                           \n            };                                                               \n                                                                             \n            return [TheName];                                                \n        }(tryCatch, errorObj, Promise, async);                               \n        ";l=l.replace(/\[TheName\]/g,s).replace(/\[TheTotal\]/g,t).replace(/\[ThePassedArguments\]/g,a).replace(/\[TheProperties\]/g,i).replace(/\[CancellationCode\]/g,o);return new Function("tryCatch","errorObj","Promise","async",l)(u,y,d,c)};var w=[];var _=[];var T=[];for(var r=0;r<8;++r){w.push(n(r+1));_.push(e(r+1));T.push(t(r+1))}b=function e(t){this._reject(t)}}}d.join=function(){var e=arguments.length-1;var t;if(e>0&&typeof arguments[e]==="function"){t=arguments[e];if(!true){if(e<=8&&v){var n=new d(h);n._captureStackTrace();var r=w[e-1];var i=new r(t);var o=_;for(var a=0;a<e;++a){var s=p(arguments[a],n);if(s instanceof d){s=s._target();var l=s._bitField;if((l&50397184)===0){s._then(o[a],b,undefined,n,i);T[a](s,i);i.asyncNeeded=false}else if((l&33554432)!==0){o[a].call(n,s._value(),i)}else if((l&16777216)!==0){n._reject(s._reason())}else{n._cancel()}}else{o[a].call(n,s,i)}}if(!n._isFateSealed()){if(i.asyncNeeded){var c=g();if(c!==null){i.fn=m.domainBind(c,i.fn)}}n._setAsyncGuaranteed();n._setOnCancel(i)}return n}}}var u=[].slice.call(arguments);if(t)u.pop();var n=new f(u).promise();return t!==undefined?n.spread(t):n}}},{"./util":36}],18:[function(t,e,n){"use strict";e.exports=function(h,e,o,g,a,m){var s=h._getDomain;var l=t("./util");var v=l.tryCatch;var y=l.errorObj;var c=h._async;function u(e,t,n,r){this.constructor$(e);this._promise._captureStackTrace();var i=s();this._callback=i===null?t:l.domainBind(i,t);this._preservedValues=r===a?new Array(this.length()):null;this._limit=n;this._inFlight=0;this._queue=[];c.invoke(this._asyncInit,this,undefined)}l.inherits(u,e);u.prototype._asyncInit=function(){this._init$(undefined,-2)};u.prototype._init=function(){};u.prototype._promiseFulfilled=function(e,t){var n=this._values;var r=this.length();var i=this._preservedValues;var o=this._limit;if(t<0){t=t*-1-1;n[t]=e;if(o>=1){this._inFlight--;this._drainQueue();if(this._isResolved())return true}}else{if(o>=1&&this._inFlight>=o){n[t]=e;this._queue.push(t);return false}if(i!==null)i[t]=e;var a=this._promise;var s=this._callback;var l=a._boundValue();a._pushContext();var c=v(s).call(l,e,t,r);var u=a._popContext();m.checkForgottenReturns(c,u,i!==null?"Promise.filter":"Promise.map",a);if(c===y){this._reject(c.e);return true}var d=g(c,this._promise);if(d instanceof h){d=d._target();var f=d._bitField;if((f&50397184)===0){if(o>=1)this._inFlight++;n[t]=d;d._proxy(this,(t+1)*-1);return false}else if((f&33554432)!==0){c=d._value()}else if((f&16777216)!==0){this._reject(d._reason());return true}else{this._cancel();return true}}n[t]=c}var p=++this._totalResolved;if(p>=r){if(i!==null){this._filter(n,i)}else{this._resolve(n)}return true}return false};u.prototype._drainQueue=function(){var e=this._queue;var t=this._limit;var n=this._values;while(e.length>0&&this._inFlight<t){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}};u.prototype._filter=function(e,t){var n=t.length;var r=new Array(n);var i=0;for(var o=0;o<n;++o){if(e[o])r[i++]=t[o]}r.length=i;this._resolve(r)};u.prototype.preservedValues=function(){return this._preservedValues};function i(e,t,n,r){if(typeof t!=="function"){return o("expecting a function but got "+l.classString(t))}var i=0;if(n!==undefined){if((typeof n==="undefined"?"undefined":se(n))==="object"&&n!==null){if(typeof n.concurrency!=="number"){return h.reject(new TypeError("'concurrency' must be a number but it is "+l.classString(n.concurrency)))}i=n.concurrency}else{return h.reject(new TypeError("options argument must be an object but it is "+l.classString(n)))}}i=typeof i==="number"&&isFinite(i)&&i>=1?i:0;return new u(e,t,i,r).promise()}h.prototype.map=function(e,t){return i(this,e,t,null)};h.map=function(e,t,n,r){return i(e,t,n,r)}}},{"./util":36}],19:[function(t,e,n){"use strict";e.exports=function(a,s,e,l,c){var u=t("./util");var d=u.tryCatch;a.method=function(r){if(typeof r!=="function"){throw new a.TypeError("expecting a function but got "+u.classString(r))}return function(){var e=new a(s);e._captureStackTrace();e._pushContext();var t=d(r).apply(this,arguments);var n=e._popContext();c.checkForgottenReturns(t,n,"Promise.method",e);e._resolveFromSyncValue(t);return e}};a.attempt=a["try"]=function(e){if(typeof e!=="function"){return l("expecting a function but got "+u.classString(e))}var t=new a(s);t._captureStackTrace();t._pushContext();var n;if(arguments.length>1){c.deprecated("calling Promise.try with more than 1 argument");var r=arguments[1];var i=arguments[2];n=u.isArray(r)?d(e).apply(i,r):d(e).call(i,r)}else{n=d(e)()}var o=t._popContext();c.checkForgottenReturns(n,o,"Promise.try",t);t._resolveFromSyncValue(n);return t};a.prototype._resolveFromSyncValue=function(e){if(e===u.errorObj){this._rejectCallback(e.e,false)}else{this._resolveCallback(e,true)}}}},{"./util":36}],20:[function(e,t,n){"use strict";var o=e("./util");var a=o.maybeWrapAsError;var r=e("./errors");var s=r.OperationalError;var l=e("./es5");function c(e){return e instanceof Error&&l.getPrototypeOf(e)===Error.prototype}var u=/^(?:name|message|stack|cause)$/;function d(e){var t;if(c(e)){t=new s(e);t.name=e.name;t.message=e.message;t.stack=e.stack;var n=l.keys(e);for(var r=0;r<n.length;++r){var i=n[r];if(!u.test(i)){t[i]=e[i]}}return t}o.markAsOriginatingFromRejection(e);return e}function i(i,o){return function(e,t){if(i===null)return;if(e){var n=d(a(e));i._attachExtraTrace(n);i._reject(n)}else if(!o){i._fulfill(t)}else{var r=[].slice.call(arguments,1);i._fulfill(r)}i=null}}t.exports=i},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,n){"use strict";e.exports=function(e){var i=t("./util");var o=e._async;var a=i.tryCatch;var s=i.errorObj;function r(e,t){var n=this;if(!i.isArray(e))return l.call(n,e,t);var r=a(t).apply(n._boundValue(),[null].concat(e));if(r===s){o.throwLater(r.e)}}function l(e,t){var n=this;var r=n._boundValue();var i=e===undefined?a(t).call(r,null):a(t).call(r,null,e);if(i===s){o.throwLater(i.e)}}function c(e,t){var n=this;if(!e){var r=new Error(e+"");r.cause=e;e=r}var i=a(t).call(n._boundValue(),e);if(i===s){o.throwLater(i.e)}}e.prototype.asCallback=e.prototype.nodeify=function(e,t){if(typeof e=="function"){var n=l;if(t!==undefined&&Object(t).spread){n=r}this._then(n,c,undefined,this,e)}return this}}},{"./util":36}],22:[function(I,P,e){"use strict";P.exports=function(){var l=function e(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")};var s=function e(){return new E.PromiseInspection(this._target())};var a=function e(t){return E.reject(new d(t))};function c(){}var u={};var p=I("./util");var h;if(p.isNode){h=function e(){var t=ae.domain;if(t===undefined)t=null;return t}}else{h=function e(){return null}}p.notEnumerableProp(E,"_getDomain",h);var e=I("./es5");var t=I("./async");var g=new t;e.defineProperty(E,"_async",{value:g});var n=I("./errors");var d=E.TypeError=n.TypeError;E.RangeError=n.RangeError;var m=E.CancellationError=n.CancellationError;E.TimeoutError=n.TimeoutError;E.OperationalError=n.OperationalError;E.RejectionError=n.OperationalError;E.AggregateError=n.AggregateError;var v=function e(){};var f={};var y={};var b=I("./thenables")(E,v);var w=I("./promise_array")(E,v,b,a,c);var r=I("./context")(E);var i=r.create;var _=I("./debuggability")(E,r);var o=_.CapturedTrace;var T=I("./finally")(E,b,y);var k=I("./catch_filter")(y);var D=I("./nodeback");var S=p.errorObj;var x=p.tryCatch;function C(e,t){if(e==null||e.constructor!==E){throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}if(typeof t!=="function"){throw new d("expecting a function but got "+p.classString(t))}}function E(e){if(e!==v){C(this,e)}this._bitField=0;this._fulfillmentHandler0=undefined;this._rejectionHandler0=undefined;this._promise0=undefined;this._receiver0=undefined;this._resolveFromExecutor(e);this._promiseCreated();this._fireEvent("promiseCreated",this)}E.prototype.toString=function(){return"[object Promise]"};E.prototype.caught=E.prototype["catch"]=function(e){var t=arguments.length;if(t>1){var n=new Array(t-1),r=0,i;for(i=0;i<t-1;++i){var o=arguments[i];if(p.isObject(o)){n[r++]=o}else{return a("Catch statement predicate: "+"expecting an object but got "+p.classString(o))}}n.length=r;e=arguments[i];return this.then(undefined,k(n,e,this))}return this.then(undefined,e)};E.prototype.reflect=function(){return this._then(s,s,undefined,this,undefined)};E.prototype.then=function(e,t){if(_.warnings()&&arguments.length>0&&typeof e!=="function"&&typeof t!=="function"){var n=".then() only accepts functions but was passed: "+p.classString(e);if(arguments.length>1){n+=", "+p.classString(t)}this._warn(n)}return this._then(e,t,undefined,undefined,undefined)};E.prototype.done=function(e,t){var n=this._then(e,t,undefined,undefined,undefined);n._setIsFinal()};E.prototype.spread=function(e){if(typeof e!=="function"){return a("expecting a function but got "+p.classString(e))}return this.all()._then(e,undefined,undefined,f,undefined)};E.prototype.toJSON=function(){var e={isFulfilled:false,isRejected:false,fulfillmentValue:undefined,rejectionReason:undefined};if(this.isFulfilled()){e.fulfillmentValue=this.value();e.isFulfilled=true}else if(this.isRejected()){e.rejectionReason=this.reason();e.isRejected=true}return e};E.prototype.all=function(){if(arguments.length>0){this._warn(".all() was passed arguments but it does not take any")}return new w(this).promise()};E.prototype.error=function(e){return this.caught(p.originatesFromRejection,e)};E.getNewLibraryCopy=P.exports;E.is=function(e){return e instanceof E};E.fromNode=E.fromCallback=function(e){var t=new E(v);t._captureStackTrace();var n=arguments.length>1?!!Object(arguments[1]).multiArgs:false;var r=x(e)(D(t,n));if(r===S){t._rejectCallback(r.e,true)}if(!t._isFateSealed())t._setAsyncGuaranteed();return t};E.all=function(e){return new w(e).promise()};E.cast=function(e){var t=b(e);if(!(t instanceof E)){t=new E(v);t._captureStackTrace();t._setFulfilled();t._rejectionHandler0=e}return t};E.resolve=E.fulfilled=E.cast;E.reject=E.rejected=function(e){var t=new E(v);t._captureStackTrace();t._rejectCallback(e,true);return t};E.setScheduler=function(e){if(typeof e!=="function"){throw new d("expecting a function but got "+p.classString(e))}return g.setScheduler(e)};E.prototype._then=function(e,t,n,r,i){var o=i!==undefined;var a=o?i:new E(v);var s=this._target();var l=s._bitField;if(!o){a._propagateFrom(this,3);a._captureStackTrace();if(r===undefined&&(this._bitField&2097152)!==0){if(!((l&50397184)===0)){r=this._boundValue()}else{r=s===this?undefined:this._boundTo}}this._fireEvent("promiseChained",this,a)}var c=h();if(!((l&50397184)===0)){var u,d,f=s._settlePromiseCtx;if((l&33554432)!==0){d=s._rejectionHandler0;u=e}else if((l&16777216)!==0){d=s._fulfillmentHandler0;u=t;s._unsetRejectionIsUnhandled()}else{f=s._settlePromiseLateCancellationObserver;d=new m("late cancellation observer");s._attachExtraTrace(d);u=t}g.invoke(f,s,{handler:c===null?u:typeof u==="function"&&p.domainBind(c,u),promise:a,receiver:r,value:d})}else{s._addCallbacks(e,t,a,r,c)}return a};E.prototype._length=function(){return this._bitField&65535};E.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0};E.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864};E.prototype._setLength=function(e){this._bitField=this._bitField&-65536|e&65535};E.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432;this._fireEvent("promiseFulfilled",this)};E.prototype._setRejected=function(){this._bitField=this._bitField|16777216;this._fireEvent("promiseRejected",this)};E.prototype._setFollowing=function(){this._bitField=this._bitField|67108864;this._fireEvent("promiseResolved",this)};E.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304};E.prototype._isFinal=function(){return(this._bitField&4194304)>0};E.prototype._unsetCancelled=function(){this._bitField=this._bitField&~65536};E.prototype._setCancelled=function(){this._bitField=this._bitField|65536;this._fireEvent("promiseCancelled",this)};E.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608};E.prototype._setAsyncGuaranteed=function(){if(g.hasCustomScheduler())return;this._bitField=this._bitField|134217728};E.prototype._receiverAt=function(e){var t=e===0?this._receiver0:this[e*4-4+3];if(t===u){return undefined}else if(t===undefined&&this._isBound()){return this._boundValue()}return t};E.prototype._promiseAt=function(e){return this[e*4-4+2]};E.prototype._fulfillmentHandlerAt=function(e){return this[e*4-4+0]};E.prototype._rejectionHandlerAt=function(e){return this[e*4-4+1]};E.prototype._boundValue=function(){};E.prototype._migrateCallback0=function(e){var t=e._bitField;var n=e._fulfillmentHandler0;var r=e._rejectionHandler0;var i=e._promise0;var o=e._receiverAt(0);if(o===undefined)o=u;this._addCallbacks(n,r,i,o,null)};E.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t);var r=e._rejectionHandlerAt(t);var i=e._promiseAt(t);var o=e._receiverAt(t);if(o===undefined)o=u;this._addCallbacks(n,r,i,o,null)};E.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65535-4){o=0;this._setLength(0)}if(o===0){this._promise0=n;this._receiver0=r;if(typeof e==="function"){this._fulfillmentHandler0=i===null?e:p.domainBind(i,e)}if(typeof t==="function"){this._rejectionHandler0=i===null?t:p.domainBind(i,t)}}else{var a=o*4-4;this[a+2]=n;this[a+3]=r;if(typeof e==="function"){this[a+0]=i===null?e:p.domainBind(i,e)}if(typeof t==="function"){this[a+1]=i===null?t:p.domainBind(i,t)}}this._setLength(o+1);return o};E.prototype._proxy=function(e,t){this._addCallbacks(undefined,undefined,t,e,null)};E.prototype._resolveCallback=function(e,t){if((this._bitField&117506048)!==0)return;if(e===this)return this._rejectCallback(l(),false);var n=b(e,this);if(!(n instanceof E))return this._fulfill(e);if(t)this._propagateFrom(n,2);var r=n._target();if(r===this){this._reject(l());return}var i=r._bitField;if((i&50397184)===0){var o=this._length();if(o>0)r._migrateCallback0(this);for(var a=1;a<o;++a){r._migrateCallbackAt(this,a)}this._setFollowing();this._setLength(0);this._setFollowee(r)}else if((i&33554432)!==0){this._fulfill(r._value())}else if((i&16777216)!==0){this._reject(r._reason())}else{var s=new m("late cancellation observer");r._attachExtraTrace(s);this._reject(s)}};E.prototype._rejectCallback=function(e,t,n){var r=p.ensureErrorObject(e);var i=r===e;if(!i&&!n&&_.warnings()){var o="a promise was rejected with a non-error: "+p.classString(e);this._warn(o,true)}this._attachExtraTrace(r,t?i:false);this._reject(e)};E.prototype._resolveFromExecutor=function(e){if(e===v)return;var t=this;this._captureStackTrace();this._pushContext();var n=true;var r=this._execute(e,function(e){t._resolveCallback(e)},function(e){t._rejectCallback(e,n)});n=false;this._popContext();if(r!==undefined){t._rejectCallback(r,true)}};E.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if((i&65536)!==0)return;r._pushContext();var o;if(t===f){if(!n||typeof n.length!=="number"){o=S;o.e=new d("cannot .spread() a non-array: "+p.classString(n))}else{o=x(e).apply(this._boundValue(),n)}}else{o=x(e).call(t,n)}var a=r._popContext();i=r._bitField;if((i&65536)!==0)return;if(o===y){r._reject(n)}else if(o===S){r._rejectCallback(o.e,false)}else{_.checkForgottenReturns(o,a,"",r,this);r._resolveCallback(o)}};E.prototype._target=function(){var e=this;while(e._isFollowing()){e=e._followee()}return e};E.prototype._followee=function(){return this._rejectionHandler0};E.prototype._setFollowee=function(e){this._rejectionHandler0=e};E.prototype._settlePromise=function(e,t,n,r){var i=e instanceof E;var o=this._bitField;var a=(o&134217728)!==0;if((o&65536)!==0){if(i)e._invokeInternalOnCancel();if(n instanceof T&&n.isFinallyHandler()){n.cancelPromise=e;if(x(t).call(n,r)===S){e._reject(S.e)}}else if(t===s){e._fulfill(s.call(n))}else if(n instanceof c){n._promiseCancelled(e)}else if(i||e instanceof w){e._cancel()}else{n.cancel()}}else if(typeof t==="function"){if(!i){t.call(n,r,e)}else{if(a)e._setAsyncGuaranteed();this._settlePromiseFromHandler(t,n,r,e)}}else if(n instanceof c){if(!n._isResolved()){if((o&33554432)!==0){n._promiseFulfilled(r,e)}else{n._promiseRejected(r,e)}}}else if(i){if(a)e._setAsyncGuaranteed();if((o&33554432)!==0){e._fulfill(r)}else{e._reject(r)}}};E.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler;var n=e.promise;var r=e.receiver;var i=e.value;if(typeof t==="function"){if(!(n instanceof E)){t.call(r,i,n)}else{this._settlePromiseFromHandler(t,r,i,n)}}else if(n instanceof E){n._reject(i)}};E.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)};E.prototype._settlePromise0=function(e,t,n){var r=this._promise0;var i=this._receiverAt(0);this._promise0=undefined;this._receiver0=undefined;this._settlePromise(r,e,i,t)};E.prototype._clearCallbackDataAtIndex=function(e){var t=e*4-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=undefined};E.prototype._fulfill=function(e){var t=this._bitField;if((t&117506048)>>>16)return;if(e===this){var n=l();this._attachExtraTrace(n);return this._reject(n)}this._setFulfilled();this._rejectionHandler0=e;if((t&65535)>0){if((t&134217728)!==0){this._settlePromises()}else{g.settlePromises(this)}}};E.prototype._reject=function(e){var t=this._bitField;if((t&117506048)>>>16)return;this._setRejected();this._fulfillmentHandler0=e;if(this._isFinal()){return g.fatalError(e,p.isNode)}if((t&65535)>0){g.settlePromises(this)}else{this._ensurePossibleRejectionHandled()}};E.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n);var i=this._promiseAt(n);var o=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(i,r,o,t)}};E.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n);var i=this._promiseAt(n);var o=this._receiverAt(n);this._clearCallbackDataAtIndex(n);this._settlePromise(i,r,o,t)}};E.prototype._settlePromises=function(){var e=this._bitField;var t=e&65535;if(t>0){if((e&16842752)!==0){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e);this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e);this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()};E.prototype._settledValue=function(){var e=this._bitField;if((e&33554432)!==0){return this._rejectionHandler0}else if((e&16777216)!==0){return this._fulfillmentHandler0}};function A(e){this.promise._resolveCallback(e)}function O(e){this.promise._rejectCallback(e,false)}E.defer=E.pending=function(){_.deprecated("Promise.defer","new Promise");var e=new E(v);return{promise:e,resolve:A,reject:O}};p.notEnumerableProp(E,"_makeSelfResolutionError",l);I("./method")(E,v,b,a,_);I("./bind")(E,v,b,_);I("./cancel")(E,w,a,_);I("./direct_resolve")(E);I("./synchronous_inspection")(E);I("./join")(E,w,b,v,g,h);E.Promise=E;E.version="3.5.1";I("./map.js")(E,w,a,b,v,_);I("./call_get.js")(E);I("./using.js")(E,a,b,i,v,_);I("./timers.js")(E,v,_);I("./generators.js")(E,a,v,b,c,_);I("./nodeify.js")(E);I("./promisify.js")(E,v);I("./props.js")(E,w,b,a);I("./race.js")(E,v,b,a);I("./reduce.js")(E,w,a,b,v,_);I("./settle.js")(E,w,_);I("./some.js")(E,w,a);I("./filter.js")(E,v);I("./each.js")(E,v);I("./any.js")(E);p.toFastProperties(E);p.toFastProperties(E.prototype);function L(e){var t=new E(v);t._fulfillmentHandler0=e;t._rejectionHandler0=e;t._promise0=e;t._receiver0=e}L({a:1});L({b:2});L({c:3});L(1);L(function(){});L(undefined);L(false);L(new E(v));_.setBounds(t.firstLineError,p.lastLineError);return E}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(i,e,t){"use strict";e.exports=function(s,n,l,a,e){var c=i("./util");var t=c.isArray;function u(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}function r(e){var t=this._promise=new s(n);if(e instanceof s){t._propagateFrom(e,3)}t._setOnCancel(this);this._values=e;this._length=0;this._totalResolved=0;this._init(undefined,-2)}c.inherits(r,e);r.prototype.length=function(){return this._length};r.prototype.promise=function(){return this._promise};r.prototype._init=function e(t,n){var r=l(this._values,this._promise);if(r instanceof s){r=r._target();var i=r._bitField;this._values=r;if((i&50397184)===0){this._promise._setAsyncGuaranteed();return r._then(e,this._reject,undefined,this,n)}else if((i&33554432)!==0){r=r._value()}else if((i&16777216)!==0){return this._reject(r._reason())}else{return this._cancel()}}r=c.asArray(r);if(r===null){var o=a("expecting an array or an iterable object but got "+c.classString(r)).reason();this._promise._rejectCallback(o,false);return}if(r.length===0){if(n===-5){this._resolveEmptyArray()}else{this._resolve(u(n))}return}this._iterate(r)};r.prototype._iterate=function(e){var t=this.getActualLength(e.length);this._length=t;this._values=this.shouldCopyValues()?new Array(t):this._values;var n=this._promise;var r=false;var i=null;for(var o=0;o<t;++o){var a=l(e[o],n);if(a instanceof s){a=a._target();i=a._bitField}else{i=null}if(r){if(i!==null){a.suppressUnhandledRejections()}}else if(i!==null){if((i&50397184)===0){a._proxy(this,o);this._values[o]=a}else if((i&33554432)!==0){r=this._promiseFulfilled(a._value(),o)}else if((i&16777216)!==0){r=this._promiseRejected(a._reason(),o)}else{r=this._promiseCancelled(o)}}else{r=this._promiseFulfilled(a,o)}}if(!r)n._setAsyncGuaranteed()};r.prototype._isResolved=function(){return this._values===null};r.prototype._resolve=function(e){this._values=null;this._promise._fulfill(e)};r.prototype._cancel=function(){if(this._isResolved()||!this._promise._isCancellable())return;this._values=null;this._promise._cancel()};r.prototype._reject=function(e){this._values=null;this._promise._rejectCallback(e,false)};r.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};r.prototype._promiseCancelled=function(){this._cancel();return true};r.prototype._promiseRejected=function(e){this._totalResolved++;this._reject(e);return true};r.prototype._resultCancelled=function(){if(this._isResolved())return;var e=this._values;this._cancel();if(e instanceof s){e.cancel()}else{for(var t=0;t<e.length;++t){if(e[t]instanceof s){e[t].cancel()}}}};r.prototype.shouldCopyValues=function(){return true};r.prototype.getActualLength=function(e){return e};return r}},{"./util":36}],24:[function(l,e,t){"use strict";e.exports=function(h,g){var m={};var v=l("./util");var y=l("./nodeback");var b=v.withAppended;var w=v.maybeWrapAsError;var e=v.canEvaluate;var c=l("./errors").TypeError;var u="Async";var i={__isPromisified__:true};var t=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"];var n=new RegExp("^(?:"+t.join("|")+")$");var d=function e(t){return v.isIdentifier(t)&&t.charAt(0)!=="_"&&t!=="constructor"};function o(e){return!n.test(e)}function f(e){try{return e.__isPromisified__===true}catch(e){return false}}function p(e,t,n){var r=v.getDataPropertyOrDefault(e,t+n,i);return r?f(r):false}function _(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i)){var o=i.replace(n,"");for(var a=0;a<e.length;a+=2){if(e[a]===o){throw new c("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}}}}function T(e,t,n,r){var i=v.inheritedDataKeys(e);var o=[];for(var a=0;a<i.length;++a){var s=i[a];var l=e[s];var c=r===d?true:d(s,l,e);if(typeof l==="function"&&!f(l)&&!p(e,s,t)&&r(s,l,e,c)){o.push(s,l)}}_(o,t,n);return o}var k=function e(t){return t.replace(/([$])/,"\\$")};var r;if(!true){var D=function e(t){var n=[t];var r=Math.max(0,t-1-3);for(var i=t-1;i>=r;--i){n.push(i)}for(var i=t+1;i<=3;++i){n.push(i)}return n};var S=function e(t){return v.filledRange(t,"_arg","")};var x=function e(t){return v.filledRange(Math.max(t,3),"_arg","")};var C=function e(t){if(typeof t.length==="number"){return Math.max(Math.min(t.length,1023+1),0)}return 0};r=function e(t,i,n,r,o,a){var s=Math.max(0,C(r)-1);var l=D(s);var c=typeof t==="string"||i===m;function u(e){var t=S(e).join(", ");var n=e>0?", ":"";var r;if(c){r="ret = callback.call(this, {{args}}, nodeback); break;\n"}else{r=i===undefined?"ret = callback({{args}}, nodeback); break;\n":"ret = callback.call(receiver, {{args}}, nodeback); break;\n"}return r.replace("{{args}}",t).replace(", ",n)}function d(){var e="";for(var t=0;t<l.length;++t){e+="case "+l[t]+":"+u(l[t])}e+="                                                             \n        default:                                                             \n            var args = new Array(len + 1);                                   \n            var i = 0;                                                       \n            for (var i = 0; i < len; ++i) {                                  \n               args[i] = arguments[i];                                       \n            }                                                                \n            args[i] = nodeback;                                              \n            [CodeForCall]                                                    \n            break;                                                           \n        ".replace("[CodeForCall]",c?"ret = callback.apply(this, args);\n":"ret = callback.apply(receiver, args);\n");return e}var f=typeof t==="string"?"this != null ? this['"+t+"'] : fn":"fn";var p="'use strict';                                                \n        var ret = function (Parameters) {                                    \n            'use strict';                                                    \n            var len = arguments.length;                                      \n            var promise = new Promise(INTERNAL);                             \n            promise._captureStackTrace();                                    \n            var nodeback = nodebackForPromise(promise, "+a+");   \n            var ret;                                                         \n            var callback = tryCatch([GetFunctionCode]);                      \n            switch(len) {                                                    \n                [CodeForSwitchCase]                                          \n            }                                                                \n            if (ret === errorObj) {                                          \n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\n            }                                                                \n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \n            return promise;                                                  \n        };                                                                   \n        notEnumerableProp(ret, '__isPromisified__', true);                   \n        return ret;                                                          \n    ".replace("[CodeForSwitchCase]",d()).replace("[GetFunctionCode]",f);p=p.replace("Parameters",x(s));return new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",p)(h,r,i,b,w,y,v.tryCatch,v.errorObj,v.notEnumerableProp,g)}}function a(i,o,e,t,n,a){var s=function(){return this}();var l=i;if(typeof l==="string"){i=t}function r(){var e=o;if(o===m)e=this;var t=new h(g);t._captureStackTrace();var n=typeof l==="string"&&this!==s?this[l]:i;var r=y(t,a);try{n.apply(e,b(arguments,r))}catch(e){t._rejectCallback(w(e),true,true)}if(!t._isFateSealed())t._setAsyncGuaranteed();return t}v.notEnumerableProp(r,"__isPromisified__",true);return r}var E=e?r:a;function A(e,t,n,r,i){var o=new RegExp(k(t)+"$");var a=T(e,t,o,n);for(var s=0,l=a.length;s<l;s+=2){var c=a[s];var u=a[s+1];var d=c+t;if(r===E){e[d]=E(c,m,c,u,t,i)}else{var f=r(u,function(){return E(c,m,c,u,t,i)});v.notEnumerableProp(f,"__isPromisified__",true);e[d]=f}}v.toFastProperties(e);return e}function s(e,t,n){return E(e,t,undefined,e,null,n)}h.promisify=function(e,t){if(typeof e!=="function"){throw new c("expecting a function but got "+v.classString(e))}if(f(e)){return e}t=Object(t);var n=t.context===undefined?m:t.context;var r=!!t.multiArgs;var i=s(e,n,r);v.copyDescriptors(e,i,o);return i};h.promisifyAll=function(e,t){if(typeof e!=="function"&&(typeof e==="undefined"?"undefined":se(e))!=="object"){throw new c("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n")}t=Object(t);var n=!!t.multiArgs;var r=t.suffix;if(typeof r!=="string")r=u;var i=t.filter;if(typeof i!=="function")i=d;var o=t.promisifier;if(typeof o!=="function")o=E;if(!v.isIdentifier(r)){throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n")}var a=v.inheritedDataKeys(e);for(var s=0;s<a.length;++s){var l=e[a[s]];if(a[s]!=="constructor"&&v.isClass(l)){A(l.prototype,r,i,o,n);A(l,r,i,o,n)}}return A(e,r,i,o,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(f,e,t){"use strict";e.exports=function(r,e,i,o){var t=f("./util");var a=t.isObject;var s=f("./es5");var l;if(typeof Map==="function")l=Map;var c=function(){var r=0;var i=0;function o(e,t){this[r]=e;this[r+i]=t;r++}return function e(t){i=t.size;r=0;var n=new Array(t.size*2);t.forEach(o,n);return n}}();var u=function e(t){var n=new l;var r=t.length/2|0;for(var i=0;i<r;++i){var o=t[r+i];var a=t[i];n.set(o,a)}return n};function d(e){var t=false;var n;if(l!==undefined&&e instanceof l){n=c(e);t=true}else{var r=s.keys(e);var i=r.length;n=new Array(i*2);for(var o=0;o<i;++o){var a=r[o];n[o]=e[a];n[o+i]=a}}this.constructor$(n);this._isMap=t;this._init$(undefined,t?-6:-3)}t.inherits(d,e);d.prototype._init=function(){};d.prototype._promiseFulfilled=function(e,t){this._values[t]=e;var n=++this._totalResolved;if(n>=this._length){var r;if(this._isMap){r=u(this._values)}else{r={};var i=this.length();for(var o=0,a=this.length();o<a;++o){r[this._values[o+i]]=this._values[o]}}this._resolve(r);return true}return false};d.prototype.shouldCopyValues=function(){return false};d.prototype.getActualLength=function(e){return e>>1};function n(e){var t;var n=i(e);if(!a(n)){return o("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}else if(n instanceof r){t=n._then(r.props,undefined,undefined,undefined,undefined)}else{t=new d(n).promise()}if(n instanceof r){t._propagateFrom(n,2)}return t}r.prototype.props=function(){return n(this)};r.props=function(e){return n(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function o(e,t,n,r,i){for(var o=0;o<i;++o){n[o+r]=e[o+t];e[o+t]=void 0}}function r(e){this._capacity=e;this._length=0;this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e};r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1);var n=this._front+t&this._capacity-1;this[n]=e;this._length=t+1};r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r)){this._pushOne(e);this._pushOne(t);this._pushOne(n);return}var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e;this[i+1&o]=t;this[i+2&o]=n;this._length=r};r.prototype.shift=function(){var e=this._front,t=this[e];this[e]=undefined;this._front=e+1&this._capacity-1;this._length--;return t};r.prototype.length=function(){return this._length};r.prototype._checkCapacity=function(e){if(this._capacity<e){this._resizeTo(this._capacity<<1)}};r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e;var n=this._front;var r=this._length;var i=n+r&t-1;o(this,0,this,t,i)};t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(c,u,d,f){var p=e("./util");var h=function e(t){return t.then(function(e){return n(e,t)})};function n(e,t){var n=d(e);if(n instanceof c){return h(n)}else{e=p.asArray(e);if(e===null)return f("expecting an array or an iterable object but got "+p.classString(e))}var r=new c(u);if(t!==undefined){r._propagateFrom(t,3)}var i=r._fulfill;var o=r._reject;for(var a=0,s=e.length;a<s;++a){var l=e[a];if(l===undefined&&!(a in e)){continue}c.cast(l)._then(i,o,undefined,r,null)}return r}c.race=function(e){return n(e,undefined)};c.prototype.race=function(){return n(this,undefined)}}},{"./util":36}],28:[function(t,e,n){"use strict";e.exports=function(a,e,o,n,s,l){var c=a._getDomain;var u=t("./util");var d=u.tryCatch;function f(e,t,n,r){this.constructor$(e);var i=c();this._fn=i===null?t:u.domainBind(i,t);if(n!==undefined){n=a.resolve(n);n._attachCancellationCallback(this)}this._initialValue=n;this._currentCancellable=null;if(r===s){this._eachValues=Array(this._length)}else if(r===0){this._eachValues=null}else{this._eachValues=undefined}this._promise._captureStackTrace();this._init$(undefined,-5)}u.inherits(f,e);f.prototype._gotAccum=function(e){if(this._eachValues!==undefined&&this._eachValues!==null&&e!==s){this._eachValues.push(e)}};f.prototype._eachComplete=function(e){if(this._eachValues!==null){this._eachValues.push(e)}return this._eachValues};f.prototype._init=function(){};f.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==undefined?this._eachValues:this._initialValue)};f.prototype.shouldCopyValues=function(){return false};f.prototype._resolve=function(e){this._promise._resolveCallback(e);this._values=null};f.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();if(this._isResolved())return;this._resultCancelled$();if(this._currentCancellable instanceof a){this._currentCancellable.cancel()}if(this._initialValue instanceof a){this._initialValue.cancel()}};f.prototype._iterate=function(e){this._values=e;var t;var n;var r=e.length;if(this._initialValue!==undefined){t=this._initialValue;n=0}else{t=a.resolve(e[0]);n=1}this._currentCancellable=t;if(!t.isRejected()){for(;n<r;++n){var i={accum:null,value:e[n],index:n,length:r,array:this};t=t._then(h,undefined,undefined,i,undefined)}}if(this._eachValues!==undefined){t=t._then(this._eachComplete,undefined,undefined,this,undefined)}t._then(p,p,undefined,t,this)};a.prototype.reduce=function(e,t){return i(this,e,t,null)};a.reduce=function(e,t,n,r){return i(e,t,n,r)};function p(e,t){if(this.isFulfilled()){t._resolve(e)}else{t._reject(e)}}function i(e,t,n,r){if(typeof t!=="function"){return o("expecting a function but got "+u.classString(t))}var i=new f(e,t,n,r);return i.promise()}function h(e){this.accum=e;this.array._gotAccum(e);var t=n(this.value,this.array._promise);if(t instanceof a){this.array._currentCancellable=t;return t._then(r,undefined,undefined,this,undefined)}else{return r.call(this,t)}}function r(e){var t=this.array;var n=t._promise;var r=d(t._fn);n._pushContext();var i;if(t._eachValues!==undefined){i=r.call(n._boundValue(),e,this.index,this.length)}else{i=r.call(n._boundValue(),this.accum,e,this.index,this.length)}if(i instanceof a){t._currentCancellable=i}var o=n._popContext();l.checkForgottenReturns(i,o,t._eachValues!==undefined?"Promise.each":"Promise.reduce",n);return i}}},{"./util":36}],29:[function(e,t,n){"use strict";var r=e("./util");var i;var o=function e(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")};var a=r.getNativePromise();if(r.isNode&&typeof MutationObserver==="undefined"){var s=U.setImmediate;var l=ae.nextTick;i=r.isRecentNode?function(e){s.call(U,e)}:function(e){l.call(ae,e)}}else if(typeof a==="function"&&typeof a.resolve==="function"){var c=a.resolve();i=function e(t){c.then(t)}}else if(typeof MutationObserver!=="undefined"&&!(typeof window!=="undefined"&&window.navigator&&(window.navigator.standalone||window.cordova))){i=function(){var r=document.createElement("div");var i={attributes:true};var t=false;var n=document.createElement("div");var e=new MutationObserver(function(){r.classList.toggle("foo");t=false});e.observe(n,i);var o=function e(){if(t)return;t=true;n.classList.toggle("foo")};return function e(t){var n=new MutationObserver(function(){n.disconnect();t()});n.observe(r,i);o()}}()}else if(typeof u!=="undefined"){i=function e(t){u(t)}}else if(typeof setTimeout!=="undefined"){i=function e(t){setTimeout(t,0)}}else{i=o}t.exports=i},{"./util":36}],30:[function(a,e,t){"use strict";e.exports=function(e,t,n){var r=e.PromiseInspection;var i=a("./util");function o(e){this.constructor$(e)}i.inherits(o,t);o.prototype._promiseResolved=function(e,t){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){this._resolve(this._values);return true}return false};o.prototype._promiseFulfilled=function(e,t){var n=new r;n._bitField=33554432;n._settledValueField=e;return this._promiseResolved(t,n)};o.prototype._promiseRejected=function(e,t){var n=new r;n._bitField=16777216;n._settledValueField=e;return this._promiseResolved(t,n)};e.settle=function(e){n.deprecated(".settle()",".reflect()");return new o(e).promise()};e.prototype.settle=function(){return e.settle(this)}}},{"./util":36}],31:[function(u,e,t){"use strict";e.exports=function(e,t,i){var n=u("./util");var r=u("./errors").RangeError;var o=u("./errors").AggregateError;var a=n.isArray;var s={};function l(e){this.constructor$(e);this._howMany=0;this._unwrap=false;this._initialized=false}n.inherits(l,t);l.prototype._init=function(){if(!this._initialized){return}if(this._howMany===0){this._resolve([]);return}this._init$(undefined,-5);var e=a(this._values);if(!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()){this._reject(this._getRangeError(this.length()))}};l.prototype.init=function(){this._initialized=true;this._init()};l.prototype.setUnwrap=function(){this._unwrap=true};l.prototype.howMany=function(){return this._howMany};l.prototype.setHowMany=function(e){this._howMany=e};l.prototype._promiseFulfilled=function(e){this._addFulfilled(e);if(this._fulfilled()===this.howMany()){this._values.length=this.howMany();if(this.howMany()===1&&this._unwrap){this._resolve(this._values[0])}else{this._resolve(this._values)}return true}return false};l.prototype._promiseRejected=function(e){this._addRejected(e);return this._checkOutcome()};l.prototype._promiseCancelled=function(){if(this._values instanceof e||this._values==null){return this._cancel()}this._addRejected(s);return this._checkOutcome()};l.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){var e=new o;for(var t=this.length();t<this._values.length;++t){if(this._values[t]!==s){e.push(this._values[t])}}if(e.length>0){this._reject(e)}else{this._cancel()}return true}return false};l.prototype._fulfilled=function(){return this._totalResolved};l.prototype._rejected=function(){return this._values.length-this.length()};l.prototype._addRejected=function(e){this._values.push(e)};l.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e};l.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()};l.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new r(t)};l.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function c(e,t){if((t|0)!==t||t<0){return i("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n")}var n=new l(e);var r=n.promise();n.setHowMany(t);n.init();return r}e.some=function(e,t){return c(e,t)};e.prototype.some=function(e){return c(this,e)};e._SomePromiseArray=l}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){if(e!==undefined){e=e._target();this._bitField=e._bitField;this._settledValueField=e._isFateSealed()?e._settledValue():undefined}else{this._bitField=0;this._settledValueField=undefined}}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled()){throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected()){throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n")}return this._settledValue()};var i=t.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0};var o=t.prototype.isRejected=function(){return(this._bitField&16777216)!==0};var a=t.prototype.isPending=function(){return(this._bitField&50397184)===0};var s=t.prototype.isResolved=function(){return(this._bitField&50331648)!==0};t.prototype.isCancelled=function(){return(this._bitField&8454144)!==0};e.prototype.__isCancelled=function(){return(this._bitField&65536)===65536};e.prototype._isCancelled=function(){return this._target().__isCancelled()};e.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0};e.prototype.isPending=function(){return a.call(this._target())};e.prototype.isRejected=function(){return o.call(this._target())};e.prototype.isFulfilled=function(){return i.call(this._target())};e.prototype.isResolved=function(){return s.call(this._target())};e.prototype.value=function(){return n.call(this._target())};e.prototype.reason=function(){var e=this._target();e._unsetRejectionIsUnhandled();return r.call(e)};e.prototype._value=function(){return this._settledValue()};e.prototype._reason=function(){this._unsetRejectionIsUnhandled();return this._settledValue()};e.PromiseInspection=t}},{}],33:[function(r,e,t){"use strict";e.exports=function(c,u){var d=r("./util");var f=d.errorObj;var i=d.isObject;function e(e,t){if(i(e)){if(e instanceof c)return e;var n=o(e);if(n===f){if(t)t._pushContext();var r=c.reject(n.e);if(t)t._popContext();return r}else if(typeof n==="function"){if(a(e)){var r=new c(u);e._then(r._fulfill,r._reject,undefined,r,null);return r}return s(e,n,t)}}return e}function t(e){return e.then}function o(e){try{return t(e)}catch(e){f.e=e;return f}}var n={}.hasOwnProperty;function a(e){try{return n.call(e,"_promise0")}catch(e){return false}}function s(e,t,n){var r=new c(u);var i=r;if(n)n._pushContext();r._captureStackTrace();if(n)n._popContext();var o=true;var a=d.tryCatch(t).call(e,s,l);o=false;if(r&&a===f){r._rejectCallback(a.e,true,true);r=null}function s(e){if(!r)return;r._resolveCallback(e);r=null}function l(e){if(!r)return;r._rejectCallback(e,o,true);r=null}return i}return e}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(i,o,a){var s=e("./util");var l=i.TimeoutError;function c(e){this.handle=e}c.prototype._resultCancelled=function(){clearTimeout(this.handle)};var u=function e(t){return n(+this).thenReturn(t)};var n=i.delay=function(e,t){var n;var r;if(t!==undefined){n=i.resolve(t)._then(u,null,null,e,undefined);if(a.cancellation()&&t instanceof i){n._setOnCancel(t)}}else{n=new i(o);r=setTimeout(function(){n._fulfill()},+e);if(a.cancellation()){n._setOnCancel(new c(r))}n._captureStackTrace()}n._setAsyncGuaranteed();return n};i.prototype.delay=function(e){return n(e,this)};var d=function e(t,n,r){var i;if(typeof n!=="string"){if(n instanceof Error){i=n}else{i=new l("operation timed out")}}else{i=new l(n)}s.markAsOriginatingFromRejection(i);t._attachExtraTrace(i);t._reject(i);if(r!=null){r.cancel()}};function f(e){clearTimeout(this.handle);return e}function p(e){clearTimeout(this.handle);throw e}i.prototype.timeout=function(e,t){e=+e;var n,r;var i=new c(setTimeout(function e(){if(n.isPending()){d(n,t,r)}},e));if(a.cancellation()){r=this.then();n=r._then(f,p,undefined,i,undefined);n._setOnCancel(i)}else{n=this._then(f,p,undefined,i,undefined)}return n}}},{"./util":36}],35:[function(a,e,t){"use strict";e.exports=function(f,p,h,t,e,g){var m=a("./util");var n=a("./errors").TypeError;var r=a("./util").inherits;var v=m.errorObj;var y=m.tryCatch;var i={};function s(e){setTimeout(function(){throw e},0)}function l(e){var t=h(e);if(t!==e&&typeof e._isDisposable==="function"&&typeof e._getDisposer==="function"&&e._isDisposable()){t._setDisposable(e._getDisposer())}return t}function b(t,n){var r=0;var i=t.length;var o=new f(e);function a(){if(r>=i)return o._fulfill();var e=l(t[r++]);if(e instanceof f&&e._isDisposable()){try{e=h(e._getDisposer().tryDispose(n),t.promise)}catch(e){return s(e)}if(e instanceof f){return e._then(a,s,null,null,null)}}a()}a();return o}function w(e,t,n){this._data=e;this._promise=t;this._context=n}w.prototype.data=function(){return this._data};w.prototype.promise=function(){return this._promise};w.prototype.resource=function(){if(this.promise().isFulfilled()){return this.promise().value()}return i};w.prototype.tryDispose=function(e){var t=this.resource();var n=this._context;if(n!==undefined)n._pushContext();var r=t!==i?this.doDispose(t,e):null;if(n!==undefined)n._popContext();this._promise._unsetDisposable();this._data=null;return r};w.isDisposer=function(e){return e!=null&&typeof e.resource==="function"&&typeof e.tryDispose==="function"};function o(e,t,n){this.constructor$(e,t,n)}r(o,w);o.prototype.doDispose=function(e,t){var n=this.data();return n.call(e,e,t)};function _(e){if(w.isDisposer(e)){this.resources[this.index]._setDisposable(e);return e.promise()}return e}function T(e){this.length=e;this.promise=null;this[e-1]=null}T.prototype._resultCancelled=function(){var e=this.length;for(var t=0;t<e;++t){var n=this[t];if(n instanceof f){n.cancel()}}};f.using=function(){var e=arguments.length;if(e<2)return p("you must pass at least 2 arguments to Promise.using");var o=arguments[e-1];if(typeof o!=="function"){return p("expecting a function but got "+m.classString(o))}var t;var a=true;if(e===2&&Array.isArray(arguments[0])){t=arguments[0];e=t.length;a=false}else{t=arguments;e--}var n=new T(e);for(var r=0;r<e;++r){var i=t[r];if(w.isDisposer(i)){var s=i;i=i.promise();i._setDisposable(s)}else{var l=h(i);if(l instanceof f){i=l._then(_,null,null,{resources:n,index:r},undefined)}}n[r]=i}var c=new Array(n.length);for(var r=0;r<c.length;++r){c[r]=f.resolve(n[r]).reflect()}var u=f.all(c).then(function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected()){v.e=n.error();return v}else if(!n.isFulfilled()){u.cancel();return}e[t]=n.value()}d._pushContext();o=y(o);var r=a?o.apply(undefined,e):o(e);var i=d._popContext();g.checkForgottenReturns(r,i,"Promise.using",d);return r});var d=u.lastly(function(){var e=new f.PromiseInspection(u);return b(n,e)});n.promise=d;d._setOnCancel(n);return d};f.prototype._setDisposable=function(e){this._bitField=this._bitField|131072;this._disposer=e};f.prototype._isDisposable=function(){return(this._bitField&131072)>0};f.prototype._getDisposer=function(){return this._disposer};f.prototype._unsetDisposable=function(){this._bitField=this._bitField&~131072;this._disposer=undefined};f.prototype.disposer=function(e){if(typeof e==="function"){return new o(e,this,t())}throw new n}}},{"./errors":12,"./util":36}],36:[function(e,t,n){"use strict";var c=e("./es5");var r=typeof navigator=="undefined";var i={e:{}};var o;var a=typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof U!=="undefined"?U:this!==undefined?this:null;function s(){try{var e=o;o=null;return e.apply(this,arguments)}catch(e){i.e=e;return i}}function l(e){o=e;return s}var u=function e(t,n){var r={}.hasOwnProperty;function i(){this.constructor=t;this.constructor$=n;for(var e in n.prototype){if(r.call(n.prototype,e)&&e.charAt(e.length-1)!=="$"){this[e+"$"]=n.prototype[e]}}}i.prototype=n.prototype;t.prototype=new i;return t.prototype};function d(e){return e==null||e===true||e===false||typeof e==="string"||typeof e==="number"}function f(e){return typeof e==="function"||(typeof e==="undefined"?"undefined":se(e))==="object"&&e!==null}function p(e){if(!d(e))return e;return new Error(S(e))}function h(e,t){var n=e.length;var r=new Array(n+1);var i;for(i=0;i<n;++i){r[i]=e[i]}r[i]=t;return r}function g(e,t,n){if(c.isES5){var r=Object.getOwnPropertyDescriptor(e,t);if(r!=null){return r.get==null&&r.set==null?r.value:n}}else{return{}.hasOwnProperty.call(e,t)?e[t]:undefined}}function m(e,t,n){if(d(e))return e;var r={value:n,configurable:true,enumerable:false,writable:true};c.defineProperty(e,t,r);return e}function v(e){throw e}var y=function(){var i=[Array.prototype,Object.prototype,Function.prototype];var s=function e(t){for(var n=0;n<i.length;++n){if(i[n]===t){return true}}return false};if(c.isES5){var l=Object.getOwnPropertyNames;return function(e){var t=[];var n=window._cti_backfill_object_create(null);while(e!=null&&!s(e)){var r;try{r=l(e)}catch(e){return t}for(var i=0;i<r.length;++i){var o=r[i];if(n[o])continue;n[o]=true;var a=Object.getOwnPropertyDescriptor(e,o);if(a!=null&&a.get==null&&a.set==null){t.push(o)}}e=c.getPrototypeOf(e)}return t}}else{var o={}.hasOwnProperty;return function(e){if(s(e))return[];var t=[];e:for(var n in e){if(o.call(e,n)){t.push(n)}else{for(var r=0;r<i.length;++r){if(o.call(i[r],n)){continue e}}t.push(n)}}return t}}}();var b=/this\s*\.\s*\S+\s*=/;function w(e){try{if(typeof e==="function"){var t=c.names(e.prototype);var n=c.isES5&&t.length>1;var r=t.length>0&&!(t.length===1&&t[0]==="constructor");var i=b.test(e+"")&&c.names(e).length>0;if(n||r||i){return true}}return false}catch(e){return false}}function _(e){function t(){}t.prototype=e;var n=8;while(n--){new t}return e}var T=/^[a-z$_][a-z$_0-9]*$/i;function k(e){return T.test(e)}function D(e,t,n){var r=new Array(e);for(var i=0;i<e;++i){r[i]=t+i+n}return r}function S(e){try{return e+""}catch(e){return"[no string representation]"}}function x(e){return e instanceof Error||e!==null&&(typeof e==="undefined"?"undefined":se(e))==="object"&&typeof e.message==="string"&&typeof e.name==="string"}function C(e){try{m(e,"isOperational",true)}catch(e){}}function E(e){if(e==null)return false;return e instanceof Error["__BluebirdErrorTypes__"].OperationalError||e["isOperational"]===true}function A(e){return x(e)&&c.propertyIsWritable(e,"stack")}var O=function(){if(!("stack"in new Error)){return function(e){if(A(e))return e;try{throw new Error(S(e))}catch(e){return e}}}else{return function(e){if(A(e))return e;return new Error(S(e))}}}();function L(e){return{}.toString.call(e)}function I(e,t,n){var r=c.names(e);for(var i=0;i<r.length;++i){var o=r[i];if(n(o)){try{c.defineProperty(t,o,c.getDescriptor(e,o))}catch(e){}}}}var P=function e(t){if(c.isArray(t)){return t}return null};if(typeof Symbol!=="undefined"&&Symbol.iterator){var j=typeof Array.from==="function"?function(e){return Array.from(e)}:function(e){var t=[];var n=e[Symbol.iterator]();var r;while(!(r=n.next()).done){t.push(r.value)}return t};P=function e(t){if(c.isArray(t)){return t}else if(t!=null&&typeof t[Symbol.iterator]==="function"){return j(t)}return null}}var R=typeof ae!=="undefined"&&L(ae).toLowerCase()==="[object process]";var B=typeof ae!=="undefined"&&typeof ae.env!=="undefined";function M(e){return B?ae.env[e]:undefined}function N(){if(typeof Promise==="function"){try{var e=new Promise(function(){});if({}.toString.call(e)==="[object Promise]"){return Promise}}catch(e){}}}function H(e,t){return window._cti_backfill_function_prototype_bind(e,t)}var F={isClass:w,isIdentifier:k,inheritedDataKeys:y,getDataPropertyOrDefault:g,thrower:v,isArray:c.isArray,asArray:P,notEnumerableProp:m,isPrimitive:d,isObject:f,isError:x,canEvaluate:r,errorObj:i,tryCatch:l,inherits:u,withAppended:h,maybeWrapAsError:p,toFastProperties:_,filledRange:D,toString:S,canAttachTrace:A,ensureErrorObject:O,originatesFromRejection:E,markAsOriginatingFromRejection:C,classString:L,copyDescriptors:I,hasDevTools:typeof chrome!=="undefined"&&chrome&&typeof chrome.loadTimes==="function",isNode:R,hasEnvVariables:B,env:M,global:a,getNativePromise:N,domainBind:H};F.isRecentNode=F.isNode&&function(){var e=ae.versions.node.split(".").map(Number);return e[0]===0&&e[1]>10||e[0]>0}();if(F.isNode)F.toFastProperties(ae);try{throw new Error}catch(e){F.lastLineError=e}t.exports=F},{"./es5":13}]},{},[4])(4)}()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{_process:"lib/cti.tools/node_modules/process/browser.js",timers:"lib/cti.tools/node_modules/timers-browserify/main.js"}],"lib/cti.sdk/lib/libs/fingerprint2.js":[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=this.extend(e,{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",detectScreenOrientation:!0,sortPluginsFor:[/palemoon/i],userDefinedFonts:[],excludeDoNotTrack:!0,excludePixelRatio:!0}),this.nativeForEach=Array.prototype.forEach,this.nativeMap=Array.prototype.map}r.prototype={extend:function(e,t){if(null==e)return t;for(var n in e)null!=e[n]&&t[n]!==e[n]&&(t[n]=e[n]);return t},get:function(r){var i=this,n={data:[],addPreprocessedComponent:function(e){var t=e.value;"function"==typeof i.options.preprocessor&&(t=i.options.preprocessor(e.key,t)),n.data.push({key:e.key,value:t})}};n=this.userAgentKey(n),n=this.languageKey(n),n=this.colorDepthKey(n),n=this.deviceMemoryKey(n),n=this.pixelRatioKey(n),n=this.hardwareConcurrencyKey(n),n=this.screenResolutionKey(n),n=this.availableScreenResolutionKey(n),n=this.timezoneOffsetKey(n),n=this.sessionStorageKey(n),n=this.localStorageKey(n),n=this.indexedDbKey(n),n=this.addBehaviorKey(n),n=this.openDatabaseKey(n),n=this.cpuClassKey(n),n=this.platformKey(n),n=this.doNotTrackKey(n),n=this.pluginsKey(n),n=this.canvasKey(n),n=this.webglKey(n),n=this.webglVendorAndRendererKey(n),n=this.adBlockKey(n),n=this.hasLiedLanguagesKey(n),n=this.hasLiedResolutionKey(n),n=this.hasLiedOsKey(n),n=this.hasLiedBrowserKey(n),n=this.touchSupportKey(n),n=this.customEntropyFunction(n),this.fontsKey(n,function(e){var n=[];i.each(e.data,function(e){var t=e.value;t&&"function"==typeof t.join&&(t=t.join(";")),n.push(t)});var t=i.x64hash128(n.join("~~~"),31);return r(t,e.data)})},customEntropyFunction:function(e){return"function"==typeof this.options.customFunction&&e.addPreprocessedComponent({key:"custom",value:this.options.customFunction()}),e},userAgentKey:function(e){return this.options.excludeUserAgent||e.addPreprocessedComponent({key:"user_agent",value:this.getUserAgent()}),e},getUserAgent:function(){return navigator.userAgent},languageKey:function(e){return this.options.excludeLanguage||e.addPreprocessedComponent({key:"language",value:navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||""}),e},colorDepthKey:function(e){return this.options.excludeColorDepth||e.addPreprocessedComponent({key:"color_depth",value:window.screen.colorDepth||-1}),e},deviceMemoryKey:function(e){return this.options.excludeDeviceMemory||e.addPreprocessedComponent({key:"device_memory",value:this.getDeviceMemory()}),e},getDeviceMemory:function(){return navigator.deviceMemory||-1},pixelRatioKey:function(e){return this.options.excludePixelRatio||e.addPreprocessedComponent({key:"pixel_ratio",value:this.getPixelRatio()}),e},getPixelRatio:function(){return window.devicePixelRatio||""},screenResolutionKey:function(e){return this.options.excludeScreenResolution?e:this.getScreenResolution(e)},getScreenResolution:function(e){var t;return t=this.options.detectScreenOrientation&&window.screen.height>window.screen.width?[window.screen.height,window.screen.width]:[window.screen.width,window.screen.height],e.addPreprocessedComponent({key:"resolution",value:t}),e},availableScreenResolutionKey:function(e){return this.options.excludeAvailableScreenResolution?e:this.getAvailableScreenResolution(e)},getAvailableScreenResolution:function(e){var t;return window.screen.availWidth&&window.screen.availHeight&&(t=this.options.detectScreenOrientation?window.screen.availHeight>window.screen.availWidth?[window.screen.availHeight,window.screen.availWidth]:[window.screen.availWidth,window.screen.availHeight]:[window.screen.availHeight,window.screen.availWidth]),void 0!==t&&e.addPreprocessedComponent({key:"available_resolution",value:t}),e},timezoneOffsetKey:function(e){return this.options.excludeTimezoneOffset||e.addPreprocessedComponent({key:"timezone_offset",value:(new Date).getTimezoneOffset()}),e},sessionStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasSessionStorage()&&e.addPreprocessedComponent({key:"session_storage",value:1}),e},localStorageKey:function(e){return!this.options.excludeSessionStorage&&this.hasLocalStorage()&&e.addPreprocessedComponent({key:"local_storage",value:1}),e},indexedDbKey:function(e){return!this.options.excludeIndexedDB&&this.hasIndexedDB()&&e.addPreprocessedComponent({key:"indexed_db",value:1}),e},addBehaviorKey:function(e){return!this.options.excludeAddBehavior&&document.body&&document.body.addBehavior&&e.addPreprocessedComponent({key:"add_behavior",value:1}),e},openDatabaseKey:function(e){return!this.options.excludeOpenDatabase&&window.openDatabase&&e.addPreprocessedComponent({key:"open_database",value:1}),e},cpuClassKey:function(e){return this.options.excludeCpuClass||e.addPreprocessedComponent({key:"cpu_class",value:this.getNavigatorCpuClass()}),e},platformKey:function(e){return this.options.excludePlatform||e.addPreprocessedComponent({key:"navigator_platform",value:this.getNavigatorPlatform()}),e},doNotTrackKey:function(e){return this.options.excludeDoNotTrack||e.addPreprocessedComponent({key:"do_not_track",value:this.getDoNotTrack()}),e},canvasKey:function(e){return!this.options.excludeCanvas&&this.isCanvasSupported()&&e.addPreprocessedComponent({key:"canvas",value:this.getCanvasFp()}),e},webglKey:function(e){return!this.options.excludeWebGL&&this.isWebGlSupported()&&e.addPreprocessedComponent({key:"webgl",value:this.getWebglFp()}),e},webglVendorAndRendererKey:function(e){return!this.options.excludeWebGLVendorAndRenderer&&this.isWebGlSupported()&&e.addPreprocessedComponent({key:"webgl_vendor",value:this.getWebglVendorAndRenderer()}),e},adBlockKey:function(e){return this.options.excludeAdBlock||e.addPreprocessedComponent({key:"adblock",value:this.getAdBlock()}),e},hasLiedLanguagesKey:function(e){return this.options.excludeHasLiedLanguages||e.addPreprocessedComponent({key:"has_lied_languages",value:this.getHasLiedLanguages()}),e},hasLiedResolutionKey:function(e){return this.options.excludeHasLiedResolution||e.addPreprocessedComponent({key:"has_lied_resolution",value:this.getHasLiedResolution()}),e},hasLiedOsKey:function(e){return this.options.excludeHasLiedOs||e.addPreprocessedComponent({key:"has_lied_os",value:this.getHasLiedOs()}),e},hasLiedBrowserKey:function(e){return this.options.excludeHasLiedBrowser||e.addPreprocessedComponent({key:"has_lied_browser",value:this.getHasLiedBrowser()}),e},fontsKey:function(e,t){return this.options.excludeJsFonts?this.flashFontsKey(e,t):this.jsFontsKey(e,t)},flashFontsKey:function(t,n){return this.options.excludeFlashFonts?n(t):this.hasSwfObjectLoaded()&&this.hasMinFlashInstalled()?void 0===this.options.swfPath?n(t):void this.loadSwfAndDetectFonts(function(e){t.addPreprocessedComponent({key:"swf_fonts",value:e.join(";")}),n(t)}):n(t)},jsFontsKey:function(m,v){var y=this;return setTimeout(function(){var u=["monospace","sans-serif","serif"],d=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];y.options.extendedJsFonts&&(d=d.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),d=(d=d.concat(y.options.userDefinedFonts)).filter(function(e,t){return d.indexOf(e)===t});function f(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML="mmmmmmmmmmlli",e}function e(e){for(var t=!1,n=0;n<u.length;n++)if(t=e[n].offsetWidth!==r[u[n]]||e[n].offsetHeight!==o[u[n]])return t;return t}var t=document.getElementsByTagName("body")[0],i=document.createElement("div"),p=document.createElement("div"),r={},o={},n=function(){for(var e=[],t=0,n=u.length;t<n;t++){var r=f();r.style.fontFamily=u[t],i.appendChild(r),e.push(r)}return e}();t.appendChild(i);for(var a=0,s=u.length;a<s;a++)r[u[a]]=n[a].offsetWidth,o[u[a]]=n[a].offsetHeight;var l=function(){for(var e,t,n,r={},i=0,o=d.length;i<o;i++){for(var a=[],s=0,l=u.length;s<l;s++){var c=(e=d[i],t=u[s],n=void 0,(n=f()).style.fontFamily="'"+e+"',"+t,n);p.appendChild(c),a.push(c)}r[d[i]]=a}return r}();t.appendChild(p);for(var c=[],h=0,g=d.length;h<g;h++)e(l[d[h]])&&c.push(d[h]);t.removeChild(p),t.removeChild(i),m.addPreprocessedComponent({key:"js_fonts",value:c}),v(m)},1)},pluginsKey:function(e){return this.options.excludePlugins||(this.isIE()?this.options.excludeIEPlugins||e.addPreprocessedComponent({key:"ie_plugins",value:this.getIEPlugins()}):e.addPreprocessedComponent({key:"regular_plugins",value:this.getRegularPlugins()})),e},getRegularPlugins:function(){var e=[];if(navigator.plugins)for(var t=0,n=navigator.plugins.length;t<n;t++)navigator.plugins[t]&&e.push(navigator.plugins[t]);return this.pluginsShouldBeSorted()&&(e=e.sort(function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(e,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",");return[e.name,e.description,t].join("::")},this)},getIEPlugins:function(){var e=[];if(Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window){e=this.map(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],function(e){try{return new window.ActiveXObject(e),e}catch(e){return null}})}return navigator.plugins&&(e=e.concat(this.getRegularPlugins())),e},pluginsShouldBeSorted:function(){for(var e=!1,t=0,n=this.options.sortPluginsFor.length;t<n;t++){var r=this.options.sortPluginsFor[t];if(navigator.userAgent.match(r)){e=!0;break}}return e},touchSupportKey:function(e){return this.options.excludeTouchSupport||e.addPreprocessedComponent({key:"touch_support",value:this.getTouchSupport()}),e},hardwareConcurrencyKey:function(e){return this.options.excludeHardwareConcurrency||e.addPreprocessedComponent({key:"hardware_concurrency",value:this.getHardwareConcurrency()}),e},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},hasLocalStorage:function(){try{return!!window.localStorage}catch(e){return!0}},hasIndexedDB:function(){try{return!!window.indexedDB}catch(e){return!0}},getHardwareConcurrency:function(){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:"unknown"},getNavigatorCpuClass:function(){return navigator.cpuClass?navigator.cpuClass:"unknown"},getNavigatorPlatform:function(){return navigator.platform?navigator.platform:"unknown"},getDoNotTrack:function(){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:"unknown"},getTouchSupport:function(){var e=0,t=!1;void 0!==navigator.maxTouchPoints?e=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(e=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){}return[e,t,"ontouchstart"in window]},getCanvasFp:function(){var e=[],t=document.createElement("canvas");t.width=2e3,t.height=200,t.style.display="inline";var n=t.getContext("2d");return n.rect(0,0,10,10),n.rect(2,2,6,6),e.push("canvas winding:"+(!1===n.isPointInPath(5,5,"evenodd")?"yes":"no")),n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",this.options.dontUseFakeFontInCanvas?n.font="11pt Arial":n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),t.toDataURL&&e.push("canvas fp:"+t.toDataURL()),e.join("~")},getWebglFp:function(){function e(e){return a.clearColor(0,0,0,1),a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),"["+e[0]+", "+e[1]+"]"}var a;if(!(a=this.getWebglCanvas()))return null;var s=[],t=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,t);var n=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);a.bufferData(a.ARRAY_BUFFER,n,a.STATIC_DRAW),t.itemSize=3,t.numItems=3;var r=a.createProgram(),i=a.createShader(a.VERTEX_SHADER);a.shaderSource(i,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),a.compileShader(i);var o=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(o,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),a.compileShader(o),a.attachShader(r,i),a.attachShader(r,o),a.linkProgram(r),a.useProgram(r),r.vertexPosAttrib=a.getAttribLocation(r,"attrVertex"),r.offsetUniform=a.getUniformLocation(r,"uniformOffset"),a.enableVertexAttribArray(r.vertexPosArray),a.vertexAttribPointer(r.vertexPosAttrib,t.itemSize,a.FLOAT,!1,0,0),a.uniform2f(r.offsetUniform,1,1),a.drawArrays(a.TRIANGLE_STRIP,0,t.numItems);try{s.push(a.canvas.toDataURL())}catch(e){}s.push("extensions:"+(a.getSupportedExtensions()||[]).join(";")),s.push("webgl aliased line width range:"+e(a.getParameter(a.ALIASED_LINE_WIDTH_RANGE))),s.push("webgl aliased point size range:"+e(a.getParameter(a.ALIASED_POINT_SIZE_RANGE))),s.push("webgl alpha bits:"+a.getParameter(a.ALPHA_BITS)),s.push("webgl antialiasing:"+(a.getContextAttributes().antialias?"yes":"no")),s.push("webgl blue bits:"+a.getParameter(a.BLUE_BITS)),s.push("webgl depth bits:"+a.getParameter(a.DEPTH_BITS)),s.push("webgl green bits:"+a.getParameter(a.GREEN_BITS)),s.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var n=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(a)),s.push("webgl max combined texture image units:"+a.getParameter(a.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),s.push("webgl max cube map texture size:"+a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE)),s.push("webgl max fragment uniform vectors:"+a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS)),s.push("webgl max render buffer size:"+a.getParameter(a.MAX_RENDERBUFFER_SIZE)),s.push("webgl max texture image units:"+a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS)),s.push("webgl max texture size:"+a.getParameter(a.MAX_TEXTURE_SIZE)),s.push("webgl max varying vectors:"+a.getParameter(a.MAX_VARYING_VECTORS)),s.push("webgl max vertex attribs:"+a.getParameter(a.MAX_VERTEX_ATTRIBS)),s.push("webgl max vertex texture image units:"+a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),s.push("webgl max vertex uniform vectors:"+a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS)),s.push("webgl max viewport dims:"+e(a.getParameter(a.MAX_VIEWPORT_DIMS))),s.push("webgl red bits:"+a.getParameter(a.RED_BITS)),s.push("webgl renderer:"+a.getParameter(a.RENDERER)),s.push("webgl shading language version:"+a.getParameter(a.SHADING_LANGUAGE_VERSION)),s.push("webgl stencil bits:"+a.getParameter(a.STENCIL_BITS)),s.push("webgl vendor:"+a.getParameter(a.VENDOR)),s.push("webgl version:"+a.getParameter(a.VERSION));try{var l=a.getExtension("WEBGL_debug_renderer_info");l&&(s.push("webgl unmasked vendor:"+a.getParameter(l.UNMASKED_VENDOR_WEBGL)),s.push("webgl unmasked renderer:"+a.getParameter(l.UNMASKED_RENDERER_WEBGL)))}catch(e){}if(!a.getShaderPrecisionFormat)return s.join("~");var c=this;return c.each(["FLOAT","INT"],function(o){c.each(["VERTEX","FRAGMENT"],function(i){c.each(["HIGH","MEDIUM","LOW"],function(r){c.each(["precision","rangeMin","rangeMax"],function(e){var t=a.getShaderPrecisionFormat(a[i+"_SHADER"],a[r+"_"+o])[e];"precision"!==e&&(e="precision "+e);var n=["webgl ",i.toLowerCase()," shader ",r.toLowerCase()," ",o.toLowerCase()," ",e,":",t];s.push(n.join(""))})})})}),s.join("~")},getWebglVendorAndRenderer:function(){try{var e=this.getWebglCanvas(),t=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL)}catch(e){return null}},getAdBlock:function(){var e=document.createElement("div");e.innerHTML="&nbsp;";var t=!(e.className="adsbox");try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t},getHasLiedLanguages:function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1},getHasLiedResolution:function(){return window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight},getHasLiedOs:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,r=navigator.platform.toLowerCase();if(e=0<=t.indexOf("windows phone")?"Windows Phone":0<=t.indexOf("win")?"Windows":0<=t.indexOf("android")?"Android":0<=t.indexOf("linux")?"Linux":0<=t.indexOf("iphone")||0<=t.indexOf("ipad")?"iOS":0<=t.indexOf("mac")?"Mac":"Other",("ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==n){if(0<=(n=n.toLowerCase()).indexOf("win")&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(0<=n.indexOf("linux")&&"Linux"!==e&&"Android"!==e)return!0;if(0<=n.indexOf("mac")&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===e))return!0}return 0<=r.indexOf("win")&&"Windows"!==e&&"Windows Phone"!==e||((0<=r.indexOf("linux")||0<=r.indexOf("android")||0<=r.indexOf("pike"))&&"Linux"!==e&&"Android"!==e||((0<=r.indexOf("mac")||0<=r.indexOf("ipad")||0<=r.indexOf("ipod")||0<=r.indexOf("iphone"))&&"Mac"!==e&&"iOS"!==e||((-1===r.indexOf("win")&&-1===r.indexOf("linux")&&-1===r.indexOf("mac"))!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e)))},getHasLiedBrowser:function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"===(e=0<=t.indexOf("firefox")?"Firefox":0<=t.indexOf("opera")||0<=t.indexOf("opr")?"Opera":0<=t.indexOf("chrome")?"Chrome":0<=t.indexOf("safari")?"Safari":0<=t.indexOf("trident")?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var r,i=eval.toString().length;if(37===i&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===i&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===i&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),r=!0}catch(e){r=!1}}return!(!r||"Firefox"===e||"Other"===e)},isCanvasSupported:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},isWebGlSupported:function(){if(!this.isCanvasSupported())return!1;var e=this.getWebglCanvas();return!!window.WebGLRenderingContext&&!!e},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator.appName||!/Trident/.test(navigator.userAgent))},hasSwfObjectLoaded:function(){return void 0!==window.swfobject},hasMinFlashInstalled:function(){return window.swfobject.hasFlashPlayerVersion("9.0.0")},addFlashDivNode:function(){var e=document.createElement("div");e.setAttribute("id",this.options.swfContainerId),document.body.appendChild(e)},loadSwfAndDetectFonts:function(t){var e="___fp_swf_loaded";window[e]=function(e){t(e)};var n=this.options.swfContainerId;this.addFlashDivNode();var r={onReady:e};window.swfobject.embedSWF(this.options.swfPath,n,"1","1","9.0.0",!1,r,{allowScriptAccess:"always",menu:"false"},{})},getWebglCanvas:function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t=t||null},each:function(e,t,n){if(null!==e)if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)==={})return}else for(var o in e)if(e.hasOwnProperty(o)&&t.call(n,e[o],o,e)==={})return},map:function(e,r,i){var o=[];return null==e?o:this.nativeMap&&e.map===this.nativeMap?e.map(r,i):(this.each(e,function(e,t,n){o[o.length]=r.call(i,e,t,n)}),o)},x64Add:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Multiply:function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},x64Rotl:function(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},x64LeftShift:function(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},x64Xor:function(e,t){return[e[0]^t[0],e[1]^t[1]]},x64Fmix:function(e){return e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[4283543511,3981806797]),e=this.x64Xor(e,[0,e[0]>>>1]),e=this.x64Multiply(e,[3301882366,444984403]),e=this.x64Xor(e,[0,e[0]>>>1])},x64hash128:function(e,t){t=t||0;for(var n=(e=e||"").length%16,r=e.length-n,i=[0,t],o=[0,t],a=[0,0],s=[0,0],l=[2277735313,289559509],c=[1291169091,658871167],u=0;u<r;u+=16)a=[255&e.charCodeAt(u+4)|(255&e.charCodeAt(u+5))<<8|(255&e.charCodeAt(u+6))<<16|(255&e.charCodeAt(u+7))<<24,255&e.charCodeAt(u)|(255&e.charCodeAt(u+1))<<8|(255&e.charCodeAt(u+2))<<16|(255&e.charCodeAt(u+3))<<24],s=[255&e.charCodeAt(u+12)|(255&e.charCodeAt(u+13))<<8|(255&e.charCodeAt(u+14))<<16|(255&e.charCodeAt(u+15))<<24,255&e.charCodeAt(u+8)|(255&e.charCodeAt(u+9))<<8|(255&e.charCodeAt(u+10))<<16|(255&e.charCodeAt(u+11))<<24],a=this.x64Multiply(a,l),a=this.x64Rotl(a,31),a=this.x64Multiply(a,c),i=this.x64Xor(i,a),i=this.x64Rotl(i,27),i=this.x64Add(i,o),i=this.x64Add(this.x64Multiply(i,[0,5]),[0,1390208809]),s=this.x64Multiply(s,c),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),o=this.x64Xor(o,s),o=this.x64Rotl(o,31),o=this.x64Add(o,i),o=this.x64Add(this.x64Multiply(o,[0,5]),[0,944331445]);switch(a=[0,0],s=[0,0],n){case 15:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+14)],48));case 14:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+13)],40));case 13:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+12)],32));case 12:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+11)],24));case 11:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+10)],16));case 10:s=this.x64Xor(s,this.x64LeftShift([0,e.charCodeAt(u+9)],8));case 9:s=this.x64Xor(s,[0,e.charCodeAt(u+8)]),s=this.x64Multiply(s,c),s=this.x64Rotl(s,33),s=this.x64Multiply(s,l),o=this.x64Xor(o,s);case 8:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+7)],56));case 7:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+6)],48));case 6:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+5)],40));case 5:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+4)],32));case 4:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+3)],24));case 3:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+2)],16));case 2:a=this.x64Xor(a,this.x64LeftShift([0,e.charCodeAt(u+1)],8));case 1:a=this.x64Xor(a,[0,e.charCodeAt(u)]),a=this.x64Multiply(a,l),a=this.x64Rotl(a,31),a=this.x64Multiply(a,c),i=this.x64Xor(i,a)}return i=this.x64Xor(i,[0,e.length]),o=this.x64Xor(o,[0,e.length]),i=this.x64Add(i,o),o=this.x64Add(o,i),i=this.x64Fmix(i),o=this.x64Fmix(o),i=this.x64Add(i,o),o=this.x64Add(o,i),("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)+("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)}},r.VERSION="1.8.0",t.exports=r},{}],"lib/cti.sdk/lib/libs/jquery.js":[function(e,t,tn){"use strict";var nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};tn.forLib=function(o,a){if(o.runtime&&o.runtime.isServer())return{$:S=function(){throw new Error("jQuery not available on server")},jQuery:S};a=a||{};o.console;function g(e){return null!=e&&e===e.window}var k=o.dom.window,e=[],D=k.document,r=Object.getPrototypeOf,s=e.slice,m=e.concat,l=e.push,i=e.indexOf,n={},c=n.toString,v=n.hasOwnProperty,u=v.toString,d=u.call(Object),y={},b=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},f={type:!0,src:!0,noModule:!0};function w(e,t,n){var r,i=(t=t||D).createElement("script");if(i.text=e,n)for(r in f)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function _(e){return null==e?e+"":"object"===(void 0===e?"undefined":nn(e))||"function"==typeof e?n[c.call(e)]||"object":void 0===e?"undefined":nn(e)}var S,t,p=/^-ms-/,h=/-([\da-z])/gi,T=function(e,t){return t.toUpperCase()};function x(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!b(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}(S=function e(t,n){if(o.HEADUP&&!1!==a.observe){o.HEADUP.incrementCount("selects");var r=t;n&&(r="C/ "+r),o.HEADUP.incrementUsage("selects",r)}var i=new e.fn.init(t,n);if(i&&0<i.length&&o.HEADUP&&!1!==a.observe){r=t;n&&(r="C/ "+r),o.HEADUP.incrementUsage("matches",r,i.length)}return i}).unobserved=function(){return tn.forLib(o,{observe:!1}).$},t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,S.fn=S.prototype={jquery:"3.3.1",constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:e.sort,splice:e.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"===(void 0===a?"undefined":nn(a))||b(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(o=i?(i=!1,n&&Array.isArray(n)?n:[]):n&&S.isPlainObject(n)?n:{},a[t]=S.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&u.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){w(e)},each:function(e,t){var n,r=0;if(x(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(t,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(x(Object(e))?S.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!=a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(x(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return m.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=e[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var C=function(n){function d(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}function i(){T()}var e,p,w,o,a,h,f,g,_,l,c,T,k,s,D,m,u,v,y,S="sizzle"+1*new Date,b=n.document,x=0,r=0,C=ae(),E=ae(),A=ae(),O=function(e,t){return e===t&&(c=!0),0},L={}.hasOwnProperty,t=[],I=t.pop,P=t.push,j=t.push,R=t.slice,B=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",N="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+N+"*("+H+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+H+"))|)"+N+"*\\]",U=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",z=new RegExp(N+"+","g"),V=new RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g"),Y=new RegExp("^"+N+"*,"+N+"*"),q=new RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),W=new RegExp("="+N+"*([^\\]'\"]*?)"+N+"*\\]","g"),G=new RegExp(U),K=new RegExp("^"+H+"$"),$={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+N+"?|("+N+")|.)","ig"),ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=ye(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{j.apply(t=R.call(b.childNodes),b.childNodes),t[b.childNodes.length].nodeType}catch(e){j={apply:t.length?function(e,t){P.apply(e,R.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,n,r){var i,o,a,s,l,c,u,d=t&&t.ownerDocument,f=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==f&&9!==f&&11!==f)return n;if(!r&&((t?t.ownerDocument||t:b)!==k&&T(t),t=t||k,D)){if(11!==f&&(l=Z.exec(e)))if(i=l[1]){if(9===f){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(d&&(a=d.getElementById(i))&&y(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return j.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&p.getElementsByClassName&&t.getElementsByClassName)return j.apply(n,t.getElementsByClassName(i)),n}if(p.qsa&&!A[e+" "]&&(!m||!m.test(e))){if(1!==f)d=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(ne,re):t.setAttribute("id",s=S),o=(c=h(e)).length;o--;)c[o]="#"+s+" "+ve(c[o]);u=c.join(","),d=ee.test(e)&&ge(t.parentNode)||t}if(u)try{return j.apply(n,d.querySelectorAll(u)),n}catch(e){}finally{s===S&&t.removeAttribute("id")}}}return g(e.replace(V,"$1"),t,n,r)}function ae(){var r=[];return function e(t,n){return r.push(t+" ")>w.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function se(e){return e[S]=!0,e}function le(e){var t=k.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),r=n.length;r--;)w.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function fe(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function pe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function he(a){return se(function(o){return o=+o,se(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ge(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in p=oe.support={},a=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=oe.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:b;return r!==k&&9===r.nodeType&&r.documentElement&&(s=(k=r).documentElement,D=!a(k),b!==k&&(n=k.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",i,!1):n.attachEvent&&n.attachEvent("onunload",i)),p.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),p.getElementsByTagName=le(function(e){return e.appendChild(k.createComment("")),!e.getElementsByTagName("*").length}),p.getElementsByClassName=Q.test(k.getElementsByClassName),p.getById=le(function(e){return s.appendChild(e).id=S,!k.getElementsByName||!k.getElementsByName(S).length}),p.getById?(w.filter.ID=function(e){var t=e.replace(te,d);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var n=t.getElementById(e);return n?[n]:[]}}):(w.filter.ID=function(e){var n=e.replace(te,d);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&D){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),w.find.TAG=p.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):p.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=p.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&D)return t.getElementsByClassName(e)},u=[],m=[],(p.qsa=Q.test(k.querySelectorAll))&&(le(function(e){s.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+N+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+N+"*(?:value|"+M+")"),e.querySelectorAll("[id~="+S+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||m.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=k.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+N+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),s.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(p.matchesSelector=Q.test(v=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&le(function(e){p.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),u.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),u=u.length&&new RegExp(u.join("|")),t=Q.test(s.compareDocumentPosition),y=t||Q.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},O=t?function(e,t){if(e===t)return c=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!p.sortDetached&&t.compareDocumentPosition(e)===n?e===k||e.ownerDocument===b&&y(b,e)?-1:t===k||t.ownerDocument===b&&y(b,t)?1:l?B(l,e)-B(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===k?-1:t===k?1:i?-1:o?1:l?B(l,e)-B(l,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]===b?-1:s[r]===b?1:0}),k},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==k&&T(e),t=t.replace(W,"='$1']"),p.matchesSelector&&D&&!A[t+" "]&&(!u||!u.test(t))&&(!m||!m.test(t)))try{var n=v.call(e,t);if(n||p.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<oe(t,k,null,[e]).length},oe.contains=function(e,t){return(e.ownerDocument||e)!==k&&T(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==k&&T(e);var n=w.attrHandle[t.toLowerCase()],r=n&&L.call(w.attrHandle,t.toLowerCase())?n(e,t,!D):void 0;return void 0!==r?r:p.attributes||!D?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},oe.escape=function(e){return(e+"").replace(ne,re)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,n=[],r=0,i=0;if(c=!p.detectDuplicates,l=!p.sortStable&&e.slice(0),e.sort(O),c){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return l=null,e},o=oe.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(w=oe.selectors={cacheLength:50,createPseudo:se,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,d),e[3]=(e[3]||e[4]||e[5]||"").replace(te,d),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&G.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,d).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=new RegExp("(^|"+N+")"+e+"("+N+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=oe.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(z," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),b="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,l,c=v!=y?"nextSibling":"previousSibling",u=e.parentNode,d=b&&e.nodeName.toLowerCase(),f=!n&&!b,p=!1;if(u){if(v){for(;c;){for(a=e;a=a[c];)if(b?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[y?u.firstChild:u.lastChild],y&&f){for(p=(s=(r=(i=(o=(a=u)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===x&&r[1])&&r[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(p=s=0)||l.pop();)if(1===a.nodeType&&++p&&a===e){i[h]=[x,s,p];break}}else if(f&&(p=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===x&&r[1]),!1===p)for(;(a=++s&&a&&a[c]||(p=s=0)||l.pop())&&((b?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(f&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[x,p]),a!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=B(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:se(function(e){var r=[],i=[],s=f(e.replace(V,"$1"));return s[S]?se(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:se(function(t){return function(e){return 0<oe(t,e).length}}),contains:se(function(t){return t=t.replace(te,d),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:se(function(n){return K.test(n||"")||oe.error("unsupported lang: "+n),n=n.replace(te,d).toLowerCase(),function(e){var t;do{if(t=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===k.activeElement&&(!k.hasFocus||k.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=fe(e);function me(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(s,e,t){var l=e.dir,c=e.next,u=c||l,d=t&&"parentNode"===u,f=r++;return e.first?function(e,t,n){for(;e=e[l];)if(1===e.nodeType||d)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[x,f];if(n){for(;e=e[l];)if((1===e.nodeType||d)&&s(e,t,n))return!0}else for(;e=e[l];)if(1===e.nodeType||d)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),c&&c===e.nodeName.toLowerCase())e=e[l]||e;else{if((r=i[u])&&r[0]===x&&r[1]===f)return a[2]=r[2];if((i[u]=a)[2]=s(e,t,n))return!0}return!1}}function be(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function we(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function _e(p,h,g,m,v,e){return m&&!m[S]&&(m=_e(m)),v&&!v[S]&&(v=_e(v,e)),se(function(e,t,n,r){var i,o,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!p||!e&&h?u:we(u,s,p,n,r),f=g?v||(e?p:c||m)?[]:t:d;if(g&&g(d,f,n,r),m)for(i=we(f,l),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(f[l[o]]=!(d[l[o]]=a));if(e){if(v||p){if(v){for(i=[],o=f.length;o--;)(a=f[o])&&i.push(d[o]=a);v(null,f=[],i,r)}for(o=f.length;o--;)(a=f[o])&&-1<(i=v?B(e,a):s[o])&&(e[i]=!(t[i]=a))}}else f=we(f===t?f.splice(c,f.length):f),v?v(null,t,f,r):j.apply(t,f)})}function Te(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=ye(function(e){return e===i},a,!0),c=ye(function(e){return-1<B(i,e)},a,!0),u=[function(e,t,n){var r=!o&&(n||t!==_)||((i=t).nodeType?l(e,t,n):c(e,t,n));return i=null,r}];s<r;s++)if(t=w.relative[e[s].type])u=[ye(be(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return _e(1<s&&be(u),1<s&&ve(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(V,"$1"),t,s<n&&Te(e.slice(s,n)),n<r&&Te(e=e.slice(n)),n<r&&ve(e))}u.push(t)}return be(u)}function ke(m,v){function e(e,t,n,r,i){var o,a,s,l=0,c="0",u=e&&[],d=[],f=_,p=e||b&&w.find.TAG("*",i),h=x+=null==f?1:Math.random()||.1,g=p.length;for(i&&(_=t===k||t||i);c!==g&&null!=(o=p[c]);c++){if(b&&o){for(a=0,t||o.ownerDocument===k||(T(o),n=!D);s=m[a++];)if(s(o,t||k,n)){r.push(o);break}i&&(x=h)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=I.call(r));d=we(d)}j.apply(r,d),i&&!e&&0<d.length&&1<l+v.length&&oe.uniqueSort(r)}return i&&(x=h,_=f),u}var y=0<v.length,b=0<m.length;return y?se(e):e}return me.prototype=w.filters=w.pseudos,w.setFilters=new me,h=oe.tokenize=function(e,t){var n,r,i,o,a,s,l,c=E[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(o in n&&!(r=Y.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=q.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(V," ")}),a=a.slice(n.length)),w.filter)!(r=$[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):E(e,s).slice(0)},f=oe.compile=function(e,t){var n,r=[],i=[],o=A[e+" "];if(!o){for(n=(t=t||h(e)).length;n--;)(o=Te(t[n]))[S]?r.push(o):i.push(o);(o=A(e,ke(i,r))).selector=e}return o},g=oe.select=function(e,t,n,r){var i,o,a,s,l,c="function"==typeof e&&e,u=!r&&h(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&D&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(te,d),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=$.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((l=w.find[s])&&(r=l(a.matches[0].replace(te,d),ee.test(o[0].type)&&ge(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&ve(o)))return j.apply(n,r),n;break}}return(c||f(e,u))(r,t,!D,n,!t||ee.test(e)&&ge(t.parentNode)||t),n},p.sortStable=S.split("").sort(O).join("")===S,p.detectDuplicates=!!c,T(),p.sortDetached=le(function(e){return 1&e.compareDocumentPosition(k.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),p.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(M,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(k);S.find=C,S.expr=C.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=C.uniqueSort,S.text=C.getText,S.isXMLDoc=C.isXML,S.contains=C.contains,S.escapeSelector=C.escape;function E(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r}function A(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var O=S.expr.match.needsContext;function L(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var I=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(e,n,r){return b(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&O.test(e)?S(e):e||[],!1).length}});var j,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||j,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):b(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this);if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:D,!0)),I.test(r[1])&&S.isPlainObject(t))for(r in t)b(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=D.getElementById(r[2]))&&(this[0]=i,this.length=1),this}).prototype=S.fn,j=S(D);var B=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!O.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return E(e,"parentNode")},parentsUntil:function(e,t,n){return E(e,"parentNode",n)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return E(e,"nextSibling")},prevAll:function(e){return E(e,"previousSibling")},nextUntil:function(e,t,n){return E(e,"nextSibling",n)},prevUntil:function(e,t,n){return E(e,"previousSibling",n)},siblings:function(e){return A((e.parentNode||{}).firstChild,e)},children:function(e){return A(e.firstChild)},contents:function(e){return L(e,"iframe")?e.contentDocument:(L(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(M[r]||S.uniqueSort(n),B.test(r)&&n.reverse()),this.pushStack(n)}});var H=/[^\x20\t\r\n\f]+/g;function F(e){return e}function U(e){throw e}function z(e,t,n,r){var i;try{e&&b(i=e.promise)?i.call(e).done(t).fail(n):e&&b(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){r="string"==typeof r?function(e){var n={};return S.each(e.match(H)||[],function(e,t){n[t]=!0}),n}(r):S.extend({},r);function n(){for(o=o||r.once,t=i=!0;s.length;l=-1)for(e=s.shift();++l<a.length;)!1===a[l].apply(e[0],e[1])&&r.stopOnFalse&&(l=a.length,e=!1);r.memory||(e=!1),i=!1,o&&(a=e?[]:"")}var i,e,t,o,a=[],s=[],l=-1,c={add:function(){return a&&(e&&!i&&(l=a.length-1,s.push(e)),function n(e){S.each(e,function(e,t){b(t)?r.unique&&c.has(t)||a.push(t):t&&t.length&&"string"!==_(t)&&n(t)})}(arguments),e&&!i&&n()),this},remove:function(){return S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,a,n));)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,a):0<a.length},empty:function(){return a=a&&[],this},disable:function(){return o=s=[],a=e="",this},disabled:function(){return!a},lock:function(){return o=s=[],e||i||(a=e=""),this},locked:function(){return!!o},fireWith:function(e,t){return o||(t=[e,(t=t||[]).slice?t.slice():t],s.push(t),i||n()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!t}};return c},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=b(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&b(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var l=0;function c(i,o,a,s){return function(){function e(){var e,t;if(!(i<l)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"===(void 0===e?"undefined":nn(e))||"function"==typeof e)&&e.then,b(t)?s?t.call(e,c(l,o,F,s),c(l,o,U,s)):(l++,t.call(e,c(l,o,F,s),c(l,o,U,s),c(l,o,F,o.notifyWith))):(a!==F&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}}var n=this,r=arguments,t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),l<=i+1&&(a!==U&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),k.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(c(0,e,b(r)?r:F,e.notifyWith)),o[1][3].add(c(0,e,b(t)?t:F)),o[2][3].add(c(0,e,b(n)?n:U))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){i[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(i,o)}}var n=arguments.length,r=n,i=Array(r),o=s.call(arguments),a=S.Deferred();if(n<=1&&(z(e,a.done(t(r)).resolve,a.reject,!n),"pending"===a.state()||b(o[r]&&o[r].then)))return a.then();for(;r--;)z(o[r],t(r),a.reject);return a.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){k.console&&k.console.warn&&e&&V.test(e.name)&&k.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){k.setTimeout(function(){throw e})};var Y=S.Deferred();function q(){D.removeEventListener("DOMContentLoaded",q),k.removeEventListener("load",q),S.ready()}S.fn.ready=function(e){return Y.then(e).catch(function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||Y.resolveWith(D,[S])}}),S.ready.then=Y.then,"complete"===D.readyState||"loading"!==D.readyState&&!D.documentElement.doScroll?k.setTimeout(S.ready):(D.addEventListener("DOMContentLoaded",q),k.addEventListener("load",q));function W(e,t,n,r,i,o,a){var s=0,l=e.length,c=null==n;if("object"===_(n))for(s in i=!0,n)W(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,b(r)||(a=!0),c&&(t=a?(t.call(e,r),null):(c=t,function(e,t,n){return c.call(S(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):o}p=/^-ms-/,h=/-([a-z])/g;function T(e,t){return t.toUpperCase()}function G(e){return e.replace(p,"ms-").replace(h,T)}function K(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function $(){this.expando=S.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},K(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(H)||[]).length;for(;n--;)delete r[t[n]]}void 0!==t&&!S.isEmptyObject(r)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var X=new $,J=new $,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function ee(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(e){}J.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return X.access(e,t,n)},_removeData:function(e,t){X.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"===(void 0===n?"undefined":nn(n))?this.each(function(){J.set(this,n)}):W(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=J.get(o,n))?t:void 0!==(t=ee(o,n))?t:void 0;this.each(function(){J.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=J.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=G(r.slice(5)),ee(o,r,i[r]));X.set(o,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=X.get(e,t),n&&(!r||Array.isArray(n)?r=X.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return X.get(e,n)||X.access(e,n,{empty:S.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--i||o.resolveWith(a,[a])}var r,i=1,o=S.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(r=X.get(a[s],e+"queueHooks"))&&r.empty&&(i++,r.empty.add(n));return n(),o.promise(t)}});function te(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i}var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),ie=["Top","Right","Bottom","Left"],oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&S.contains(e.ownerDocument,e)&&"none"===S.css(e,"display")};function ae(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},l=s(),c=n&&n[3]||(S.cssNumber[t]?"":"px"),u=(S.cssNumber[t]||"px"!==c&&+l)&&re.exec(S.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)S.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,S.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var se={};function le(e,t){for(var n,r,i,o,a,s,l,c=[],u=0,d=e.length;u<d;u++)(r=e[u]).style&&(n=r.style.display,t?("none"===n&&(c[u]=X.get(r,"display")||null,c[u]||(r.style.display="")),""===r.style.display&&oe(r)&&(c[u]=(l=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(l=se[s])||(o=a.body.appendChild(a.createElement(s)),l=S.css(o,"display"),o.parentNode.removeChild(o),"none"===l&&(l="block"),se[s]=l)))):"none"!==n&&(c[u]="none",X.set(r,"display",n)));for(u=0;u<d;u++)null!=c[u]&&(e[u].style.display=c[u]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?S(this).show():S(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,fe={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pe(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&L(e,t)?S.merge([e],n):n}function he(e,t){for(var n=0,r=e.length;n<r;n++)X.set(e[n],"globalEval",!t||X.get(t[n],"globalEval"))}fe.optgroup=fe.option,fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td;var ge,me,ve=/<|&#?\w+;/;function ye(e,t,n,r,i){for(var o,a,s,l,c,u,d=t.createDocumentFragment(),f=[],p=0,h=e.length;p<h;p++)if((o=e[p])||0===o)if("object"===_(o))S.merge(f,o.nodeType?[o]:o);else if(ve.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(ue.exec(o)||["",""])[1].toLowerCase(),l=fe[s]||fe._default,a.innerHTML=l[1]+S.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;S.merge(f,a.childNodes),(a=d.firstChild).textContent=""}else f.push(t.createTextNode(o));for(d.textContent="",p=0;o=f[p++];)if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(c=S.contains(o.ownerDocument,o),a=pe(d.appendChild(o),"script"),c&&he(a),n)for(u=0;o=a[u++];)de.test(o.type||"")&&n.push(o);return d}ge=D.createDocumentFragment().appendChild(D.createElement("div")),(me=D.createElement("input")).setAttribute("type","radio"),me.setAttribute("checked","checked"),me.setAttribute("name","t"),ge.appendChild(me),y.checkClone=ge.cloneNode(!0).cloneNode(!0).lastChild.checked,ge.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ge.cloneNode(!0).lastChild.defaultValue;var be=D.documentElement,we=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function De(){return!1}function Se(){try{return D.activeElement}catch(e){}}function xe(e,t,n,r,i,o){var a,s;if("object"===(void 0===t?"undefined":nn(t))){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)xe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=De;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,c,u,d,f,p,h,g,m=X.get(t);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(be,i),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(H)||[""]).length;c--;)p=g=(s=Te.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),p&&(d=S.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,d=S.event.special[p]||{},u=S.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(p,a)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,u):f.push(u),S.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,u,d,f,p,h,g,m=X.hasData(e)&&X.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(H)||[""]).length;c--;)if(p=g=(s=Te.exec(t[c])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=S.event.special[p]||{},f=l[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)u=f[o],!i&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(f.splice(o,1),u.selector&&f.delegateCount--,d.remove&&d.remove.call(e,u));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||S.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)S.event.remove(e,p+t[c],n,r,!0);S.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=S.event.fix(e),l=new Array(arguments.length),c=(X.get(this,"events")||{})[s.type]||[],u=S.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=S.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&1<=e.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(c):S.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:b(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&L(this,"input"))return this.click(),!1},_default:function(e){return L(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:De,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:De,isPropagationStopped:De,isImmediatePropagationStopped:De,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},S.event.addProp),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return xe(this,e,t,n,r)},one:function(e,t,n,r){return xe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!==(void 0===e?"undefined":nn(e)))return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=De),this.each(function(){S.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this}});var Ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return L(e,"table")&&L(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Pe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function je(e,t){var n,r,i,o,a,s,l,c;if(1===t.nodeType){if(X.hasData(e)&&(o=X.access(e),a=X.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)S.event.add(t,i,c[i][n]);J.hasData(e)&&(s=J.access(e),l=S.extend({},s),J.set(t,l))}}function Re(n,r,i,o){r=m.apply([],r);var e,t,a,s,l,c,u=0,d=n.length,f=d-1,p=r[0],h=b(p);if(h||1<d&&"string"==typeof p&&!y.checkClone&&Ae.test(p))return n.each(function(e){var t=n.eq(e);h&&(r[0]=p.call(this,e,t.html())),Re(t,r,i,o)});if(d&&(t=(e=ye(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(pe(e,"script"),Ie)).length;u<d;u++)l=e,u!==f&&(l=S.clone(l,!0,!0),s&&S.merge(a,pe(l,"script"))),i.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,S.map(a,Pe),u=0;u<s;u++)l=a[u],de.test(l.type||"")&&!X.access(l,"globalEval")&&S.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?S._evalUrl&&S._evalUrl(l.src):w(l.textContent.replace(Oe,""),c,l))}return n}function Be(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(pe(r)),r.parentNode&&(n&&S.contains(r.ownerDocument,r)&&he(pe(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e.replace(Ce,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,l,c,u=e.cloneNode(!0),d=S.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=pe(u),r=0,i=(o=pe(e)).length;r<i;r++)s=o[r],l=a[r],void 0,"input"===(c=l.nodeName.toLowerCase())&&ce.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(u),r=0,i=o.length;r<i;r++)je(o[r],a[r]);else je(e,u);return 0<(a=pe(u,"script")).length&&he(a,!d&&pe(e,"script")),u},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(K(n)){if(t=n[X.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[X.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return W(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return W(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!fe[(ue.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return Re(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(pe(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),l.apply(n,t.get());return this.pushStack(n)}});var Me,Ne,He,Fe,Ue,ze,Ve,Ye=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=k),t.getComputedStyle(e)},We=new RegExp(ie.join("|"),"i");function Ge(){if(Ve){ze.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Ve.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(ze).appendChild(Ve);var e=k.getComputedStyle(Ve);Me="1%"!==e.top,Ue=12===Ke(e.marginLeft),Ve.style.right="60%",Fe=36===Ke(e.right),Ne=36===Ke(e.width),Ve.style.position="absolute",He=36===Ve.offsetWidth||"absolute",be.removeChild(ze),Ve=null}}function Ke(e){return Math.round(parseFloat(e))}function $e(e,t,n){var r,i,o,a,s=e.style;return(n=n||qe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||S.contains(e.ownerDocument,e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Ye.test(a)&&We.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Xe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}ze=D.createElement("div"),(Ve=D.createElement("div")).style&&(Ve.style.backgroundClip="content-box",Ve.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===Ve.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return Ge(),Ne},pixelBoxStyles:function(){return Ge(),Fe},pixelPosition:function(){return Ge(),Me},reliableMarginLeft:function(){return Ge(),Ue},scrollboxSize:function(){return Ge(),He}}));var Je=/^(none|table(?!-c[ea]).+)/,Qe=/^--/,Ze={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"},tt=["Webkit","Moz","ms"],nt=D.createElement("div").style;function rt(e){var t=S.cssProps[e];return t=t||(S.cssProps[e]=function(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=tt.length;n--;)if((e=tt[n]+t)in nt)return e}(e)||e)}function it(e,t,n){var r=re.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function ot(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=S.css(e,n+ie[a],!0,i)),r?("content"===n&&(l-=S.css(e,"padding"+ie[a],!0,i)),"margin"!==n&&(l-=S.css(e,"border"+ie[a]+"Width",!0,i))):(l+=S.css(e,"padding"+ie[a],!0,i),"padding"!==n?l+=S.css(e,"border"+ie[a]+"Width",!0,i):s+=S.css(e,"border"+ie[a]+"Width",!0,i));return!r&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))),l}function at(e,t,n){var r=qe(e),i=$e(e,t,r),o="border-box"===S.css(e,"boxSizing",!1,r),a=o;if(Ye.test(i)){if(!n)return i;i="auto"}return a=a&&(y.boxSizingReliable()||i===e.style[t]),"auto"!==i&&(parseFloat(i)||"inline"!==S.css(e,"display",!1,r))||(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+ot(e,t,n||(o?"border":"content"),a,r,i)+"px"}function st(e,t,n,r,i){return new st.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=$e(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),l=Qe.test(t),c=e.style;if(l||(t=rt(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(o=void 0===n?"undefined":nn(n))&&(i=re.exec(n))&&i[1]&&(n=ae(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Qe.test(t)||(t=rt(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=$e(e,t,r)),"normal"===i&&t in et&&(i=et[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,s){S.cssHooks[s]={get:function(e,t,n){if(t)return!Je.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?at(e,s,n):te(e,Ze,function(){return at(e,s,n)})},set:function(e,t,n){var r,i=qe(e),o="border-box"===S.css(e,"boxSizing",!1,i),a=n&&ot(e,s,n,o,i);return o&&y.scrollboxSize()===i.position&&(a-=Math.ceil(e["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(i[s])-ot(e,s,"border",!1,i)-.5)),a&&(r=re.exec(t))&&"px"!==(r[3]||"px")&&(e.style[s]=t,t=S.css(e,s)),it(0,t,a)}}}),S.cssHooks.marginLeft=Xe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat($e(e,"marginLeft"))||e.getBoundingClientRect().left-te(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ie[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=it)}),S.fn.extend({css:function(e,t){return W(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=qe(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=st).prototype={constructor:st,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[S.cssProps[e.prop]]&&!S.cssHooks[e.prop]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=st.prototype.init,S.fx.step={};var lt,ct,ut,dt,ft=/^(?:toggle|show|hide)$/,pt=/queueHooks$/;function ht(){ct&&(!1===D.hidden&&k.requestAnimationFrame?k.requestAnimationFrame(ht):k.setTimeout(ht,S.fx.interval),S.fx.tick())}function gt(){return k.setTimeout(function(){lt=void 0}),lt=Date.now()}function mt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ie[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function vt(e,t,n){for(var r,i=(yt.tweeners[t]||[]).concat(yt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function yt(o,e,t){var n,a,r=0,i=yt.prefilters.length,s=S.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=lt||gt(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),r=0,i=c.tweens.length;r<i;r++)c.tweens[r].run(n);return s.notifyWith(o,[c,n,t]),n<1&&i?t:(i||s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:lt||gt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?(s.notifyWith(o,[c,1,0]),s.resolveWith(o,[c,e])):s.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=G(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);r<i;r++)if(n=yt.prefilters[r].call(c,o,u,c.opts))return b(n.stop)&&(S._queueHooks(c.elem,c.opts.queue).stop=k._cti_backfill_function_prototype_bind(n.stop,n)),n;return S.map(u,vt,c),b(c.opts.start)&&c.opts.start.call(o,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),S.fx.timer(S.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c}S.Animation=S.extend(yt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ae(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=b(e)?(t=e,["*"]):e.match(H)).length;r<i;r++)n=e[r],yt.tweeners[n]=yt.tweeners[n]||[],yt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,l,c,u,d="width"in t||"height"in t,f=this,p={},h=e.style,g=e.nodeType&&oe(e),m=X.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ft.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;g=!0}p[r]=m&&m[r]||S.style(e,r)}if((l=!S.isEmptyObject(t))||!S.isEmptyObject(p))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=m&&m.display)&&(c=X.get(e,"display")),"none"===(u=S.css(e,"display"))&&(c?u=c:(le([e],!0),c=e.style.display||c,u=S.css(e,"display"),le([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===S.css(e,"float")&&(l||(f.done(function(){h.display=c}),null==c&&(u=h.display,c="none"===u?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",f.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=X.access(e,"fxshow",{display:c}),o&&(m.hidden=!g),g&&le([e],!0),f.done(function(){for(r in g||le([e]),X.remove(e,"fxshow"),p)S.style(e,r,p[r])})),l=vt(g?m[r]:0,r,f),r in m||(m[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?yt.prefilters.unshift(e):yt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"===(void 0===e?"undefined":nn(e))?S.extend({},e):{complete:n||!n&&t||b(e)&&e,duration:e,easing:n&&t||t&&!b(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){b(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){function i(){var e=yt(this,S.extend({},t),a);(o||X.get(this,"finish"))&&e.stop(!0)}var o=S.isEmptyObject(t),a=S.speed(e,n,r);return i.finish=i,o||!1===a.queue?this.each(i):this.queue(a.queue,i)},stop:function(i,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=X.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&pt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=X.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(mt(r,!0),e,t,n)}}),S.each({slideDown:mt("show"),slideUp:mt("hide"),slideToggle:mt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(lt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),lt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){ct||(ct=!0,ht())},S.fx.stop=function(){ct=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=k.setTimeout(e,r);t.stop=function(){k.clearTimeout(n)}})},ut=D.createElement("input"),dt=D.createElement("select").appendChild(D.createElement("option")),ut.type="checkbox",y.checkOn=""!==ut.value,y.optSelected=dt.selected,(ut=D.createElement("input")).value="t",ut.type="radio",y.radioValue="t"===ut.value;var bt,wt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return W(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?bt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&L(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(H);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),bt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=wt[t]||S.find.attr;wt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=wt[o],wt[o]=r,r=null!=a(e,t,n)?o:null,wt[o]=i),r}});var _t=/^(?:input|select|textarea|button)$/i,Tt=/^(?:a|area)$/i;function kt(e){return(e.match(H)||[]).join(" ")}function Dt(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(H)||[]}S.fn.extend({prop:function(e,t){return W(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):_t.test(e.nodeName)||Tt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,l=0;if(b(t))return this.each(function(e){S(this).addClass(t.call(this,e,Dt(this)))});if((e=St(t)).length)for(;n=this[l++];)if(i=Dt(n),r=1===n.nodeType&&" "+kt(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=kt(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,l=0;if(b(t))return this.each(function(e){S(this).removeClass(t.call(this,e,Dt(this)))});if(!arguments.length)return this.attr("class","");if((e=St(t)).length)for(;n=this[l++];)if(i=Dt(n),r=1===n.nodeType&&" "+kt(i)+" "){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=kt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=void 0===i?"undefined":nn(i),a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):b(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,Dt(this),t),t)}):this.each(function(){var e,t,n,r;if(a)for(t=0,n=S(this),r=St(i);e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=Dt(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+kt(Dt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=b(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:kt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!L(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=S.makeArray(t),a=i.length;a--;)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in k;function Ct(e){e.stopPropagation()}var Et=/^(?:focusinfocus|focusoutblur)$/;S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,l,c,u,d,f=[n||D],p=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=d=a=n=n||D,3!==n.nodeType&&8!==n.nodeType&&!Et.test(p+S.event.triggered)&&(-1<p.indexOf(".")&&(p=(h=p.split(".")).shift(),h.sort()),l=p.indexOf(":")<0&&"on"+p,(e=e[S.expando]?e:new S.Event(p,"object"===(void 0===e?"undefined":nn(e))&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),u=S.event.special[p]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!g(n)){for(s=u.delegateType||p,Et.test(s+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||D)&&f.push(a.defaultView||a.parentWindow||k)}for(i=0;(o=f[i++])&&!e.isPropagationStopped();)d=o,e.type=1<i?s:u.bindType||p,(c=(X.get(o,"events")||{})[e.type]&&X.get(o,"handle"))&&c.apply(o,t),(c=l&&o[l])&&c.apply&&K(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),t)||!K(n)||l&&b(n[p])&&!g(n)&&((a=n[l])&&(n[l]=null),S.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Ct),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Ct),S.event.triggered=void 0,a&&(n[l]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){function i(e){S.event.simulate(r,e.target,S.event.fix(e))}S.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=X.access(e,r);t||e.addEventListener(n,i,!0),X.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=X.access(e,r)-1;t?X.access(e,r,t):(e.removeEventListener(n,i,!0),X.remove(e,r))}}});var At=k.location,Ot=Date.now(),Lt=/\?/;S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new k.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var It=/\[\]$/,Pt=/\r?\n/g,jt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;function Bt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||It.test(n)?i(n,t):Bt(n+"["+("object"===(void 0===t?"undefined":nn(t))&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==_(e))i(n,e);else for(t in e)Bt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){function n(e,t){var n=b(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)}var r,i=[];if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){n(this.name,this.value)});else for(r in e)Bt(r,e[r],t,n);return i.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Rt.test(this.nodeName)&&!jt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}});var Mt=/%20/g,Nt=/#.*$/,Ht=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ut=/^(?:GET|HEAD)$/,zt=/^\/\//,Vt={},Yt={},qt="*/".concat("*"),Wt=D.createElement("a");function Gt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(H)||[];if(b(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Kt(t,i,o,a){var s={},l=t===Yt;function c(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||l||s[n]?l?!(r=n):void 0:(i.dataTypes.unshift(n),c(n),!1)}),r}return c(i.dataTypes[0])||!s["*"]&&c("*")}function $t(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r=r||{})[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=At.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(At.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?$t($t(e,S.ajaxSettings),t):$t(S.ajaxSettings,e)},ajaxPrefilter:Gt(Vt),ajaxTransport:Gt(Yt),ajax:function(e,t){"object"===(void 0===e?"undefined":nn(e))&&(t=e,e=void 0),t=t||{};var u,d,f,n,p,r,h,g,i,o,m=S.ajaxSetup({},t),v=m.context||m,y=m.context&&(v.nodeType||v.jquery)?S(v):S.event,b=S.Deferred(),w=S.Callbacks("once memory"),_=m.statusCode||{},a={},s={},l="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n)for(n={};t=Ft.exec(f);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return h?f:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)_[t]=[_[t],e[t]];return this},abort:function(e){var t=e||l;return u&&u.abort(t),c(0,t),this}};if(b.promise(T),m.url=((e||m.url||At.href)+"").replace(zt,At.protocol+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(H)||[""],null==m.crossDomain){r=D.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=S.param(m.data,m.traditional)),Kt(Vt,m,t,T),h)return T;for(i in(g=S.event&&m.global)&&0==S.active++&&S.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ut.test(m.type),d=m.url.replace(Nt,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace(Mt,"+")):(o=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Lt.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(Ht,"$1"),o=(Lt.test(d)?"&":"?")+"_="+Ot+++o),m.url=d+o),m.ifModified&&(S.lastModified[d]&&T.setRequestHeader("If-Modified-Since",S.lastModified[d]),S.etag[d]&&T.setRequestHeader("If-None-Match",S.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&T.setRequestHeader("Content-Type",m.contentType),T.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+qt+"; q=0.01":""):m.accepts["*"]),m.headers)T.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(v,T,m)||h))return T.abort();if(l="abort",w.add(m.complete),T.done(m.success),T.fail(m.error),u=Kt(Yt,m,t,T)){if(T.readyState=1,g&&y.trigger("ajaxSend",[T,m]),h)return T;m.async&&0<m.timeout&&(p=k.setTimeout(function(){T.abort("timeout")},m.timeout));try{h=!1,u.send(a,c)}catch(e){if(h)throw e;c(-1,e)}}else c(-1,"No Transport");function c(e,t,n,r){var i,o,a,s,l,c=t;h||(h=!0,p&&k.clearTimeout(p),u=void 0,f=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a=a||i}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(m,T,n)),s=function(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(m,s,T,i),i?(m.ifModified&&((l=T.getResponseHeader("Last-Modified"))&&(S.lastModified[d]=l),(l=T.getResponseHeader("etag"))&&(S.etag[d]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,i=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),T.status=e,T.statusText=(t||c)+"",i?b.resolveWith(v,[o,c,T]):b.rejectWith(v,[T,c,a]),T.statusCode(_),_=void 0,g&&y.trigger(i?"ajaxSuccess":"ajaxError",[T,m,i?o:a]),w.fireWith(v,[T,c]),g&&(y.trigger("ajaxComplete",[T,m]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return b(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(b(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return b(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=b(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new k.XMLHttpRequest}catch(e){}};var Xt={0:200,1223:204},Jt=S.ajaxSettings.xhr();y.cors=!!Jt&&"withCredentials"in Jt,y.ajax=Jt=!!Jt,S.ajaxTransport(function(i){var o,a;if(y.cors||Jt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Xt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&k.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=S("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),D.head.appendChild(r[0])},abort:function(){i&&i()}}});var Qt,Zt=[],en=/(=)\?(?=&|$)|\?\?/;return S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Zt.pop()||S.expando+"_"+Ot++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(en.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=b(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(en,"$1"+r):!1!==e.jsonp&&(e.url+=(Lt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=k[r],k[r]=function(){o=arguments},n.always(function(){void 0===i?S(k).removeProp(r):k[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Zt.push(r)),o&&b(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((Qt=D.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Qt.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=D.implementation.createHTMLDocument("")).createElement("base")).href=D.location.href,t.head.appendChild(r)):t=D),o=!n&&[],(i=I.exec(e))?[t.createElement(i[1])]:(i=ye([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=kt(e.slice(s)),e=e.slice(0,s)),b(t)?(n=t,t=void 0):t&&"object"===(void 0===t?"undefined":nn(t))&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=S.css(e,"position"),u=S(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=S.css(e,"top"),l=S.css(e,"left"),i=("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(r=u.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(l)||0),b(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===S.css(e,"position");)e=e.offsetParent;return e||be})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return W(this,function(e,t,n){var r;if(g(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Xe(y.pixelPosition,function(e,t){if(t)return t=$e(e,n),Ye.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return W(this,function(e,t,n){var r;return g(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),b(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=L,S.isFunction=b,S.isWindow=g,S.camelCase=G,S.type=_,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.noConflict=function(e){return S},{$:S,jQuery:S}}},{}],"lib/cti.sdk/lib/libs/json3.js":[function(e,s,l){(function(a){"use strict";var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var N={function:!0,object:!0},e=N[void 0===l?"undefined":U(l)]&&l&&!l.nodeType&&l,H=N["undefined"==typeof window?"undefined":U(window)]&&window||this,t=e&&N[void 0===s?"undefined":U(s)]&&s&&!s.nodeType&&"object"==(void 0===a?"undefined":U(a))&&a;function F(e,l){e=e||H.Object(),l=l||H.Object();var v,c=e.Number||H.Number,u=e.String||H.String,t=e.Object||H.Object,y=e.Date||H.Date,n=e.SyntaxError||H.SyntaxError,b=e.TypeError||H.TypeError,p=e.Math||H.Math,r=(e.JSON||H.JSON,t.prototype),w=r.toString,a=r.hasOwnProperty;function _(e,t){try{e()}catch(e){t&&t()}}var h=new y(-0xc782b5b800cec);function d(e){if(null!=d[e])return d[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=d("json-stringify")&&d("date-serialization")&&d("json-parse");else if("date-serialization"==e){if(t=d("json-stringify")&&h){var n=l.stringify;_(function(){t='"-271821-04-20T00:00:00.000Z"'==n(new y(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==n(new y(864e13))&&'"-000001-01-01T00:00:00.000Z"'==n(new y(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==n(new y(-1))})}}else{var r,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var o="function"==typeof(n=l.stringify);o&&((r=function(){return 1}).toJSON=r,_(function(){o="0"===n(0)&&"0"===n(new c)&&'""'==n(new u)&&n(w)===v&&n(v)===v&&n()===v&&"1"===n(r)&&"[1]"==n([r])&&"[null]"==n([v])&&"null"==n(null)&&"[null,null,null]"==n([v,w,null])&&n({a:[r,!0,!1,null,"\0\b\n\f\r\t"]})==i&&"1"===n(null,r)&&"[\n 1,\n 2\n]"==n([1,2],null,1)},function(){o=!1})),t=o}if("json-parse"==e){var a,s=l.parse;"function"==typeof s&&_(function(){0!==s("0")||s(!1)||(r=s(i),(a=5==r.a.length&&1===r.a[0])&&(_(function(){a=!s('"\t"')}),a&&_(function(){a=1!==s("01")}),a&&_(function(){a=1!==s("1.")})))},function(){a=!1}),t=a}}return d[e]=!!t}if(_(function(){h=-109252==h.getUTCFullYear()&&0===h.getUTCMonth()&&1===h.getUTCDate()&&10==h.getUTCHours()&&37==h.getUTCMinutes()&&6==h.getUTCSeconds()&&708==h.getUTCMilliseconds()}),d["bug-string-char-index"]=d["date-serialization"]=d.json=d["json-stringify"]=d["json-parse"]=null,!d("json")){var f="[object Function]",T="[object Number]",k="[object String]",D="[object Array]",g=d("bug-string-char-index"),S=function(e,t){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)a.call(r,i)&&o++;return n=r=null,(S=o?function(e,t){var n,r,i=w.call(e)==f;for(n in e)i&&"prototype"==n||!a.call(e,n)||(r="constructor"===n)||t(n);(r||a.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(e,t){var n,r=w.call(e)==f,i=!r&&"function"!=typeof e.constructor&&N[U(e.hasOwnProperty)]&&e.hasOwnProperty||a;for(n in e)r&&"prototype"==n||!i.call(e,n)||t(n)}))(e,t)};if(!d("json-stringify")&&!d("date-serialization")){var i={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},m=function(e,t){return("000000"+(t||0)).slice(-e)},x=function(e){var t,n,r,i,o,a,s,l,c;if(h)t=function(e){n=e.getUTCFullYear(),r=e.getUTCMonth(),i=e.getUTCDate(),a=e.getUTCHours(),s=e.getUTCMinutes(),l=e.getUTCSeconds(),c=e.getUTCMilliseconds()};else{var u=p.floor,d=[0,31,59,90,120,151,181,212,243,273,304,334],f=function(e,t){return d[t]+365*(e-1970)+u((e-1969+(t=+(1<t)))/4)-u((e-1901+t)/100)+u((e-1601+t)/400)};t=function(e){for(i=u(e/864e5),n=u(i/365.2425)+1970-1;f(n+1,0)<=i;n++);for(r=u((i-f(n,0))/30.42);f(n,r+1)<=i;r++);i=1+i-f(n,r),a=u((o=(e%864e5+864e5)%864e5)/36e5)%24,s=u(o/6e4)%60,l=u(o/1e3)%60,c=o%1e3}}return(x=function(e){return-1/0<e&&e<1/0?(t(e),e=(n<=0||1e4<=n?(n<0?"-":"+")+m(6,n<0?-n:n):m(4,n))+"-"+m(2,r+1)+"-"+m(2,i)+"T"+m(2,a)+":"+m(2,s)+":"+m(2,l)+"."+m(3,c)+"Z",n=r=i=a=s=l=c=null):e=null,e})(e)};if(d("json-stringify")&&!d("date-serialization")){var o=function(){return x(this)},s=l.stringify;l.stringify=function(e,t,n){var r=y.prototype.toJSON;y.prototype.toJSON=o;var i=s(e,t,n);return y.prototype.toJSON=r,i}}else{var C=function(e){var t=e.charCodeAt(0),n=i[t];return n||"\\u00"+m(2,t.toString(16))},E=/[\x00-\x1f\x22\x5c]/g,A=function(e){return E.lastIndex=0,'"'+(E.test(e)?e.replace(E,C):e)+'"'};l.stringify=function(e,t,n){var r,i,o,a;if(N[void 0===t?"undefined":U(t)]&&t)if((a=w.call(t))==f)i=t;else if(a==D){o={};for(var s,l=0,c=t.length;l<c;)s=t[l++],"[object String]"!=(a=w.call(s))&&"[object Number]"!=a||(o[s]=1)}if(n)if((a=w.call(n))==T){if(0<(n-=n%1))for(10<n&&(n=10),r="";r.length<n;)r+=" "}else a==k&&(r=n.length<=10?n:n.slice(0,10));return function n(e,t,r,i,o,a,s){var l,c,u,d,f,p,h,g,m;if(_(function(){l=t[e]}),"object"==(void 0===l?"undefined":U(l))&&l&&l.getUTCFullYear&&"[object Date]"==w.call(l)&&l.toJSON===y.prototype.toJSON&&(l=x(l)),r&&(l=r.call(t,e,l)),l==v)return l===v?l:"null";switch("object"==(c=void 0===l?"undefined":U(l))&&(u=w.call(l)),u||c){case"boolean":case"[object Boolean]":return""+l;case"number":case T:return-1/0<l&&l<1/0?""+l:"null";case"string":case k:return A(""+l)}if("object"==(void 0===l?"undefined":U(l))){for(h=s.length;h--;)if(s[h]===l)throw b();if(s.push(l),d=[],g=a,a+=o,u==D){for(p=0,h=l.length;p<h;p++)f=n(p,l,r,i,o,a,s),d.push(f===v?"null":f);m=d.length?o?"[\n"+a+d.join(",\n"+a)+"\n"+g+"]":"["+d.join(",")+"]":"[]"}else S(i||l,function(e){var t=n(e,l,r,i,o,a,s);t!==v&&d.push(A(e)+":"+(o?" ":"")+t)}),m=d.length?o?"{\n"+a+d.join(",\n"+a)+"\n"+g+"}":"{"+d.join(",")+"}":"{}";return s.pop(),m}}("",((s={})[""]=e,s),i,o,r,"",[])}}}if(!d("json-parse")){var O,L,I=u.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},j=function(){throw O=L=null,n()},R=function(){for(var e,t,n,r,i,o=L,a=o.length;O<a;)switch(i=o.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=g?o.charAt(O):o[O],O++,e;case 34:for(e="@",O++;O<a;)if((i=o.charCodeAt(O))<32)j();else if(92==i)switch(i=o.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[i],O++;break;case 117:for(t=++O,n=O+4;O<n;O++)48<=(i=o.charCodeAt(O))&&i<=57||97<=i&&i<=102||65<=i&&i<=70||j();e+=I("0x"+o.slice(t,O));break;default:j()}else{if(34==i)break;for(i=o.charCodeAt(O),t=O;32<=i&&92!=i&&34!=i;)i=o.charCodeAt(++O);e+=o.slice(t,O)}if(34==o.charCodeAt(O))return O++,e;j();default:if(t=O,45==i&&(r=!0,i=o.charCodeAt(++O)),48<=i&&i<=57){for(48==i&&(48<=(i=o.charCodeAt(O+1))&&i<=57)&&j(),r=!1;O<a&&(48<=(i=o.charCodeAt(O))&&i<=57);O++);if(46==o.charCodeAt(O)){for(n=++O;n<a&&!((i=o.charCodeAt(n))<48||57<i);n++);n==O&&j(),O=n}if(101==(i=o.charCodeAt(O))||69==i){for(43!=(i=o.charCodeAt(++O))&&45!=i||O++,n=O;n<a&&!((i=o.charCodeAt(n))<48||57<i);n++);n==O&&j(),O=n}return+o.slice(t,O)}r&&j();var s=o.slice(O,O+4);if("true"==s)return O+=4,!0;if("fals"==s&&101==o.charCodeAt(O+4))return O+=5,!1;if("null"==s)return O+=4,null;j()}return"$"},B=function(e,t,n){var r=M(e,t,n);r===v?delete e[t]:e[t]=r},M=function(e,t,n){var r,i=e[t];if("object"==(void 0===i?"undefined":U(i))&&i)if(w.call(i)==D)for(r=i.length;r--;)B(w,S,i);else S(i,function(e){B(i,e,n)});return n.call(e,t,i)};l.parse=function(e,t){var n,r;return O=0,L=""+e,n=function e(t){var n,r;if("$"==t&&j(),"string"==typeof t){if("@"==(g?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(n=[];"]"!=(t=R());)r?","==t?"]"==(t=R())&&j():j():r=!0,","==t&&j(),n.push(e(t));return n}if("{"==t){for(n={};"}"!=(t=R());)r?","==t?"}"==(t=R())&&j():j():r=!0,","!=t&&"string"==typeof t&&"@"==(g?t.charAt(0):t[0])&&":"==R()||j(),n[t.slice(1)]=e(R());return n}j()}return t}(R()),"$"!=R()&&j(),O=L=null,t&&w.call(t)==f?M(((r={})[""]=n,r),"",t):n}}}return l.runInContext=F,l}if(!t||t.global!==t&&t.window!==t&&t.self!==t||(H=t),e)F(H,e);else{var n=H.JSON,r=H.JSON3,i=!1,o=F(H,H.JSON3={noConflict:function(){return i||(i=!0,H.JSON=n,H.JSON3=r,n=r=null),o}});H.JSON={parse:o.parse,stringify:o.stringify}}}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"lib/cti.sdk/lib/libs/pinf-loader.js":[function(e,n,r){"use strict";var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(b){if(!b||"object"!==(void 0===b?"undefined":k(b)))throw new Error("No root object scope provided!");if(void 0===b.PINF){var c=[],o={loaded:1,interactive:1,complete:1},w=null,a=null,u=function(d,f,e){var p={},h={},s={},l={},g={},m={id:d};function i(n,e,t,r){try{""!==e&&(n=("/"+e+"/"+n).replace(/\/+/g,"/")),h[n]?r(null,m):g[n]?g[n].push(r):(g[n]=[],n=d+t+n,(f.rootBundleLoader||f.load||T)(n,function(e,t){if(e)return r(e);delete f.rootBundleLoader,v(n,function(){r(null,m),t&&t()})}))}catch(e){r(e)}}function v(e,t){var n,r=0;function i(){0===r&&t&&t()}if(r+=1,!c[0])throw new Error("No bundle memoized for '"+e+"'! Check the file to ensure it contains JavaScript and that a bundle is memoized against the correct loader instance.");for(n in s[e]=c[0][0],c[0][1]){if(/^[^\/]*\/package.json$/.test(n)){if(c[0][1][n][0].mappings)for(var o in c[0][1][n][0].mappings)/^\/\//.test(c[0][1][n][0].mappings[o])&&(r+=1,T(c[0][1][n][0].mappings[o],function(){r-=1,i()}));if(p[n]){if(p[n][0]=e,void 0===p[n][1].main&&(p[n][1].main=c[0][1][n][0].main),c[0][1][n][0].mappings)for(var o in p[n][1].mappings||(p[n][1].mappings={}),c[0][1][n][0].mappings)void 0===p[n][1].mappings[o]&&(p[n][1].mappings[o]=c[0][1][n][0].mappings[o])}else p[n]=[e,c[0][1][n][0],c[0][1][n][1]];var a=n.split("/").shift();l[a]&&l[a].init()}void 0===p[n]&&(p[n]=[e,c[0][1][n][0],c[0][1][n][1]])}c.shift(),r-=1,i()}function y(o){if(l[o])return l[o];var c={id:o,descriptor:{},main:"/main.js",mappings:{},directories:{},libPath:""};function u(e){return-1===e.split("/").pop().indexOf(".")?e+=".js":/^\//.test(e)||(e="/"+e),e}function a(a,e){var s=a.replace(/\/[^\/]*$/,"").split("/"),l={id:a,exports:{},parentModule:e,bundle:null,pkg:o};function i(e){/\/$/.test(e)&&(e+="index"),w=l;var t=null;if(/^[^!]*!/.test(e)){var n=e.match(/^([^!]*)!(.+)$/);e=n[2],t=n[1]}function r(e){return t&&((e=new String(e)).plugin=t),e}if(/^\./.test(e)){var i=e.replace(/^\.\//,"").split("../");return"/."===(e="/"+s.slice(1,s.length-i.length+1).concat(i[i.length-1]).join("/"))?[c,r("")]:[c,r(u(e.replace(/\/\.$/,"/")))]}var o=e.split("/");if(void 0!==c.mappings[o[0]])return[y(c.mappings[o[0]]),r(1<o.length?u(o.slice(1).join("/")):"")];if(!p["/"+u(e)])throw new Error("Descriptor for package '"+c.id+"' in sandbox '"+m.id+"' does not declare 'mappings[\""+o[0]+"\"]' property nor does sandbox have module memoized at '/"+u(e)+"' needed to satisfy module path '"+e+"' in module '"+a+"'!");return[y(""),r("/"+u(e))]}return l.require=function(e){return(e=i(e))[0].require(e[1]).exports},l.require.supports=["ucjs-pinf-0"],l.require.id=function(e){return(e=i(e))[0].require.id(e[1])},l.require.async=function(e,n,r){(e=i(e))[0].load(e[1],p[a][0],function(e,t){if(e){if(r)return r(e);throw e}n(t)})},l.require.sandbox=t(function(e,t,n,r){return t.load=t.load||f.load,/^\./.test(e)&&(e=(e=d+"/"+e).replace(/\/\.\//g,"/")),_.sandbox(e,t,n,r)}),l.require.sandbox.id=d,l.load=function(){if(l.bundle=p[a][0],"function"==typeof p[a][1]){var e={id:l.id,filename:p[a][2].filename||(l.bundle.replace(/\.js$/,"")+"/"+l.id).replace(/\/+/g,"/"),exports:{}};""===o&&c.main===a&&(l.require.main=e),f.onInitModule&&f.onInitModule(e,l,c,m,{normalizeIdentifier:u,resolveIdentifier:i,finalizeLoad:v,moduleInitializers:p,initializedModules:h});var t=p[a][1].call(b,l.require,l.exports,e);void 0===e.exports||"object"===k(e.exports)&&0===function(e){var t=[];for(var n in e)t.push(n);return t}(e.exports).length?void 0!==t&&(l.exports=t):l.exports=e.exports}else"string"==typeof p[a][1]?l.exports=decodeURIComponent(p[a][1]):l.exports=p[a][1]},l.getReport=function(){var e,t=0;for(e in l.exports)t++;return{exports:t}},l}return c.init=function(){var e=p[o+"/package.json"]&&p[o+"/package.json"][1]||{};e&&("string"==typeof(c.descriptor=e).main&&(c.main=e.main),c.mappings=e.mappings||c.mappings,c.directories=e.directories||c.directories,c.libPath=void 0!==c.directories.lib&&""!=c.directories.lib?c.directories.lib+"/":c.libPath)},c.init(),c.load=function(t,e,n){if(p[o+t])return n(null,c.require(t).exports);var r=e.substring(d.length);i((/^\//.test(t)?"":"/"+c.libPath)+t,o,r.replace(/\.js$/g,""),function(e){if(e)return n(e);n(null,c.require(t).exports)})},c.require=function(e){var t,n=e.plugin;if(e=e?(/^\//.test(e)||(e=("/"+(e.substring(0,c.libPath.length)===c.libPath?"":c.libPath)).replace(/\/\.\//,"/")+e),o+e):c.main,!p[e]&&p[e.replace(/\.js$/,"/index.js")]&&(e=e.replace(/\.js$/,"/index.js")),n&&p[e+":"+n]&&(e+=":"+n),!h[e]){if(!p[e])throw console.error("[pinf-loader-js]","moduleInitializers",p),new Error("Module '"+e+"' "+(n?"for format '"+n+"' ":"")+"not found in sandbox '"+m.id+"'!");(h[e]=a(e,w)).load()}if(g[e]){t=g[e],delete g[e];for(var r=0;r<t.length;r++)t[r](null,m)}var i=window._cti_backfill_object_create(h[e]);return"i18n"===n&&(i.exports=i.exports.root),i},c.require.id=function(e){return/^\//.test(e)||(e="/"+c.libPath+e),((""!==o?"/"+o+"/":"")+e).replace(/\/+/g,"/")},c.getReport=function(){return{main:c.main,mappings:c.mappings,directories:c.directories,libPath:c.libPath}},f.onInitPackage&&f.onInitPackage(c,m,{normalizeIdentifier:u,finalizeLoad:v,moduleInitializers:p,initializedModules:h}),l[o]=c}return m.require=function(e){return y("").require(e).exports},m.boot=function(){if("string"!=typeof y("").main)throw new Error("No 'main' property declared in '/package.json' in sandbox '"+m.id+"'!");return m.require(y("").main)},m.main=function(){var e=m.boot();return e.main?e.main.apply(null,arguments):e},m.getReport=function(){var e,t={bundles:{},packages:{},modules:{}};for(e in s)t.bundles[e]=s[e];for(e in l)t.packages[e]=l[e].getReport();for(e in p)h[e]?t.modules[e]=h[e].getReport():t.modules[e]={};return t},m.reset=function(){p={},h={},s={},l={},g={}},i(-1===d.indexOf("?")?".js":"","","",e),m},_=b.PINF=function e(o){var a={},s={},l=new function i(e){var n=function(e,t){if(e&&a[e])throw new Error("You cannot split require.bundle(UID) calls where UID is constant!");a[e]=!0;var r={},n=new i(e);delete n.bundle,n.memoize=function(e,t,n){r[e+(n&&n.variation?":"+n.variation:"")]=[t,n||{}]},t(n,o||null),c.push([e,r])};this.bundle=function(){return n.apply(null,arguments)},this.setActiveBundleHandler=function(e){var t=n;return n=e,t}};return l.supports=["ucjs-pinf-0"],l.sandbox=t(function(n,e,r,i){if("function"==typeof n){var o=n,a=(e=e||{}).load||T;e.load=function(e,t){return e===n+".js"?(l.bundle("",o),void t(null)):a(e,t)},n="#pinf:"+Math.random().toString(36).substr(2,9)}var t=n.replace(/\.js$/,"");return s[t]=u(t,e,function(e,t){if(e){if(i)return i(e);throw e}r(t)})}),l.Loader=e,l.getReport=function(){var e={sandboxes:{}};for(var t in s)e.sandboxes[t]=s[t].getReport();return e},l.reset=function(){for(var e in s)s[e].reset();s={},a={},c=[]},l}(b);"object"===(void 0===n?"undefined":k(n))&&"object"===(void 0===r?"undefined":k(r))&&(n.exports=b=_),"function"==typeof b.addEventListener&&b.addEventListener("message",function(t){var e=null;if("string"==typeof t.data&&(e=t.data.match(/^notify:\/\/pinf-loader-js\/sandbox\/load\?uri=(.+)$/))&&(e=decodeURIComponent(e[1]))&&/^\//.test(e))return _.sandbox(e,function(e){e.main(),"function"==typeof b.postMessage&&b.postMessage(t.data.replace("/load?","/loaded?"))},function(e){throw e})},!1)}function t(i){return function(e,t,n,r){if("function"==typeof t&&"object"===(void 0===n?"undefined":k(n)))throw new Error("Callback before options for `require.sandbox(programIdentifier, options, loadedCallback)`");t="function"!=typeof t||n||r?"function"!=typeof t||"function"!=typeof n||r?t||{}:(r=n,n=t,{}):(n=t,{}),i(e,t,n,r)}}function T(t,n){try{if("undefined"!=typeof importScripts)return importScripts(t.replace(/^\/?\{host\}/,"")),n(null);var e=b.document,r=e.location;/^\/?\{host\}\//.test(t)?t=r.protocol+"//"+r.host+t.replace(/^\/?\{host\}/,""):/^\/\//.test(t)&&(t=r.protocol+t),a=a||e.getElementsByTagName("head")[0];var i=e.createElement("script");i.type="text/javascript",i.onload=i.onreadystatechange=function(e){"load"!==(e=e||b.event).type&&!o[this.readyState]||(this.onload=this.onreadystatechange=this.onerror=null,n(null,function(){i.parentNode.removeChild(i)}))},i.onerror=function(e){return console.error(e),n(new Error("Error loading '"+t+"'"))},i.charset="utf-8",i.async=!0,i.src=t,i=/\[native code\]/.test(a.insertBefore.toString())?a.insertBefore(i,a.firstChild):a.appendChild(i)}catch(e){n(e)}}}(void 0!==r?r:"undefined"!=typeof window?window:void 0)},{}],"lib/cti.sdk/lib/libs/promise.js":[function(e,t,n){"use strict";var l=t.exports=e("promise-polyfill");l.config=function(){},l._unhandledRejectionFn=function(e){window._ctrt&&window._ctrt.LIB.logger.error("[cti.sdk][Promise] Possible Unhandled Rejection:",e)},l.try=function(r){return new l(function(e,t){try{var n=r();n&&"function"==typeof n.then?n.then(e,t):e(n)}catch(e){t(e)}})},l.prototype.isPending=function(){return 0===this._state},l.delay=function(n){return new l(function(e,t){setTimeout(function(){e()},n)})},l.map=function(e,t){var n=e.map(function(e){return t(e)});return l.all(n)},l.mapSeries=function(t,e,n){for(var r=t.length,i=l.resolve(),o=new Array(r),a=2<arguments.length?window._cti_backfill_function_prototype_bind(e,n):e,s=0;s<r;++s)i=o[s]=i.then(function(e){return a(t[e],e,t)}.bind(void 0,s));return l.all(o)};function a(e){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e}var s={};a.prototype=window._cti_backfill_object_create(Error.prototype),l.prototype.timeout=function(n,r,i){var o;return s[r]=!0,l.race([this,new l(function(e,t){o=setTimeout(function(){if(window._ctrt){var e={};"function"==typeof i&&(e=i()),e.openTimeouts=s,window._ctrt.LIB.logger.error("[cti.sdk][Promise] PromiseTimeoutError: "+r,e)}t(new a(r))},n)})]).then(function(e){return s[r]=!1,clearTimeout(o),e}).catch(function(e){throw s[r]=!1,clearTimeout(o),e})},l.defer=function(){var n={};return n.promise=new l(function(e,t){n.resolve=e,n.reject=t}),n}},{"promise-polyfill":"node_modules/promise-polyfill/lib/index.js"}],"lib/cti.sdk/sdk.js~.normalized.js":[function(w,e,t){"use strict";var _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=(window,Date.now());e.exports=function(c,r,e,t){if("function"==typeof c&&(t=e,e=r,r=c,c=null),!(c=c||{})["#build1"])throw new Error('No \'"#build1": "%%BUILD_VARS%%"\' boot option declared!');var n=c.bootOptions||{};n["#build1"]=c["#build1"]||{},n["#spec1"]=c["#spec1"]||{},c["#plugin-dependency-map1"]&&c["#plugin-dependency-map1"].loadLayers&&c["#plugin-dependency-map1"].loadLayers.length?n["#plugin-dependency-map1"]=c["#plugin-dependency-map1"]:(c["#plugin-dependency-map1"]=null,n["#plugin-dependency-map1"]=null);var u=w("./sdk/lib").makeLib(n);u._timingInfo.bootTime=T,u._helperOptions=c.helperOptions||{};var o=u.config.debug,d=u.console,a=!1,f={_optimizedPluginMode:!!n["#plugin-dependency-map1"],build:c["#build1"],VERBOSE:u.config.options.enableSDKVerboseLogging||!1,DEBUG:o,_debugDataProviders:{},console:d,LIB:u,pluginInitConfig:{},plugins:{},plugin:function(e){if(f._optimizedPluginMode)throw new Error("DEPRECATED: Use 'SDK.pluginSync(\""+e+"\")' or if you have to 'SDK.pluginAsync(\""+e+"\")' instead of 'SDK.plugin(\""+e+"\")'!");return f.LIB.logger.debug("DEPRECATED: Use 'SDK.pluginSync(\""+e+"\")' or if you have to 'SDK.pluginAsync(\""+e+"\")' instead of 'SDK.plugin(\""+e+"\")'!"),f._ensurePlugin(e)},pluginSync:function(e){return f._getPluginSync(e)},pluginAsync:function(e){return f._getPluginAsync(e)},fail:function(n){return function(e,t){return u.logger.error("[cti.sdk] Fail "+(n?"due to '"+n+"':":""),e,t),null}},channels:{notify:new u.EventEmitter},state:{searchWindowLaunchBlocked:!1,submitType:null},config:u.config,_apiInitStatus:{}};f.DEBUG&&(f.LIB.dom.window._DEBUG_CTI_SDK=f),f.LIB.dom.window._ctrt={LIB:u},f.LIB.logger.debug("#######################################"),f.LIB.logger.debug("############## BOOT SDK ###############"),f.LIB.logger.debug("#######################################"),f._optimizedPluginMode&&(f.LIB.logger.debug("############# OPTIMIZED! ##############"),f.LIB.logger.debug("#######################################"));var i=w("./lib/functions/loadAlternativeImplementation").forLib(f.LIB);if(f.config["#cti1"].replacementImplementationUrl=f.config["#cti1"].replacementImplementationUrl||null,f.LIB.makeCookieOption(f.config["#cti1"],"CTI_FORCE_INTEGRATION_URL","replacementImplementationUrl","string"),i(f.config["#cti1"]))return f.LIB.CONSTANTS.STOP;"1"===f.LIB.COOKIE.get("ctz_pa_restore_history")&&f.LIB.COOKIE.set("ctz_pa_restore_history","2"),f.OverrideOption=function(t,e){var n={};return u.makeCookieOption(n,t,t,e),this.formatAsBoolean=function(e){return e(n[t])},this};var p=u.Promise.defer();u.Promise.defer();f.waitForOC=function(){return p.promise};var s={};if(f.LIB.makeCookieOption(s,"CTI_FORCE_PLUGINS","forcePlugins","string"),s.forcePlugins&&/2017-12-Instrumentation\.cti1/.test(s.forcePlugins)){var l=function(e){Object.keys(e).forEach(function(t){"JSON"!==t&&"Promise"!==t&&"LODASH"!==t&&"COOKIE"!==t&&"FORCE_STORE"!==t||"$"!==t&&function(n,r,i){Object.keys(n[r]).forEach(function(e){if("function"==typeof n[r][e]){var t=n[r][e];n[r][e]=function(){return i(e),t.apply(this,arguments)}}});var o=constructor.prototype;if(void 0!==o)for(var e in o){var t=Object.getOwnPropertyDescriptor(o,e);"function"!=typeof o[e]||t&&(!t.configurable||"get"in t||"set"in t)||function(e){var t=o[e];o[e]=function(){return i(e),t.apply(this,arguments)}}(e)}}(e,t,function(e){void 0===e?(h.LIB[t]||(h.LIB[t]=0),h.LIB[t]+=1):(h.LIB[t]||(h.LIB[t]={}),h.LIB[t][e]||(h.LIB[t][e]=0),h.LIB[t][e]+=1)})})},h=f._lib_usage={LIB:{}};l(f.LIB),f.OC&&f.OC.LIB?l(f.OC.LIB):f.waitForOC().then(function(e){e.LIB&&l(e.LIB)})}f.LIB.event.channels.lifecycle.on("block.exit-window",function(){u.logger.debug("handle","event.channels.lifecycle:block.exit-window","in sdk"),f.state.searchWindowLaunchBlocked=!0}),f.LIB.event.channels.lifecycle.on("unblock.exit-window",function(){u.logger.debug("handle","event.channels.lifecycle:unblock.exit-window","in sdk"),f.state.searchWindowLaunchBlocked=!1});var g={STATE:w("./api/STATE"),WINDOW:w("./api/WINDOW"),CONFIG:w("./api/CONFIG"),DEV:w("./api/DEV"),"SDK.API.PROXY":w("./api/SDK.API.PROXY"),TOOLS:w("./api/TOOLS"),TARGETING:w("./api/TARGETING"),EXPERIMENTS:w("./api/EXPERIMENTS"),FIREWALL:w("./api/FIREWALL"),"RECORD.SESSION":w("./api/RECORD.SESSION"),"RECORD.SESSION.V2":w("./api/RECORD.SESSION.V2"),"SIDE.BY.SIDE":w("./api/SIDE.BY.SIDE")};f.API={},Object.keys(g).forEach(function(e){f.API[e]=g[e].forSDK(f)}),f.api=function(e,t){u.logger.debug("DEPRECATED","Do NOT use 'SDK.api(\"<name>\"'. Use 'SDK.API.<name>' instead.");var n={};return e.forEach(function(e){if(!f.API[e])throw new Error("API module '"+e+"' does not exist!");n[e]=f.API[e]}),t(n)};var m=w("./lib/functions/constrain").forSDK(f),v=w("./lib/functions/consent").forSDK(f);f.STOP=!1,f.stop=function(e){if(f.LIB.logger.debug("Called SDK.stop()"),void 0===u.status)throw new Error("'LIB.config.status' not set!");!1===u.status.disabled&&(u.status.disabled=e)};var y=u.LODASH.get(window,"_CTZG.bootloader.icc",null)||(u.logger.error("[sdk] ICC response missing"),{}),b=w("./icc-util").forLib(u).formatForMerge;f.LIB._timingInfo.orchestrationStartTime=Date.now(),u.Promise.try(function(){var s={init:[],orchestration:[]},l={},i=[];return f._getPluginSync=function(e){if(!f.plugins[e])throw new Error("Plugin '"+e+"' not yet available!");if("function"==typeof f.plugins[e].forAPI)throw new Error("Plugin '"+e+"' is available but 'forAPI()' has not yet been called by plugin loader! Does the plugin declare 'exports.config.runLevel: \"orchestration\"' and does it really need 'forAPI()'?");return f.plugins[e]},f._getPluginAsync=function(t){return f._ensurePlugin(t).then(function(e){if("function"===e.forAPI)throw new Error("Plugin '"+t+"' is available but 'forAPI()' has not yet been called by plugin loader! Does the plugin declare 'exports.config.runLevel: \"orchestration\"' and does it really need 'forAPI()'?");return e})},f._ensurePlugin=function(n,e){if(f.plugins[n])return f.LIB.Promise.resolve(f.plugins[n]);var r={};return r[n]=e,null!==i?new f.LIB.Promise(function(e,t){i.push(function(){f.loadPlugin(r,n).then(function(){return f.plugins[n]}).then(e,t)})}):f.loadPlugin(r,n).then(function(){return f.plugins[n]})},u.Promise.try(function(){var e=/AdsBot\-Google/i.test(f.LIB.UA.getAgentString()),t=/Headless/i.test(f.LIB.UA.getAgentString());if(!(e||t)){var n=r(f);return f.LIB.LODASH.mapValues(n,function(e,t){return f.LIB.LODASH.merge({"@id":t},e)})}f.STOP=!0}).then(function(e){return f.STOP?null:u.LODASH.merge({},e,b(y))}).then(function(t){if(f.STOP)return f.LIB.logger.debug("Stopping SDK due to google adbot user agent"),null;if(v.ensureUserConsent(t)){var n=Date.now();return m.INTEGRATION.ensureConstrains(t).then(function(e){return f.LIB._timingInfo.constrainDuration=Date.now()-n,a=e.useFPCSCookieSync,f.LIB.Promise.resolve(t)}).catch(function(e){f.LIB.logger.error("Constrain GET error: "+e),f.STOP=!0})}f.STOP=!0}).then(function(n){if(f.STOP)return f.LIB.logger.debug("Stopping SDK due to user consent"),null;var r={},i=0;return f.loadPlugin=function(e,a){f.VERBOSE&&d.log("[sdk] Load plugin:",a);var t=e[a]._impl;if(!t)throw new Error("Plugin with alias '"+a+"' does not specify '_impl'!");if("function"==typeof t.forSDK)if(t.forSDK.__pluginImplIndex&&r[t.forSDK.__pluginImplIndex])t=r[t.forSDK.__pluginImplIndex];else{var n=t.forSDK.__pluginImplIndex="i:"+ ++i;t=t.forSDK(f),r[n]=t}if(!t)throw new Error("Could not load '_impl' for '"+a+"'!");return"function"!=typeof t.then&&(t=f.LIB.Promise.resolve(t)),t.then(function(r){if(f.STOP)return f.LIB.logger.debug("Skip impl(config) for plugin",a,"due to STOP"),null;var i=u.LODASH.cloneDeep(e[a]);r.config&&f.LIB.LODASH.merge(i,r.config);var o=i["#plugin-dependency-map1"]||c["#plugin-dependency-map1"];return o.varMap[a].forEach(function(e){if(!f.plugins[e[1]])throw new Error("Plugin '"+e[1]+"' needed by '"+a+"' not initialized!");var t=u.LODASH.cloneDeep(u.LODASH.get(f.plugins[e[1]],e[2],null)),n=u.LODASH.get(i,e[0]);"object"===(void 0===n?"undefined":_(n))?delete n["<-"]:"string"==typeof n&&(n=null),n&&(t=u.LODASH.merge(t,n)),u.LODASH.set(i,e[0],t)}),f.VERBOSE&&d.log("[sdk] Resolved config for plugin '"+a+"':",i),function(t){function e(e){return d.log("[sdk] Init plugin ("+o.type[a]+"):",a),u.Promise.try(function(){return r(t)}).then(function(e){return e=e||e,f.VERBOSE&&d.info("[cti.sdk] Memoize plugin implementation for '",a,"':",e),e===f.LIB.CONSTANTS.STOP?(f.STOP=!0,f.LIB.logger.debug("set","initPlugin()","SDK.STOP","triggered by pluginId:",a,"SDK.LIB._index:",f.LIB._index),f.LIB.logger.debug("stop","initPlugin()","due to","STOP (2)")):f.plugins[a]=e,null}).then(function(){return e?e(a).then(function(e){return f.plugins[a]=e,null}):null})}if("boot"===o.type[a])return e();if(f.plugins[a]=t,"init"===o.type[a]){if(1===s.init.length)throw new Error("Multiple plugins for runLevel 'init' declared! You can only declare one 'init' plugin.");return s[o.type[a]].push(e),null}if("orchestration"!==o.type[a])throw new Error("Unknown runLevel '"+o.type[a]+"' for plugin '"+a+"'!");function n(){return e(function(e){if(f.VERBOSE&&d.log("INIT POST-PORCHESTRATION",e),"function"!=typeof f.plugins[e].forAPI)throw new Error("Plugin '"+e+"' with runLevel 'orchestration' does not export 'forAPI()'!");return f.VERBOSE&&d.info("[cti.sdk] Call 'forAPI()' on plugin:",e),u.Promise.try(function(){return f.plugins[e].forAPI(f.OC)})})}return l.orchestration?n():(s[o.type[a]].push(n),null)}(i)})},u.Promise.mapSeries(c["#plugin-dependency-map1"].loadLayers,function(e){f.VERBOSE&&d.log("[sdk] Load plugin layer:",e);var t=Date.now();return u.Promise.map(e,function(e){return f.loadPlugin(n,e)}).then(function(){return f.VERBOSE&&d.log("[cti.sdk] Load duration for plugin layer '"+e.join(", ")+"':",Date.now()-t),null})}).then(function(){return f.VERBOSE&&d.info("[cti.sdk] All plugins loaded"),null})}).then(function(){if(f.STOP)return null;f.VERBOSE&&d.info("[cti.sdk] Run initializer");function t(e){if(f.VERBOSE&&d.info("[cti.sdk] Got 'setContext()' from initializer",e),e&&!n.promise.isPending())throw new Error("'orchestrationContext' already set using 'runOrchestration.setContext(context)'. You cannot set it again using 'runOrchestration(context)'.");n.resolve(e)}var n=u.Promise.defer();return t.setContext=t,e||(u.LODASH.get(c,"bootOptions.isSelfOrchestrated",!1)?t(void 0):f.LIB.event.channels.lifecycle.once("pre-orchestration-context",function(e){t(e)})),u.Promise.try(function(){return e&&e(f,t),null}).then(function(){return u.Promise.mapSeries(s.init,function(e){return e()})}).then(function(){return l.init=!0,n.promise})}).then(function(e){if(f.STOP)return null;if(e=e||{},f.VERBOSE&&d.info("[cti.sdk] Got 'orchestrationContext'",e),e.LIB&&(e.LIB.console&&(d=e.LIB.console,f.console=e.LIB.console),e.LIB.config&&(f.LIB.config=e.LIB.config,f.DEBUG=f.LIB.config.debug,o=f.DEBUG),e.LIB.logger&&(f.LIB.logger=e.LIB.logger),f.VERBOSE&&d.info("[cti.sdk] Set various 'SDK' properties to property references from the 'orchestrationContext'")),e&&e.LIB&&e.LIB.config){var t=f.LIB.LODASH.merge({_sdkStreamName:e.LIB._sdkStreamName||"stream not set","plugin-opt":0},a?{fpcs_cookie_sync:!0}:{});e.LIB.config.comparison=f.LIB.LODASH.merge({},e.LIB.config.comparison,{referralData:t})}return f.OC=e,p.resolve(e),f.VERBOSE&&d.info("[cti.sdk] Init all 'orchestration' plugins"),u.Promise.mapSeries(s.orchestration,function(e){return e(function(e){if(d.log("INIT POST-PORCHESTRATION",e),"function"!=typeof f.plugins[e].forAPI)throw new Error("Plugin '"+e+"' with runLevel 'orchestration' does not export 'forAPI()'!");return f.VERBOSE&&d.info("[cti.sdk] Call 'forAPI()' on plugin:",e),u.Promise.try(function(){return f.plugins[e].forAPI(f.OC)})})}).then(function(){return l.orchestration=!0,f.STOP,null}).then(function(){var e=i;return i=null,u.Promise.mapSeries(e,function(e){return e()})}).then(function(){return e})})}).then(function(e){return f.STOP?null:(f.LIB.logger.debug("#######################################"),f.LIB.logger.debug("############## SDK BOOTED #############"),f.LIB.logger.debug("########## NOW ORCHESTRATING ##########"),f.LIB.logger.debug("#######################################"),f.LIB._timingInfo.orchestrationEndTime=Date.now(),f.LIB._timingInfo.initDuration=f.LIB._timingInfo.orchestrationEndTime-f.LIB._timingInfo.orchestrationStartTime-f.LIB._timingInfo.constrainDuration,f.LIB.logger.debug("# Plugin init:",f.LIB._timingInfo.initDuration,", Constrain:",f.LIB._timingInfo.constrainDuration),f.LIB.logger.debug("#######################################"),t?t(f,e):void f.LIB.event.channels.lifecycle.emit("orchestration-context",e))}).catch(function(e){throw f.LIB.logger.error("[cti.sdk] ERROR:",e.stack),e})}},{"./api/CONFIG":"lib/cti.sdk/api/CONFIG.js","./api/DEV":"lib/cti.sdk/api/DEV.js","./api/EXPERIMENTS":"lib/cti.sdk/api/EXPERIMENTS.js","./api/FIREWALL":"lib/cti.sdk/api/FIREWALL.js","./api/RECORD.SESSION":"lib/cti.sdk/api/RECORD.SESSION.js","./api/RECORD.SESSION.V2":"lib/cti.sdk/api/RECORD.SESSION.V2.js","./api/SDK.API.PROXY":"lib/cti.sdk/api/SDK.API.PROXY.js","./api/SIDE.BY.SIDE":"lib/cti.sdk/api/SIDE.BY.SIDE.js","./api/STATE":"lib/cti.sdk/api/STATE.js","./api/TARGETING":"lib/cti.sdk/api/TARGETING.js","./api/TOOLS":"lib/cti.sdk/api/TOOLS.js","./api/WINDOW":"lib/cti.sdk/api/WINDOW.js","./icc-util":"lib/cti.sdk/icc-util.js","./lib/functions/consent":"lib/cti.sdk/lib/functions/consent.js","./lib/functions/constrain":"lib/cti.sdk/lib/functions/constrain.js","./lib/functions/loadAlternativeImplementation":"lib/cti.sdk/lib/functions/loadAlternativeImplementation.js","./sdk/lib":"lib/cti.sdk/sdk/lib.js"}],"lib/cti.sdk/sdk/constrain-adapter.js":[function(e,t,n){"use strict";n.forLIB=function(l){try{var c=l._bootOptions;c.useConstrainVendorAlias&&(c["#ucb1"]={UCB:l.LODASH.get(window,"_CTZG.bootloader.icc.UCB",{})},c["#build1"].vendorAlias=l.LODASH.get(window,"_CTZG.bootloader.constrain.data.PublisherMetadataModule.publisherAlias",null)||c["#ucb1"].UCB.alias);var e="https:";if(l.config["#build1"]=c["#build1"],l.config["#cti1"]=l.LODASH.merge(l.config["#cti1"]||{},{debug:c["#build1"].debugEnabled||!1,options:{},logger:{},publisher:{alias:c["#build1"].vendorAlias,hash:c["#build1"].vendorHash},endpoints:{www:{protocol:e,hostUri:"//www.clicktripz.com"},static:{protocol:e,hostUri:"//"+c["#build1"].staticHostname},images:{protocol:e,hostUri:"//"+c["#build1"].imagesHostname},release:{protocol:e,hostUri:"//"+c["#build1"].releaseHostname},beacon:{protocol:"https:",hostUri:"//www.clicktripz.com/logs"}},localization:l.UA.getLanguage()}),!c["#constrain1"]&&c["#spec1"]&&c["#spec1"].FPCS){var t=c["#spec1"].FPCS;Array.isArray(t)||(t=[t]);var n=t.filter(function(e){if(!e.hostname)return!1;var t=l.dom.window.location.hostname.indexOf(e.hostname);return-1!==t&&t===l.dom.window.location.hostname.length-e.hostname.length});if(0===n.length&&(n=t.filter(function(e){return!e.hostname})),1<n.length)throw console.error("found",n),new Error("More than one FPCS config object matches for hostname '"+l.dom.window.location.hostname+"'!");1===n.length&&((t=n[0]).hostnames.beacon=t.hostnames.www,Object.keys(t.hostnames).forEach(function(e){t.hostnames[e];l.config["#cti1"].endpoints[e]={protocol:!1===t.secure?"http:":"https:",hostUri:"//"+t.hostnames[e]}}))}if(c["#constrain1"]){if(c["#spec1"]&&0<Object.keys(c["#spec1"]).length)throw new Error("Cannot specify '#spec1' if '#constrain1' is specified!");c["#constrain1"].specs&&c["#constrain1"].specs.length&&c["#constrain1"].specs.forEach(function(e,n){c["#constrain1"].specs[n].fpcs&&c["#constrain1"].specs[n].fpcs.length&&c["#constrain1"].specs[n].fpcs.forEach(function(e,t){c["#constrain1"].specs[n].fpcs[t].hostname;Object.keys(c["#constrain1"].specs[n].fpcs[t].hostnames).forEach(function(e){l.config["#cti1"].endpoints[e]={protocol:!1===c["#constrain1"].specs[n].fpcs[t].secure?"http:":"https:",hostUri:"//"+c["#constrain1"].specs[n].fpcs[t].hostnames[e]}})})})}l.dom.window.CTI_DEBUG_ON_IWS?(l.config["#cti1"].endpoints.release.hostUri="//"+("https:"===l.dom.window.location.protocol?c["#build1"].iwsHostname+":8089":c["#build1"].iwsHostname+":8088"),l.config["#cti1"].endpoints.beacon.protocol="https:",l.config["#cti1"].endpoints.beacon.hostUri="//www.clicktripz.com/logs"):"//www.clicktripz.com"!==l.config["#cti1"].endpoints.www.hostUri&&(l.config["#cti1"].endpoints.beacon.hostUri=l.config["#cti1"].endpoints.www.hostUri+"/logs"),Object.keys(l.config["#cti1"].endpoints).forEach(function(e){if(!/^\/\//.test(l.config["#cti1"].endpoints[e].hostUri))throw new Error("[constrain-adapter] The 'hostUri' for endpoint '"+e+"' may not include the protocol and must start with '//'!");if(!/^https?:$/.test(l.config["#cti1"].endpoints[e].protocol))throw new Error("[constrain-adapter] The 'protocol' for endpoint '"+e+"' must be set to 'http:' or 'https:'!")})}catch(e){throw e}var r={applyConstrainResponse:function(e,t){var n=t.data;if(e.config["#cti1"].userOptedOut=n.userOptedOut,l.LODASH.get(c,"nonTravel.enableConstrainNonTravel",!1)){e.config["#cti1"].publisher||(e.config["#cti1"].publisher={}),e.config["#cti1"].publisher.umbrellaID=n.umbrellaID;var r=l.LODASH.get(n,"products.exit_unit.publisherID",null),i=l.LODASH.get(n,"products.lightbox.publisherID",null);r&&(e.config["#cti1"].publisher.id=r),i&&(e["ddu-config"]["#cti1"].publisher||(e["ddu-config"]["#cti1"].publisher={}),e["ddu-config"]["#cti1"].publisher.id=i),n.audiences&&(e.config["#cti1"].nonTravel={audiences:l.LODASH.get(n,"audiences",null),products:l.LODASH.get(n,"products",null)})}var o=l.COOKIE.get("_pageviewUUID"),a=l.LODASH.get(n,"PageViewTrackerModule.pageViewUuid",o);o!==a&&(o&&l.COOKIE.remove("_pageviewUUID"),l.COOKIE.set("_pageviewUUID",a,{expires:600,domain:n.dmn?n.dmn:window.location.host}));var s=l.LODASH.get(n,["PublisherMetadataModule","publisherAlias"],null)||l.LODASH.get(n,["PublisherMetadataModule","siteName"],null);s&&(e.config["#cti1"].publisher=l.LODASH.merge({},e.config["#cti1"].publisher,l.LODASH.get(n,["PublisherMetadataModule"]),{alias:s}))}};return r}},{}],"lib/cti.sdk/sdk/lib.js":[function(l,e,c){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d={},f=0,p=-1;c.makeLib=function(e){(e=e||{})["#build1"]=e["#build1"]||{},e.runtime||(e.runtime="browser");var t;e["#build1"].debugEnabled?(void 0===window._CTI_LIB_GLOBAL_INDEX&&(window._CTI_LIB_GLOBAL_INDEX=-1),p=window._CTI_LIB_GLOBAL_INDEX=window._CTI_LIB_GLOBAL_INDEX+1):p+=1,t=p;var a={_timingInfo:{},_build:e["#build1"],_sdkStreamName:"live_preview",_id:null,_index:t,EventEmitter:l("events").EventEmitter,Promise:e["#plugin-dependency-map1"]?l("../lib/libs/promise"):l("../lib/libs/bluebird"),runtime:{isBrowser:function(){return"browser"===e.runtime},isServer:function(){return"browser"!==e.runtime}},config:{debug:e["#build1"].debugEnabled||!1,options:{}},status:{disabled:!1,activeWatcher:null},dom:{window:"browser"===e.runtime?window:{location:{search:""},navigator:{language:"en",userAgent:""},document:{referrer:""},console:console,addEventListener:function(){}},injectSourcingElement:function(e){("SCRIPT"===e.tagName&&(e.async=!0),a.dom.window.document.body)?(a.logger.debug("inject","page.injectSourcingElement()","into BODY"),a.dom.window.document.body.appendChild(e)):(a.logger.debug("inject","page.injectSourcingElement()","into HEAD"),a.dom.window.document.getElementsByTagName("head")[0].appendChild(e));return e},injectCss:function(e){var t=a.dom.window.document.createElement("style");return t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(a.dom.window.document.createTextNode(e)),a.dom.injectSourcingElement(t),t},scopedEvent:function(e,t){return e+"._ctil_"+a._index+"_"+t.replace(/\//g,"_")}}};if(a._bootOptions=e,a.Promise.defer=function(){var n={};return n.promise=new a.Promise(function(e,t){n.resolve=e,n.reject=t}),n},a.dom.window._ctzIntegrationVersion=a._build.csBuildVersion,a.dom.window._ctzSDKVersion="live_preview/20-11-12-19-22-20",a.dom.document=a.dom.window.document,a.config.buildTime=a._build.buildTime,void 0!==a.dom.window.PINF?a.PINF=a.dom.window.PINF:(a.PINF=l("../lib/libs/pinf-loader"),a.PINF.document=a.dom.window.document,a.dom.window.PINF=a.PINF),a.JSON={},e.useJSON3){var n=l("../lib/libs/json3");Object.getOwnPropertyNames(n).forEach(function(e){a.JSON[e]=n[e]})}else Object.getOwnPropertyNames(a.dom.window.JSON).forEach(function(e){a.JSON[e]=a.dom.window.JSON[e]});void 0===a.dom.window._CTZS&&(a.dom.window._CTZS={}),void 0===a.dom.window._CTZAPI&&(a.dom.window._CTZAPI={LIB:{JSON:e.useJSON3?l("../lib/libs/json3"):a.dom.window.JSON}}),a.JSON.stringify_safe=function(e,n,t){var r=[];return a.JSON.stringify(e,function(e,t){if(t){if("function"==typeof t)return"<function>";if(t===a.dom.window)return"<window>";if("object"===(void 0===t?"undefined":u(t))&&9===t.DOCUMENT_NODE&&1===t.ELEMENT_NODE)return"<element>"}if("object"===(void 0===t?"undefined":u(t))){if(0<=r.indexOf(t))return"<circular>";r.push(t)}return n?n(e,t):t},t)},a.JSON.externalize=function(e,t){t&&(t+="-");var n="${__SDK_OBJ__"+a._index+"_"+ ++f+"__}";return d[n]=e,n},a.JSON.internalize=function(e){return d[e]||e},a.JSON.attach=function(e,t,n,r){var i=a.LODASH.get(e,t,{});if("object"!==(void 0===i?"undefined":u(i)))throw new Error("Did not find object at path '"+t.join("/")+"'!");i["@merge"]||(i["@merge"]=[]);var o=n;o.set=r,i["@merge"].push(a.JSON.externalize(o)),a.LODASH.set(e,t,i)},a.JSON.get=function(t,e){if(void 0===(t=a.LODASH.get(t,e,void 0)))return t;if("object"===(void 0===t?"undefined":u(t))&&t["@merge"]&&1===Object.keys(t).length){var n=void 0;if("string"==typeof t["@merge"])try{t["@merge"]=a.JSON.parse(t["@merge"])}catch(e){throw new Error("Could not parse JSON string: "+t["@merge"])}return t["@merge"].forEach(function(e){n=a.JSON.internalize(e)(n)}),n}return t},a.JSON.set=function(e,t,n,r){if(void 0===(e=a.LODASH.get(e,t,void 0)))throw new Error("Cannot set value at path '"+t.join("/")+"' as it does not already exist!");if("object"===(void 0===e?"undefined":u(e))&&e["@merge"]&&1===Object.keys(e).length){if(r)throw new Error("'where' NYI: Currently always setting value in only layer!");if(1<e["@merge"].length)throw new Error("'where' NYI: Currently only one layer supported!");if("function"!=typeof a.JSON.internalize(e["@merge"]).set)throw new Error("No setter available for path '"+t.join("/")+"'!");if(e=a.JSON.internalize(e["@merge"]),"function"==typeof n){var i=void 0,o=n(i=e(i));void 0!==o&&(i=o)}return e.set(i)}throw new Error("Cannot set value at path '"+t.join("/")+"' as it does not contain a mergeable value!")};var r=a._build.buildConfig||{debugEnabled:!1};Object.keys(r).forEach(function(e){a.config[e]=r[e]}),a.dom.window._ctz_Promise_configured||(a.dom.window._ctz_Promise_configured=!0,a.config.debug?a.Promise.config({warnings:{wForgottenReturn:!1},longStackTraces:!0,cancellation:!1,monitoring:!1}):a.Promise.config({warnings:!1,longStackTraces:!1,cancellation:!1,monitoring:!1})),e["#plugin-dependency-map1"]||a.Promise.onPossiblyUnhandledRejection(function(e){a.logger?a.logger.error("[cti.sdk][bluebird] onPossiblyUnhandledRejection():",e.stack||e):a.config.debug&&console.error("[cti.sdk][bluebird] onPossiblyUnhandledRejection():",e)}),a.Promise._console={warn:function(e){a.logger?a.logger.error("[cti.sdk][bluebird] warn():",e):a.config.debug&&console.error("[cti.sdk][bluebird] warn():",e)}},a.createDeferredOnObject=function(e,t){var n=a.Promise.defer();e[t]=n.promise,e[t]._deferred=n},a.createEventEmitterOnObject=function(e,t,n,r){var i=new a.EventEmitter;"number"!=typeof r&&(r=50),i.setMaxListeners(r),e[t]=function(e,t){i.on(e,t)},n&&(n[t]=window._cti_backfill_function_prototype_bind(i.emit,i))},a.config.debug&&(a.dom.window.CTI_DEBUG=!0,a.dom.window.CTI_DEBUG_ON_IWS=/^(192\.[0-9\.]+|localhost)/.test(a._build.iwsHostname)),a.CONSOLE=l("lib/cti/lib/console").forLib(a),a.console=a.CONSOLE.console,a.JQUERY=l("lib/cti/lib/jquery").forLib(a),a.$=a.JQUERY.$,a.LODASH=l("lib/lib.lodash/ctlodash.build.js"),a.UA=l("lib/cti/lib/ua").forLib(a),a.CONSTRAIN_ADAPTER=l("./constrain-adapter").forLIB(a),a.config.options.dynamicCTZOverride=a.config.options.dynamicCTZOverride||{},a.JSON.attach(a.config,["options","dynamicCTZOverride"],function(){var e={};try{e=a.JSON.parse(a.FORCE_STORE.get("CTI_FORCE_DYNAMIC_CTZ_OVERRIDE")||"{}")}catch(e){}return a.LODASH.merge({options:{debug:{forms:{}},logger:{scopes:{}}}},e)},function(e){a.FORCE_STORE.set("CTI_FORCE_DYNAMIC_CTZ_OVERRIDE",a.JSON.stringify(e))}),a.config["#cti1"].options.dynamicCTZOverride=a.config.options.dynamicCTZOverride,a.COOKIE=l("lib/cti/lib/cookie").forLib(a);var i={get:function(e){var t=a.COOKIE.get(e);return null===t&&(t=void 0),t},set:function(e,t,n){a.COOKIE.set(e,t,n)},remove:function(e){a.COOKIE.remove(e)}};function o(){a.config.debug&&"LOCAL_STORAGE"===e.forceStoreAdapterOnDebug?(a.FORCE_STORE=a.LOCAL_FORCE_STORE,a.LOCAL_FORCE_STORE.set("CTI_FORCE_DISPLAY_DEBUG_TOOLS",i.get("CTI_FORCE_DISPLAY_DEBUG_TOOLS"))):a.FORCE_STORE=i}a.LOCAL_FORCE_STORE={get:function(e){var t=a.dom.window.localStorage.getItem(e);return null===t&&(t=void 0),t},set:function(e,t){a.dom.window.localStorage.setItem(e,t)},remove:function(e){a.dom.window.localStorage.removeItem(e)}},o(),a.Asset=l("cti.sdk/lib/classes/Asset").forWindow(a.dom.window),a.logger=l("../lib/instances/logger").forLib(a),a.makeCookieOption=l("cti.sdk/lib/functions/makeCookieOption").forLib(a),a.parseQueryString=l("cti.sdk/lib/functions/parseQueryString").forLib(a);var s={DEBUG:null,DYNAMIC_CTZ_OVERRIDE:{}};if(!0!==e.skipMakeCookieOption&&(a.makeCookieOption(s,"CTI_FORCE_DEBUG","DEBUG","boolean"),a.LODASH.set(a.config,["#cti1","debug"],s.DEBUG)),!0!==s.DEBUG&&!1!==s.DEBUG||(a.config.debug=s.DEBUG,o()),!0!==e.skipMakeCookieOption&&a.makeCookieOption(s,"CTI_FORCE_DYNAMIC_CTZ_OVERRIDE","DYNAMIC_CTZ_OVERRIDE","object"),a.config.debug&&"LOCAL_STORAGE"===e.forceStoreAdapterOnDebug?a.logger.debug("Using LOCAL_FORCE_STORE due to bootOptions.forceStoreAdapterOnDebug === 'LOCAL_STORAGE'"):a.logger.debug("Using COOKIE_FORCE_STORE"),!0!==e.skipMakeCookieOption&&(a.makeCookieOption(a.config.options,"CTI_FORCE_DISPLAY_DEBUG_TOOLS","displayDebugTools","boolean"),a.makeCookieOption(a.config.options,"CTI_FORCE_PLUGIN_STAGE","forcePluginStage","object"),a.makeCookieOption(a.config.options,"CTI_FORCE_SDK_VERBOSE","enableSDKVerboseLogging","boolean")),a.CREATIVE_TAG_IMPL=l("../lib/creatives/_tag_impl"),a.SelectorListener=l("cti.sdk/lib/classes/SelectorListener").forLib(a),a.DataProvider=l("../lib/classes/DataProvider").forLib(a).DataProvider,a.ElementChildListObserver=l("../lib/classes/ElementChildListObserver").forLib(a).ElementChildListObserver,a.isElementVisible=l("../lib/functions/isElementVisible").forWindow(a.dom.window),a.onceSelectorVisible=l("../lib/functions/onceSelectorVisible").forWindow(a.dom.window),a.getObjectDiff=l("..//lib/functions/getObjectDiff").forLib(a),a.SelectorWatchers=l("../lib/classes/SelectorWatcher").forLib(a),a.SelectorListeners=l("../lib/classes/SelectorListener").forLib(a),a.injectSourcingElement=l("../lib/functions/injectSourcingElement").forLib(a),a.md5=l("../lib/functions/md5").forLib(a),a.BrowserHistory=l("../lib/classes/BrowserHistory").forLib(a),a.endpoint=l("cti.sdk/lib/libs/2018-02-BackendEndpoint_endpoint.helper").forLib(a),a.QUERYSTRING=l("querystring"),a.CONSTANTS=l("lib/cti/lib/constants").forLib(a),a.DATE=l("lib/cti/lib/date").forLib(a),a.MOMENT=l("moment"),a.DATE_FNS={parse:function(e,t){return a.MOMENT(e,t).toDate()},format:function(e,t){return a.MOMENT(e).format(t)},isValid:function(e){return a.MOMENT(e).isValid()},differenceInDays:function(e,t){return a.MOMENT(e).diff(t,"days")}},a.SERVER_API=l("lib/cti/lib/server-api").forLib(a),a.SCHEMA=l("lib/cti/lib/schema").forLib(a),a.event=l("../lib/instances/sdkEvents").forLib(a),a.history=l("../lib/instances/history").forLib(a),a.bodyEvent=l("../lib/instances/bodyEvent").forLib(a),a.FINGER_PRINT_JS2=l("../lib/libs/fingerprint2"),a.CT_ADAPTER=l("lib/cti/lib/ctcore-adapter"),a.CRYPTO={generateUUID:function(){var n=(new Date).getTime();return a.dom.window.performance&&"function"==typeof a.dom.window.performance.now&&(n+=a.dom.window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}},a.ASSERT=function(e,t,n){void 0===t&&void 0===n?e||a.logger.error("EXPECTED:",t," ACTUAL:",e,"Assertion: "+n):e!==t&&a.logger.error("EXPECTED:",t," ACTUAL:",e,"Assertion: "+n)},a.helper=function e(r){return e._helpers||(e._helpers={}),e._helpers[r]||(e._helpers[r]=new a.Promise(function(t,n){try{var e=null;if(a.Asset.useDevUrl())e=r.match(/^(\d{4}-\d{2}-.+)$/)?a.Asset.makeDevUrl("/widgets/admin/pages.built/Integrations/Plugins/"+r+".helper.js"):a.Asset.makeDevUrl("/widgets/admin/pages.built/"+r+".helper.js");else{if("2017-04-Beacon_beacon"!==r)throw new Error("TODO: Map production url for helper with id '"+r+"'!");e=a.config["#cti1"].endpoints.static.hostUri+"/r/beacon.js"}/^http\:/.test(e)&&(e=e.replace("http:","https:")),/^\/\//.test(e)&&(e="https:"+e),a.dom.window.PINF.sandbox(e,function(e){t(e.main())},n)}catch(e){n(e)}}).catch(a.console.error)),e._helpers[r]},a.tool=function e(i){return e._helpers||(e._helpers={}),e._helpers[i]||(e._helpers[i]=new a.Promise(function(t,n){try{var e=null,r=i.match(/^Integrations\/Plugins\/([^_]+)(_.+)?$/);if(r&&a.config.options.forcePluginStage&&a.config.options.forcePluginStage[r[1]])e="https://cs.clicktripz.com/r/plugins/"+r[1]+"/_stage/"+a.config.options.forcePluginStage[r[1]]+"/"+r[1]+r[2]+".tag.standalone.bundle.js";else if(a.Asset.useDevUrl())e=a.Asset.makeDevUrl("/widgets/admin/pages/"+i+".tag.standalone.js");else{if(!(r=i.match(/^Integrations\/Plugins\/(\d{4}-\d{2}-.+)$/)))throw new Error("TODO: Map production url for tool with id '"+i+"'!");e="//static.clicktripz.com/r/lib/"+r[1]+".tag.standalone.bundle.js"}a.dom.window.PINF.sandbox(e,function(e){t(e.main())},n)}catch(e){n(e)}}).catch(a.console.error)),e._helpers[i]},void 0===a.dom.window._CTZ_CTI_SDK){a.dom.window._CTZ_CTI_INSTANCES=new function(){var t=this,n={};t.registerLIB=function(e){e._id=e.CRYPTO.generateUUID(),n[e._id]=e},t.isRegistered=function(e){return n[e._id]},t.areOthersRegistered=function(e){if(!t.isRegistered(e))throw new Error("Cannot check if others are registered because provided instance is not found to begin with!");return 1<Object.keys(n).length}}}return a.dom.window._CTZ_CTI_INSTANCES.registerLIB(a),a.dom.window.CTI_INSPECT=function(){var e;e=["maxChecked","maxAdvertisers","publisherID","maxSearchesPerDay","hardLimitSearchCap","hardLimitSearchCapSeconds","tabbedMode"],"function"==typeof a.dom.window._ctGetCtObjNames?a.dom.window._ctGetCtObjNames().length?a.LODASH.each(a.dom.window._ctGetCtObjNames(),function(t){a.LODASH.each(e,function(e){a.dom.window.console.log("[CTI_INSPECT]","_ctObjs."+t+"."+e,a.dom.window._ctObjs[t][e])})}):a.dom.window.console.error("[CTI_INSPECT]","No compareTo strip has been initiated. "):a.dom.window.console.error("[CTI_INSPECT]","CT not initiated. Try again later.")},a._makeLib=c.makeLib,a}},{"..//lib/functions/getObjectDiff":"lib/cti.sdk/lib/functions/getObjectDiff.js","../lib/classes/BrowserHistory":"lib/cti.sdk/lib/classes/BrowserHistory.js","../lib/classes/DataProvider":"lib/cti.sdk/lib/classes/DataProvider.js","../lib/classes/ElementChildListObserver":"lib/cti.sdk/lib/classes/ElementChildListObserver.js","../lib/classes/SelectorListener":"lib/cti.sdk/lib/classes/SelectorListener.js","../lib/classes/SelectorWatcher":"lib/cti.sdk/lib/classes/SelectorWatcher.js","../lib/creatives/_tag_impl":"lib/cti.sdk/lib/creatives/_tag_impl.js","../lib/functions/injectSourcingElement":"lib/cti.sdk/lib/functions/injectSourcingElement.js","../lib/functions/isElementVisible":"lib/cti.sdk/lib/functions/isElementVisible.js","../lib/functions/md5":"lib/cti.sdk/lib/functions/md5.js","../lib/functions/onceSelectorVisible":"lib/cti.sdk/lib/functions/onceSelectorVisible.js","../lib/instances/bodyEvent":"lib/cti.sdk/lib/instances/bodyEvent.js","../lib/instances/history":"lib/cti.sdk/lib/instances/history.js","../lib/instances/logger":"lib/cti.sdk/lib/instances/logger.js","../lib/instances/sdkEvents":"lib/cti.sdk/lib/instances/sdkEvents.js","../lib/libs/bluebird":"lib/cti.sdk/lib/libs/bluebird.js","../lib/libs/fingerprint2":"lib/cti.sdk/lib/libs/fingerprint2.js","../lib/libs/json3":"lib/cti.sdk/lib/libs/json3.js","../lib/libs/pinf-loader":"lib/cti.sdk/lib/libs/pinf-loader.js","../lib/libs/promise":"lib/cti.sdk/lib/libs/promise.js","./constrain-adapter":"lib/cti.sdk/sdk/constrain-adapter.js","lib/cti/lib/console":"lib/cti/lib/console.js","lib/cti/lib/constants":"lib/cti/lib/constants.js","lib/cti/lib/cookie":"lib/cti/lib/cookie.js","lib/cti/lib/ctcore-adapter":"lib/cti/lib/ctcore-adapter.js","lib/cti/lib/date":"lib/cti/lib/date.js","lib/cti/lib/jquery":"lib/cti/lib/jquery.js","lib/cti/lib/schema":"lib/cti/lib/schema.js","lib/cti/lib/server-api":"lib/cti/lib/server-api.js","lib/cti/lib/ua":"lib/cti/lib/ua.js","lib/lib.lodash/ctlodash.build.js":"lib/lib.lodash/ctlodash.build.js","cti.sdk/lib/classes/Asset":"lib/cti.sdk/lib/classes/Asset.js","cti.sdk/lib/classes/SelectorListener":"lib/cti.sdk/lib/classes/SelectorListener.js","cti.sdk/lib/functions/makeCookieOption":"lib/cti.sdk/lib/functions/makeCookieOption.js","cti.sdk/lib/functions/parseQueryString":"lib/cti.sdk/lib/functions/parseQueryString.js","cti.sdk/lib/libs/2018-02-BackendEndpoint_endpoint.helper":"lib/cti.sdk/lib/libs/2018-02-BackendEndpoint_endpoint.helper.js",events:"lib/cti.tools/node_modules/events/events.js",moment:"node_modules/moment/moment.js",querystring:"lib/cti.tools/node_modules/querystring-es3/index.js"}],"lib/cti.tools/node_modules/events/events.js":[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function l(e){return"function"==typeof e}function c(e){return"object"==typeof e&&null!==e}function u(e){return void 0===e}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,i,o,a;if(this._events||(this._events={}),"error"===e&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(u(n=this._events[e]))return!1;if(l(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(c(n))for(i=Array.prototype.slice.call(arguments,1),r=(a=n.slice()).length,o=0;o<r;o++)a[o].apply(this,i);return!0},r.prototype.on=r.prototype.addListener=function(e,t){var n;if(!l(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,l(t.listener)?t.listener:t),this._events[e]?c(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,c(this._events[e])&&!this._events[e].warned&&(n=u(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.once=function(e,t){if(!l(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,i,o;if(!l(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||l(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(c(n)){for(o=i;0<o--;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(l(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?l(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(l(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],"lib/cti.tools/node_modules/process/browser.js":[function(e,t,n){var r,i,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(e){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,u=[],d=!1,f=-1;function p(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&h())}function h(){if(!d){var e=l(p);d=!0;for(var t=u.length;t;){for(c=u,u=[];++f<t;)c&&c[f].run();f=-1,t=u.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||d||l(h)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],"lib/cti.tools/node_modules/querystring-es3/decode.js":[function(e,t,n){"use strict";t.exports=function(e,t,n,r){t=t||"&",n=n||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var s,l,c=e.length;0<a&&a<c&&(c=a);for(var u=0;u<c;++u){var d,f,p,h,g=e[u].replace(o,"%20"),m=g.indexOf(n);f=0<=m?(d=g.substr(0,m),g.substr(m+1)):(d=g,""),p=decodeURIComponent(d),h=decodeURIComponent(f),s=i,l=p,Object.prototype.hasOwnProperty.call(s,l)?v(i[p])?i[p].push(h):i[p]=[i[p],h]:i[p]=h}return i};var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"lib/cti.tools/node_modules/querystring-es3/encode.js":[function(e,t,n){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(n,r,i,e){return r=r||"&",i=i||"=",null===n&&(n=void 0),"object"==typeof n?s(l(n),function(e){var t=encodeURIComponent(o(e))+i;return a(n[e])?s(n[e],function(e){return t+encodeURIComponent(o(e))}).join(r):t+encodeURIComponent(o(n[e]))}).join(r):e?encodeURIComponent(o(e))+i+encodeURIComponent(o(n)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var l=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],"lib/cti.tools/node_modules/querystring-es3/index.js":[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":"lib/cti.tools/node_modules/querystring-es3/decode.js","./encode":"lib/cti.tools/node_modules/querystring-es3/encode.js"}],"lib/cti.tools/node_modules/timers-browserify/main.js":[function(l,e,c){(function(e,t){var r=l("process/browser.js").nextTick,n=Function.prototype.apply,i=Array.prototype.slice,o={},a=0;function s(e,t){this._id=e,this._clearFn=t}c.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},c.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},c._unrefActive=c.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},c.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&i.call(arguments,1);return o[t]=!0,r(function(){o[t]&&(n?e.apply(null,n):e.call(null),c.clearImmediate(t))}),t},c.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":"lib/cti.tools/node_modules/process/browser.js",timers:"lib/cti.tools/node_modules/timers-browserify/main.js"}],"lib/cti/lib/console.js":[function(e,t,n){"use strict";n.forLib=function(r){var n={callConsoleMethod:function(e,t){function n(e,t){return"count"===t&&void 0===e[t]&&(t="log"),t}void 0!==r.dom.window.CT_BROWSER_CONSOLE?(e=n(r.dom.window.CT_BROWSER_CONSOLE,e),r.dom.window.CT_BROWSER_CONSOLE[e].apply(r.dom.window.console,t)):(e=n(r.dom.window.console,e),1===t.length?r.dom.window.console[e](t[0]):2===t.length?r.dom.window.console[e](t[0],t[1]):3===t.length?r.dom.window.console[e](t[0],t[1],t[2]):4===t.length?r.dom.window.console[e](t[0],t[1],t[2],t[3]):5===t.length?r.dom.window.console[e](t[0],t[1],t[2],t[3],t[4]):6===t.length?r.dom.window.console[e](t[0],t[1],t[2],t[3],t[4],t[5]):7===t.length?r.dom.window.console[e](t[0],t[1],t[2],t[3],t[4],t[5],t[6]):8===t.length?r.dom.window.console[e](t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):9===t.length?r.dom.window.console[e](t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]):10===t.length&&r.dom.window.console[e](t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9])),r.config.debug&&r.DEVUI&&"error"===e&&r.DEVUI.showNotification("error",t.join(" ").split("\n").shift()+" (check browser console)").catch(function(e){return null})}};return n.console=new r.EventEmitter,n.console.on("error",function(){}),[["log","info"],"info","count","error"].forEach(function(t){"string"==typeof t&&(t=[t,t]),n.console[t[0]]=function(){if(r.runtime.isBrowser()){var e=Array.prototype.slice.call(arguments);if("error"===t[1]&&n.console.emit("error",e),r.config.debug)return(e=[].concat(e)).unshift("[DEV."+r._index+"]"),n.callConsoleMethod(t[1],e);"error"===t[0]&&r.logger.error.apply(r.logger,arguments)}}}),n}},{}],"lib/cti/lib/constants.js":[function(e,t,n){"use strict";n.forLib=function(e){var r={normalize:function(t,n){if(!t)throw new Error("No 'constants' provided!");var e=Object.keys(t).filter(function(e){return e===n||t[e]===n});if(1===e.length)return t[e[0]];throw new Error("Constant value '"+n+"' not found in constants:",t)},nameForValue:function(t,n){return n=r.normalize(t,n),Object.keys(t).filter(function(e){return t[e]===n})[0]},STOP:"STOP",PAGE:{TYPES:{IRRELEVANT:"IRRELEVANT",UNKNOWN:"UNKNOWN",START:"START",RESULT:"RESULT",DETAIL:"DETAIL"}},VERTICAL:{HOTEL_CITYWIDE:1,HOTEL:2,FLIGHT:3,CAR_RENTAL:4,VACATION:5,CRUISE:6,NON_TRAVEL:7,TOURS_ACTIVITIES:8,HOTEL_META:100,toText:function(e){return{1:"Hotel Citywide",2:"Hotel",3:"Flights",4:"Car Rentals",5:"Vacations",6:"Cruises",7:"Non-travel",8:"Tours and Activities",100:"Hotel Meta"}[e]||"unmapped vertical"}},ADSERVER_VERTICAL:{1:"city",2:"hotel",3:"flights",4:"cars",5:"vacations",6:"cruise"}};return r.VERTICAL.TYPE_ID=r.VERTICAL,r.WATCHER_TYPE={FLIGHT:"flights",HOTEL:"hotel",CITY:"city",CAR:"cars",CRUISE:"cruise",VACATION:"vacations"},r.DEFAULT_INTERFACE_DEFINITION={prepop:{domEventTypes:["click"]},launch:{domEventTypes:["click","submit"]}},r}},{}],"lib/cti/lib/cookie.js":[function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.forLib=function(e){var i=e.console,r=function(e){if("object"!==a(e.document))throw new Error("Cookies.js requires a `window` with a `document` object");function o(e,t,n){return 1===arguments.length?o.get(e):o.set(e,t,n)}return o._document=e.document,o._cacheKeyPrefix="cookey.",o._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),o.defaults={path:"/",secure:!1},o.get=function(e){o._cachedDocumentCookie!==o._document.cookie&&o._renewCache();var t=o._cache[o._cacheKeyPrefix+e];return void 0===t?void 0:decodeURIComponent(t)},o.set=function(e,t,n){return(n=o._getExtendedOptions(n)).expires=o._getExpiresDate(void 0===t?-1:n.expires),o._document.cookie=o._generateCookieString(e,t,n),o},o.expire=function(e,t){return o.set(e,void 0,t)},o._getExtendedOptions=function(e){return{path:e&&e.path||o.defaults.path,domain:e&&e.domain||o.defaults.domain,expires:e&&e.expires||o.defaults.expires,secure:e&&void 0!==e.secure?e.secure:o.defaults.secure}},o._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},o._getExpiresDate=function(e,t){if(t=t||new Date,"number"==typeof e?e=e===1/0?o._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&(e=new Date(e)),e&&!o._isValidDate(e))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return e},o._generateCookieString=function(e,t,n){var r=(e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(t=(t+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return r+=(n=n||{}).path?";path="+n.path:"",r+=n.domain?";domain="+n.domain:"",r+=n.expires?";expires="+n.expires.toUTCString():"",r+=n.secure?";secure":""},o._getCacheFromString=function(e){for(var t={},n=e?e.split("; "):[],r=0;r<n.length;r++){var i=o._getKeyValuePairFromCookieString(n[r]);void 0===t[o._cacheKeyPrefix+i.key]&&(t[o._cacheKeyPrefix+i.key]=i.value)}return t},o._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var n,r=e.substr(0,t);try{n=decodeURIComponent(r)}catch(e){i&&"function"==typeof i.error&&i.error('Could not decode cookie with key "'+r+'"',e)}return{key:n,value:e.substr(t+1)}},o._renewCache=function(){o._cache=o._getCacheFromString(o._document.cookie),o._cachedDocumentCookie=o._document.cookie},o._areEnabled=function(){var e="cookies.js",t="1"===o.set(e,1).get(e);return o.expire(e),t},o.enabled=o._areEnabled(),o}(e.dom.window),t={set:function(e,t,n){return r.set(e,t,n)},get:function(e){return r.get(e)},getAll:function(){for(var e=document.cookie.split(";"),t={},n=0;n<e.length;n++){var r=e[n].split("=");2===r.length&&(t[r[0].replace(/(^\s+|\s+)/g,"")]=unescape(r[1].replace(/(^\s+|\s+)/g,"")))}return t},remove:function(e){return r.expire(e)}};return t}},{}],"lib/cti/lib/ctcore-adapter.js":[function(e,t,n){"use strict";var N=void 0,H=void 0,F=void 0,U=[],z={},V={},Y={},q={},W=null;n.getSingleton=function(){return W},n.forSDK=function(h){var g=h.LIB,e=G.forLib(g).detectAdblock;g.console;g.dom.window._ctCompConfs=function(){return g.LODASH.cloneDeep(g.LODASH.mapValues(V,function(e){return e.data}))},g.dom.window._ctComps=function(){return g.LODASH.cloneDeep(g.LODASH.mapValues(Y,function(e){return e.data}))},g.dom.window._ctPrepopWindows=U;var t=g.Promise.defer();if(_CTZG.bootloader.ensureModule("ct-core",function(e){N=e,H=_ctrequire("user-agent").userAgent(g.dom.window),F=_ctrequire("user-agent").queries,t.resolve()}),W)return W;h._debugDataProviders.ctcore={comparisonsByName:Y};function i(){return t.promise}var o=!1;setTimeout(function(){g.$(g.dom.window.document).on("keydown keyup",function(e){try{o="keydown"===e.type&&(e.shiftKey||e.ctrlKey||e.metaKey)}catch(e){g.logger.error(e)}})},2500);function a(e){return!e||N.isRateLimited({comparison:e,userAgent:H,numSearchesThisPageview:q[e.config.obj]||0})}function n(e){return"300"===e.results.auctionType||h.LIB.config.clmBlock}function s(e){var t=!0;return e?c()&&e.config.popUnder?t="fullscreen or maximised":L()?t="windowLaunchBlocked":e.config.defaultSubmitIsEnabled?n(e)&&(t="clm"):t="!defaultSubmitIsEnabled":t="!comparison",t}function l(e){try{var t=!0;return!0!==s(e)&&(t=!1,g.logger.debug("set","isSubmitActionable()","actionable",t,"due to",s)),g.logger.debug("return","isSubmitActionable()",t),t}catch(e){g.logger.error(e)}}function c(){var e=h.LIB.UA.isDesktopDevice(),t=g.dom.window.outerHeight>=g.dom.window.screen.height&&g.dom.window.outerWidth>=g.dom.window.screen.width;return g.logger.debug("inspect","isFullScreen()","isFullScreen",t),e&&t}function r(e,t){if(g.logger.debug("run","CT:prepop(type, domEvent)",e,t),e)if(o)g.logger.debug("skip","CT:prepop()","due to","metaKeyDown");else if(g.config.options.suppressExitWindow)g.logger.debug("skip","CT:prepop()","due to","LIB.config.options.suppressExitWindow");else if(c())g.logger.debug("skip","CT:prepop()","due to","full screen");else{var n=N.numAllowedPrepops({comparison:e,userAgent:H,numSearchesThisPageview:q[e.config.obj]||0});if(U.length>=n)return g.logger.debug("skip","CT:prepop()","due to","no windows left to pop"),!1;if(I())g.logger.debug("skip","CT:prepop()","due to","prepopBlocked");else if(L())g.logger.debug("skip","CT:prepop()","due to","windowLaunchBlocked");else{d+=1,g.logger.debug("run","CT:prepop()"),g.HEADUP&&g.HEADUP.incrementCount("prepop");var r=N.prepop({comparison:e,userAgent:H,window:g.dom.window});r&&(U.push(r),f+=1,g.HEADUP&&g.HEADUP.incrementCount("prepopped")),g.logger.debug("end","CT:prepop()")}}else g.logger.debug("skip","CT:prepop()","due to","no active strip")}function u(e,t){if(!e)throw new Error("prepopForName: 'comparisonName' must be provided");var n=P(e);return r(n,t.domEvent)}var d=0,f=0;window._ctPrepop=function(){u("exit_unit",{})};function m(e){var t=0<arguments.length&&void 0!==e?e:"",n={data:{},urlFromReferral:""};return t?t.split(":::").reduce(function(e,t){return/^https?/.test(t)?e.urlFromReferral=t:~t.indexOf("||")?(t=t.split("||"),e.data[t[0]]=t[1]):e.data[t]=!0,e},n):n}function p(e,t){var n=S()+"_"+e;return t&&t.stripIdSuffix&&(n+="_"+t.stripIdSuffix),n}function v(e,t){var n=C(e,t);return g.logger.debug("inspect","getActiveStripForType()","comparison",n),g.logger.debug("inspect","getActiveStripForType()","Object.keys(comparisonsByName)",Object.keys(Y)),g.LODASH.get(Y,[n,"data"],null)}var y=function(e,t,n){if(!e)throw new Error("drawForName: 'comparisonName' must be provided");if(!t.type)throw new Error("drawForName: 'context.type' must be provided");var r=g.LODASH.merge({},t,{comparisonName:e});return b(t.type,r,n)},b=function(d,f,p){return g.Promise.try(function(){g.logger.debug("start","CT:drawForType(type, context, isPreReadyDraw)",d,f,p),g.HEADUP&&g.HEADUP.incrementCount("draw");var e=C(d,f);!function(o){V[o]||(V[o]=new h.LIB.DataProvider,V[o].on("changed",function(i){w(i).then(function(e){if(i===V[o].data){var t=Y[o].data,n=m(g.LODASH.get(t,["config","referralURL"],"")).urlFromReferral,r=m(g.LODASH.get(e,["config","referralURL"],"")).urlFromReferral;_(e,!t||n!==r),Y[o].update(e)}return null}).catch(function(e){return g.logger.error(e)})}),Y[o]=new h.LIB.DataProvider,Y[o].on("changed",function(e){h.LIB.event.channels.page.emit("any-comparison",e),"exit_unit"===e.config.obj&&(h.LIB.event.channels.page.emit("interfaceDefinition",g.LODASH.get(e,"launchStrategy.interfaceDefinition")),h.LIB.event.channels.page.emit("comparison",e))}))}(e);var t,n,r=R(),i=f.comparisonConfig,o=B(),a=f.normalized||f.search,s=g.LODASH.get(V,[e,"data","search"]),l=a?(t=a)?t.destinationID||t.lengthID?{cruiseDestinationID:t.destinationID,cruiseLengthID:t.lengthID,departureMonth:t.departureMonth,departureYear:t.departureYear}:t:{}:s,c={obj:e,vertical:(n=d,{flights:"flight",cars:"car",vacations:"vacation"}[n]||n),search:l};(!i.maxAdvertisers||1<i.maxAdvertisers)&&g.UA.legacy.isSafari()&&g.logger.debug("Max advertisers must not be greater than 1 on safari browsers.");var u=g.LODASH.merge({},r,i,o,c);return V[e].update(u),Y[e].once("changed",function(e){p?g.logger.debug("end","CT:drawForType()","due to","isPreReadyDraw","without logging ready event","for type",d):g.logger.record.ready({searchType:d,raw:f.raw,normalized:f.normalized})}),g.logger.debug("end","CT:drawForType()"),null})},w=function(t){return e.then(function(e){return function(e){return i().then(function(){return new g.Promise(function(n,r){N.getComparison({comparisonConfig:e,userAgent:H,window:g.dom.window},function(e,t){e?r(e):n(t)})})})}(g.LODASH.merge({},t,{isAdblockEnabled:e}))})},_=function(e,t){var n,r,i,o,a,s;!function(e){g.dom.window.document;var t=g.dom.window.document.createElement("img");t.width="1",t.height="1",t.src=e,t.style.display="none",g.dom.window.document.body.appendChild(t)}((n=h.LIB.status.currentWatcher||{},r=(new Date).getTime(),i=Math.random(),o=e.results.campaigns.map(function(e){return e.id}).join(","),a=e.config.baseURL+"/pixel.php?",s={publisherID:""+e.config.publisherID,firstDraw:""+t,pageType:""+n.name,sessionVertical:""+n.vertical,campaigns:""+o,referralURL:""+encodeURIComponent(e.config.referralURL),t:""+r,r:""+i,pageview_uuid:g.COOKIE.get("_pageviewUUID")||null,alias:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","PublisherMetadataModule","publisherAlias"],S()),siteName:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","PublisherMetadataModule","siteName"],null),ctzpid:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),usingRuntimeExperiments:!!h.RuntimeContextExperimentEnabled},Object.keys(s).forEach(function(e){a+="&"+e+"="+s[e]}),a))},T=h.LIB.LODASH.memoize(function(e){var t={event_type:"block",search_key:e.results.searchKey};return g.endpoint.call({method:"POST",path:"/api/integrations/v1/launch_event",json:t})}),k=function(r,e){var t=P(r),n=!0;if(E||(g.logger.debug("skip","CT:showForType()","due to","disableAllStrips"),n=!1),t||(g.logger.info("skip","CT:showForType()","due to","comparison object not available (widget call not returned)"),n=!1),g.LODASH.get(t,"config.popUnder")&&o&&(g.logger.debug("skip","CT:showForType()","due to","metaKeyDown"),n=!1),g.config.options.suppressExitWindow&&(g.logger.debug("skip","CT:showForType()","due to","LIB.config.options.suppressExitWindow"),n=!1),a(t)&&(g.logger.debug("skip","CT:showForType()","due to","submit is rate limited"),n=!1),n&&"clm"===s(t)&&(g.logger.debug("skip","CT:showForType()","due to","clm block"),n=!1,T(t)),l(t)||(g.logger.debug("skip","CT:showForType()","due to","submit is not actionable"),n=!1),!n)return g.logger.debug("end","CT:showForType()"),N.closePrepops({userAgent:H,prepops:U});g.logger.debug("trigger","CT:showForType()","core.launch"),N.launch({comparison:t,userAgent:H,domEvent:e.domEvent,window:g.dom.window,prepops:U,openedWindows:z},function(e,t){if(e)return D(),void g.logger.debug("skip","CT:showForType()","due to",e);if(0<t.openedWindows.length){q[r]=void 0===q[r]?1:q[r]+1;var n={ctcore:!0,prepop:d+"/"+f,submitType:g.LODASH.get(h,"state.submitType",null)};g.logger.record.launched(n)}else D()}),g.logger.debug("end","CT:showForType()")},D=function(){N.closePrepops({userAgent:H,prepops:U})},S=function(){var e=h.LIB.LODASH.get(g.config,["publisher","alias"],"").replace(/\./g,"_");return h.LIB.LODASH.get(h.LIB.config,["#cti1","publisher","alias"],e)},x={},C=function(e,t){if(t&&t.comparisonName)return t.comparisonName;var n=p(e,t),r=x[n],i=-1!==n.indexOf("campaigns_"),o=0<Object.keys(x).length;return!i&&(o&&!r)&&g.logger.error("LIB.CT: No alias for deprecated comparison/ctObj name '"+n+"'. (report this to @trey)"),r||n},E=!0,A=!1,O=!1,L=function(){return A},I=function(){return O},P=function(e){return g.LODASH.get(Y,[e,"data"])},j=v,R=function(){function e(e){return e?e.replace(/^\/\//,""):void 0}var t=e(g.LODASH.get(g.config,"endpoints.static.hostUri")),n=/^(192\.[0-9\.]+|localhost):/.test(t)?"static.clicktripz.com":t,r=e(g.LODASH.get(g.config,"endpoints.images.hostUri")),i=e(g.LODASH.get(g.config,"endpoints.www.hostUri")),o={CTZG:h.LIB.LODASH.get(window,"_CTZG"),localization:function(){try{return g.dom.window.document.querySelector("html").attributes.lang.value}catch(e){return"en"}}(),hostnameStatic:n,hostnameImages:r,hostname:i,exitUnitExtraParameters:{pageview_uuid:g.COOKIE.get("_pageviewUUID")||null,alias:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","PublisherMetadataModule","publisherAlias"],S()),siteName:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","PublisherMetadataModule","siteName"],null),ctzpid:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","cpid"],null)},pageview_uuid:g.COOKIE.get("_pageviewUUID")||null,referralURL:g.dom.window.location.href,publisherID:h.LIB.LODASH.get(g.config,["publisher","id"]),publisherAlias:h.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","PublisherMetadataModule","publisherAlias"],S()),popUnder:!0,forceTabbedMode:!0,referralData:{usingRuntimeExperiments:!!h.RuntimeContextExperimentEnabled},maxChecked:2,maxAdvertisers:7,maxSearchesPerDay:48,hardLimitSearchCap:2,hardLimitSearchCapSeconds:86400};return g.LODASH.merge({},o,g.UA.legacy.isIpad()?{openNewWindowsInTabs:!1,forceTabbedMode:!1}:{},g.UA.legacy.isSafari()?{maxChecked:1,maxAdvertisers:1}:{})},B=function(){var e={};return g.config.forceNoCaps&&(e.maxSearchesPerDay=9999,e.hardLimitSearchCap=9999,e.hardLimitSearchCapSeconds=86400,e.notifyNoCaps=!0),e},M={loaded:t,isCtCore:!0,getCtWindows:function(){return z},getPrepopWindows:function(){return U},waitUntilLoaded:i,isRateLimited:a,isSubmitActionableReason:s,isSubmitActionable:l,prepopForName:u,prepop:function(e,t){if(!e)throw new Error("'type' must be set!");var n=j(e,t);return r(n,t.domEvent)},loadComparison:function(n,r){return i().then(function(){return new g.Promise(function(t,e){y(n,r).catch(e),Y[n].once("changed",function(e){return t(e)})})})},drawForName:y,drawForType:b,recordVisit:_,recordCLMBlock:T,showForType:function(e,t){if(g.logger.debug("run","CT:showForType(type)",e,j(e,t)),!e)throw new Error("'type' must be set!");var n=t.comparison?t.comparison.config.obj:C(e,t);return k(n,t)},showForName:k,closePrepops:D,getPublisherAlias:S,createComparisonAlias:function(e,t,n){var r=p(e,t);x[r]=n;var i=p(e,{});x[i]=n},getComparisonHashKey:C,getStripNameForType:C,disableAllStrips:function(){g.logger.debug("run","disableAllStrips()"),E=!1},enableAllStrips:function(){g.logger.debug("run","enableAllStrips()"),E=!0},getIsAllStripsEnabled:function(){return g.logger.debug("run","getIsAllStripsEnabled()"),E},blockWindowLaunch:function(){g.logger.debug("run","blockWindowLaunch()"),A=!0},unblockWindowLaunch:function(){g.logger.debug("run","unblockWindowLaunch()"),A=!1},windowLaunchBlocked:L,blockPrepop:function(){g.logger.debug("run","blockPrepop()"),O=!0},unblockPrepop:function(){g.logger.debug("run","unblockPrepop()"),O=!1},prepopBlocked:I,getComparisonForName:P,getActiveStripForName:P,getComparisonForType:v,getActiveStripForType:j,getStripForName:function(e){return g.logger.debug("inspect","getStripForName()","name",e),g.logger.debug("inspect","getStripForName()","Object.keys(comparisonsByName)",Object.keys(Y)),g.LODASH.get(Y,[e,"data"],null)},getTabUrl:function(){var e=P("exit_unit");if(!e)return g.logger.debug("skip","getTabUrl()","no 'exit_unit' comparison object"),null;if(a(e))return g.logger.debug("skip","getTabUrl()","due to comparison rate limited"),null;if(n(e))return g.logger.debug("skip","getTabUrl()","due to","comparison loss mitigated"),T(e),null;var t=F.isIframeAverse(H);return N.getComparisonUnitURL({comparison:e,isIframeAverse:t})},compareToToComparisonConfig:function(e){function t(e){if(void 0!==e)return"boolean"==typeof e?e:"true"==e||"1"==e}var n,r,i,o,a,s,l,c=0<arguments.length&&void 0!==e?e:{},u=[["setPublisherID","publisherID"],["setPublisherAlias","publisherAlias"],["setReferralURL","referralURL"],["optMaxChecked","maxChecked"],["optMaxAdvertisers","maxAdvertisers"],["optForceTabbedMode","tabbedMode"],["optRotationStrategy","rotationStrategy"],["optPopUnder","popUnder"],["optLocalization","localization"],["optHostname","hostname"],["optMaxSearchesPerDay","maxSearchesPerDay"],["optMaxSearchesPerPageview","maxSearchesPerPageview"],["optOpenNewWindowsInTabs","openNewWindowsInTabs"],["optHostnameTabbedWindow","hostnameTabbedWindow"],["optLoadDelay","loadDelay"],["optRedirectURL","redirectURL"],["optDefaultWindowX","defaultWindowX"],["optDefaultWindowY","defaultWindowY"],["optPopunderAlertBox","popunderAlertBox"],["optUseSafariFocusFallback","useSafariFocusFallback"],["optTabbedModeFullScreen","tabbedModeFullScreen"],["optHostnameStatic","hostnameStatic"],["optHostnameImages","hostnameImages"],["optCascadeWindows","cascadeWindows"],["optEnablePseudoPopUnder","enablePseudoPopUnder"],["optEnableIOS11","enableIOS11"],["optProtocol","protocol"],["optTopRightPseudoPopunderPositionOnWindows","topRightPseudoPopunderPositionOnWindows"],["optEnableOpenerFocusCheckPseudoPopunder","enableOpenerFocusCheckPseudoPopunder"],["optPrePop","prePop"],["optProductType","productType"]].filter(function(e){return void 0!==c[e[0]]}),d=(n=u.map(function(e){return[e[1],c[e[0]]]}),r={},n.forEach(function(e){return r[e[0]]=e[1]}),r),f=c.optHardLimitSearchesPerSeconds?(-1!==(i=c.optHardLimitSearchesPerSeconds).indexOf(":")&&(a=i.split(":"),s=parseInt(a[0],10),l=parseInt(a[1],10),!isNaN(s)&&0<s&&s<=9999&&!isNaN(l)&&0<l&&l<=86400&&(o={cap:s,seconds:l})),o):{},p={hardLimitSearchCap:f.cap,hardLimitSearchCapSeconds:f.seconds},h={popUnder:t(d.popUnder),openNewWindowsInTabs:t(d.openNewWindowsInTabs),enablePseudoPopUnder:t(d.enablePseudoPopUnder),tabbedMode:t(d.tabbedMode),tabbedModeFullScreen:t(d.tabbedModeFullScreen),prePop:t(d.prePop),cascadeWindows:t(d.cascadeWindows)};return g.LODASH.merge({},d,h,p)},parseReferralData:m};return W=M};var o=void 0,G={forLib:function(i){function n(t){if(void 0!==o)return t&&t(o);function e(e){n||(n=!0,o=e,t&&t(e))}var n=!1;if(!("//static.clicktripz.com"!==(i.config["#cti1"].endpoints&&i.config["#cti1"].endpoints.static?i.config["#cti1"].endpoints.static.hostUri:"//static.clicktripz.com")))return e(!1);var r=i.dom.window.document.createElement("script");r.type="text/javascript",(new Date).getTime(),r.onload=function(){(new Date).getTime();e(!1)},r.onerror=function(){(new Date).getTime();e(!0)},r.async=!0,r.charset="UTF-8",r.src="//static.clicktripz.com/scripts/js/adblock/ads.js",i.injectSourcingElement(r),i.dom.window.setTimeout(function(){e(!0)},1e3)}return{detectAdblock:new i.Promise(function(e,t){n(e)})}}}},{}],"lib/cti/lib/date.js":[function(t,e,n){"use strict";n.forLib=function(e){e.console;var i=t("escape-regexp"),o={};function a(e){if(a._cache||(a._cache={}),!a._cache[e]){for(var t={},n=new RegExp("^"+i(e).replace(/(YYYY|MM|DD)/g,"($1)")+"$").exec(e),r=1;r<4;r++)t[n[r]]=r;a._cache[e]={re:new RegExp("^"+i(e).replace(/(YYYY|MM|DD)/g,"(\\d+)")+"$"),mappings:t}}return a._cache[e]}return o.convertUsingFormatStrings=function(e,t,n){var r=a(e);return o.convertUsingFormatRegExp(r.re,r.mappings,t,n)},o.convertUsingFormatRegExp=function(e,t,n,r){if(!t||"number"!=typeof t.YYYY||"number"!=typeof t.MM||"number"!=typeof t.DD)throw new Error("'inputMappings' does not map sufficient properties from 'inputRe'");var i=(r=""+(r||"")).match(e);if(!i)throw new Error("The provided date '"+r+"' does not match '"+e+"'!");var o=n;return o=(o=(o=o.replace("YYYY",i[t.YYYY])).replace("MM",i[t.MM])).replace("DD",i[t.DD])},o}},{"escape-regexp":"lib/cti/node_modules/escape-regexp/index.js"}],"lib/cti/lib/ddu/translations.js":[function(e,t,n){"use strict";t.exports={en:{headerText:"Compare to other sites:",compare:"Compare rates for",bannerHeaderText:"Compare offers for",toasterParagraphText:"Compare multiple sites to find the best price.",hotelHeaderText:"See Similar Deals at the",hotelCompareHeaderText:"Looking for a Hotel?",toasterHeaderText:"Don't forget to compare rates with other sites:",waitText:"Wait, you're missing deals! Compare before you go.",priceCheck:"Price Check",bestPrice:"Our Cheapest Price:",seeAll:"See All",traveler:"Traveler",travelers:"Travelers",room:"Room",rooms:"Rooms",return:"Return",close:"Close",viewDeals:"View Deals",viewPrices:"View Prices",viewRates:"View Rates",bookNowQuestion:"Do you want to book now?",dealExpires:"This deal is about to expire!",destinationDemand:"This destination is in high demand!",stayAndBook:"Stay and book",yes:"Yes",no:"No",comparePrompt:"Comparing multiple sites helps you find the best deal.",compareOther:"Compare other sites",needAHotel:"Need a hotel in {location}?",needAHotelAccent:"Need a <em>hotel</em> in {location}?",topDealsHotel:"See deals on top rated hotels",lookingForAFlight:"Looking for a flight to {location}?",needAFlight:"Need a flight to {location}?",latestHotelReviews:"See the <strong>latest hotel reviews</strong>",lowestPrices:"Find the <strong>lowest prices</strong> from up to 200 sites",viewTodaysDeals:"View today's deals",planningATrip:"Still planning a trip to <strong>{location}</strong>?",pricesChangeQuick:"Prices and availability can change very quickly",headerTextRM:"Compare travel deals on these sites:",verticalHeader:"Search the latest {vertical} deals from {advertiser}",travelingToLocation:"Traveling to {location}?",latestDeals:"See today's latest deals from {advertiser}",searchDeals:"Search deals",hotel:"hotel",flight:"flight",carRental:"car rental",cruise:"cruise",vacation:"vacation",compareTravelDeals:"Compare travel deals on these sites:",showDeals:"Show Deals",needAVertical:"Need a {vertical} in {location}?","12Days":"1-2 days","35Days":"3-5 days","69Days":"6-9 days","10Days":"10+ days",anyLengthDays:"Any Length"},se:{headerText:"Jmfr med andra webbplatser:",compare:"Preise fr ",bannerHeaderText:"Jmfr erbjudanden fr",toasterParagraphText:"Jmfr flera webbplatser fr att hitta det bsta priset.",hotelHeaderText:"Se liknande erbjudanden p",hotelCompareHeaderText:"Letar du efter ett hotell?",toasterHeaderText:"Glm inte att jmfra priser med andra webbplatser:",waitText:"Vnta, du saknar erbjudanden! Jmfr innan du gr.",priceCheck:"Pris koll",bestPrice:"Vrt billigare pris:",seeAll:"Se allt",traveler:"Resande",travelers:"Resenrer",room:"Rum",rooms:"Rum",return:"Lmna tillbaka",close:"Stnga",viewDeals:"Visa erbjudanden",viewPrices:"Visa priser",viewRates:"Visa priser",bookNowQuestion:"Vill du boka nu?",dealExpires:"Detta erbjudande hller p att g ut!",destinationDemand:"Denna destination r starkt efterfrgad!",stayAndBook:"Stanna kvar och boka",yes:"Ja",no:"Nej",comparePrompt:"Att jmfra olika webbplatser hjlper dig hitta det bsta erbjudandet.",compareOther:"Jmfr andra priser",needAHotel:"Behver du ett hotell i {location}?",needAHotelAccent:"Behver du ett <em>hotell</em> i {location}?",topDealsHotel:"Se erbjudanden p hotell som ftt bst recensioner",lookingForAFlight:"Letar du efter flyg till {location}?",needAFlight:"Behver du ett flyg till {location}?",latestHotelReviews:"Se de <strong>senaste hotellrecensionerna</strong>",lowestPrices:"Hitta de <strong>lgsta priserna</strong> frn upp till 200 webbplatser",viewTodaysDeals:"Se dagens erbjudanden",planningATrip:"Planerar du fortfarande en resa till <strong>{location}</strong>?",pricesChangeQuick:"Priser och tillgnglighet kan ndras mycket snabbt",headerTextRM:"Jmfr reseerbjudanden p dessa webbplatser:",verticalHeader:"Sk efter de senaste erbjudanden om {vertical} frn {advertiser}",travelingToLocation:"Ska du resa till {location}?",latestDeals:"Se dagens senaste erbjudanden frn {advertiser}",searchDeals:"Sk efter erbjudanden",hotel:"hotell",flight:"flyg",carRental:"biluthyrare",cruise:"kryssning",vacation:"paketresa",compareTravelDeals:"Jmfra reseerbjudanden p dessa webbplatser:",showDeals:"Visa erbjudanden",needAVertical:"Letar du efter {vertical} i {location}?","12Days":"1-2 dagar","35Days":"3-5 dagar","69Days":"6-9 dagar","10Days":"10 + dagar",anyLengthDays:"Valfri lngd"},dk:{headerText:"Sammenlign med andre websteder:",compare:"",bannerHeaderText:"Sammenlign tilbud til",toasterParagraphText:"Sammenlign flere websteder for at finde den bedste pris.",hotelHeaderText:"Se lignende tilbud p",hotelCompareHeaderText:"Leder du efter et hotel?",toasterHeaderText:"Glem ikke at sammenligne priser med andre websteder:",waitText:"Vent, du mangler tilbud! Sammenlign fr du gr.",priceCheck:"Prischeck",bestPrice:"Vores billigste pris:",seeAll:"Se alt",traveler:"Rejsende",travelers:"Rejsende",room:"Vrelse",rooms:"Vrelser",return:"Vend tilbage",close:"Tt",viewDeals:"Vis tilbud",viewPrices:"Se Priser",viewRates:"Se priser",bookNowQuestion:"Vil du booke nu?",dealExpires:"Dette tilbud er tt p at udlbe!",destinationDemand:"Denne destination er meget efterspurgt",stayAndBook:"Bliv og book",yes:"Ja",no:"Nej",comparePrompt:"Sammenlign flere websites for at finde den bedste pris.",compareOther:"Sammenlign andre priser",needAHotel:"Har du brug for hotel i {location}?",needAHotelAccent:"Har du brug for <em>hotel</em> i {location}?",topDealsHotel:"Se tilbud p hoteller med de bedste anmeldelser",lookingForAFlight:"Leder du efter et fly til {location}?",needAFlight:"Har du brug for et fly til {location}?",latestHotelReviews:"Se de <strong>seneste hotelanmeldelser</strong>",lowestPrices:"Find de <strong>laveste priser</strong> fra op til 200 websites",viewTodaysDeals:"Se dagens tilbud",planningATrip:"Planlgger du stadig en rejse til <strong>{location}</strong>?",pricesChangeQuick:"Priser og tilgngelighed kan ndre sig meget hurtigt",headerTextRM:"Sammenlign rejsetilbud p disse websteder:",verticalHeader:"Sg de seneste tilbud p {vertical} fra {advertiser}",travelingToLocation:"Rejser du til {location}?",latestDeals:"Se dagens seneste tilbud fra {advertiser}",searchDeals:"Sg efter tilbud",hotel:"hotel",flight:"fly",carRental:"biludlejning",cruise:"krydstogt",vacation:"ferie",compareTravelDeals:"Sammenlign rejsetilbud p disse websteder:",showDeals:"Vis tilbud",needAVertical:"Leter du etter {vertical} i {location}?","12Days":"12 dager","35Days":"35 dager","69Days":"6-9 dager","10Days":"10+ dager",anyLengthDays:"Alle lengder"},es:{headerText:"Compara sitios de viajes",compare:"Comparar tarifas para",bannerHeaderText:"Compara ofertas para",toasterParagraphText:"Compara varios sitios para encontrar el mejor precio.",hotelHeaderText:"Ver ofertas similares en el",hotelCompareHeaderText:"Buscas un hotel?",toasterHeaderText:"No te olvides de comparar las tarifas con otros sitios:",waitText:"Espera, te ests perdiendo ofertas! Compara antes de irte.",priceCheck:"Comprobacin de precio",bestPrice:"Nuestro precio ms barato:",seeAll:"Ver todo",traveler:"Viajero",travelers:"Viajeros",room:"Habitacin",rooms:"Habitaciones",return:"Volver",close:"Cerrar",viewDeals:"Ver ofertas",viewPrices:"Ver precios",viewRates:"Ver tarifas",bookNowQuestion:"Deseas reservar ahora?",dealExpires:"La oferta est a punto de expirar!",destinationDemand:"Este destino tiene mucha demanda!",stayAndBook:"Seguir aqu y reservar",yes:"S",no:"No",comparePrompt:"Al comparar varios sitios podrs encontrar la mejor oferta.",compareOther:"Comparar otras tarifas",needAHotel:"Necesitas un hotel en {location}?",needAHotelAccent:"Necesitas un <em>hotel</em> en {location}?",topDealsHotel:"Descubre las ofertas en los mejores hoteles",lookingForAFlight:"Buscas un vuelo a {location}?",needAFlight:"Necesitas un vuelo a {location}?",latestHotelReviews:"Consulta las <strong>reseas de hoteles ms recientes</strong>",lowestPrices:"Encuentra los <strong>precios ms bajos</strong> de hasta 200 sitios",viewTodaysDeals:"Ver las ofertas del da",planningATrip:"Sigues planeando un viaje a <strong>{location}</strong>?",pricesChangeQuick:"Los precios y la disponibilidad pueden cambiar rpidamente",headerTextRM:"Comparar ofertas de viajes en estos sitios:",verticalHeader:"Busca las ltimas ofertas en {vertical} de {advertiser}",travelingToLocation:"Vas a viajar a {location}?",latestDeals:"Consulta las ofertas ms recientes del da de {advertiser}",searchDeals:"Buscar ofertas",hotel:"hoteles",flight:"vuelos",carRental:"alquileres de coche",cruise:"cruceros",vacation:"vacaciones",compareTravelDeals:"Comparar ofertas de viajes en estos sitios:",showDeals:"Mostrar ofertas",needAVertical:"Deseas ver {vertical} en {location}?","12Days":"1-2 das","35Days":"3-5 das","69Days":"6-9 das","10Days":"Ms de 10 das",anyLengthDays:"Cualquier duracin"},fr:{headerText:"Comparer les sites de voyage",compare:"Comparer les tarifs pour",bannerHeaderText:"Comparez les offres pour",toasterParagraphText:"Comparer plusieurs sites pour rechercher le meilleur prix.",hotelHeaderText:"Voir Offres similaires  la",hotelCompareHeaderText:"Vous recherchez un htel ?",toasterHeaderText:"N'oubliez pas de comparer les tarifs avec d'autres sites:",waitText:"Attendez, vous n'avez pas vu toutes les offres spciales! Comparez avant de quitter la page.",priceCheck:"Vrification du prix",bestPrice:"Notre moins cher Prix:",seeAll:"Tout slectionner",traveler:"Voyageur",travelers:"Voyageurs",room:"Chambre",rooms:"Pices",return:"Retourner",close:"Fermer",viewDeals:"Afficher les offres",viewPrices:"Afficher les prix",viewRates:"Voir les tarifs",bookNowQuestion:"Souhaitez-vous rserver ds maintenant ?",dealExpires:"Cette offre est sur le point d'expirer !",destinationDemand:"Cette destination est trs recherche !",stayAndBook:"Rester et rserver",yes:"Oui",no:"Non",comparePrompt:"Comparer plusieurs sites aide  trouver la meilleure offre.",compareOther:"Comparer d'autres tarifs",needAHotel:"Vous avez besoin d'un htel  {location} ?",needAHotelAccent:"Vous avez besoin d'un <em>htel</em>  {location} ?",topDealsHotel:"Dcouvrez les offres sur les meilleurs htels",lookingForAFlight:"Vous recherchez un vol vers {location} ?",needAFlight:"Vous avez besoin d'un vol vers {location} ?",latestHotelReviews:"Dcouvrez les <strong>les toutes dernires valuations d'htels</strong>",lowestPrices:"Trouvez les <strong>prix les plus bas</strong> sur 200 sites",viewTodaysDeals:"Afficher les offres du jour",planningATrip:"Vous prparez un voyage en <strong>{location}</strong> ?",pricesChangeQuick:"Les prix et la disponibilit peuvent changer trs rapidement",headerTextRM:"Comparer les offres de voyage sur ces sites:",verticalHeader:"Recherchez les toutes dernires offres pour les {vertical} de {advertiser}",travelingToLocation:"Vous vous rendez  {location} ?",latestDeals:"Consultez les dernires offres d'aujourd'hui par {advertiser}",searchDeals:"Rechercher des offres",hotel:"htels",flight:"vols",carRental:"locations de voiture",cruise:"croisires",vacation:"sjours",compareTravelDeals:"Comparer les offres de voyage sur ces sites:",showDeals:"Afficher les offres",needAVertical:"Vous recherchez des {vertical} sur {location} ?","12Days":"1-2 jours","35Days":"3-5 jours","69Days":"6-9 jours","10Days":"Plus de 10 jours",anyLengthDays:"Toutes les dures"},it:{headerText:"Confronta con gli altri siti:",compare:"Confronta tariffe per",bannerHeaderText:"Confronta offerte per",toasterParagraphText:"Confronta pi siti per trovare il miglior prezzo.",hotelHeaderText:"",hotelCompareHeaderText:"Stai cercando un hotel?",toasterHeaderText:"Non dimenticate di confrontare i prezzi con altri siti:",waitText:"Aspetta, non farti sfuggire le offerte! Confrontale prima di uscire dalla pagina.",priceCheck:"",bestPrice:"",seeAll:"Pi offerte",traveler:"Passeggero",travelers:"Passeggeri",room:"Camera",rooms:"Camere",return:"Indietro",close:"Chiudi",viewDeals:"Visualizza offerte",viewPrices:"Visualizza prezzi",viewRates:"Visualizza prezzi",bookNowQuestion:"Vuoi prenotare adesso?",dealExpires:"Questa offerta sta per scadere!",destinationDemand:"Questa destinazione  molto richiesta!",stayAndBook:"Resta e prenota",yes:"S",no:"No",comparePrompt:"La possibilit di confrontare pi siti ti permette di trovare le migliori offerte.",compareOther:"Confronta altre tariffe",needAHotel:"Hai bisogno di un hotel a {location}?",needAHotelAccent:"Hai bisogno di un <em>hotel</em> a {location}?",topDealsHotel:"Visualizza le tariffe degli hotel pi apprezzati",lookingForAFlight:"Stai cercando un volo per {location}?",needAFlight:"Hai bisogno di un volo per {location}?",latestHotelReviews:"Visualizza le <strong>ultime recensioni sugli hotel</strong>",lowestPrices:"Trova i <strong>prezzi pi bassi</strong> da un massimo di 200 siti",viewTodaysDeals:"Visualizza le offerte di oggi",planningATrip:"Stai pianificando ancora un viaggio qui: <strong>{location}</strong>?",pricesChangeQuick:"I prezzi e la disponibilit possono variare molto rapidamente",headerTextRM:"Confronta le offerte di viaggi su questi siti:",verticalHeader:"Cerca le ultime offerte di {vertical} di {advertiser}",travelingToLocation:"Vai a {location}?",latestDeals:"Scopri le ultime offerte di oggi di {advertiser}",searchDeals:"Cerca offerte",hotel:"hotel",flight:"voli",carRental:"noleggio auto",cruise:"crociere",vacation:"vacanze",compareTravelDeals:"Confronta le offerte di viaggi su questi siti:",showDeals:"Mostra offerte",needAVertical:"Vuoi vedere {vertical} a {location}?","12Days":"1-2 giorni","35Days":"3-5 giorni","69Days":"6-9 giorni","10Days":"Pi di 10 giorni",anyLengthDays:"Qualsiasi durata"},ar:{headerText:"   :",compare:"  ",bannerHeaderText:"",toasterParagraphText:"      .",hotelHeaderText:"",hotelCompareHeaderText:"  ",toasterHeaderText:"      .",waitText:"  !    .",priceCheck:"",bestPrice:"",seeAll:"  ",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:" ",viewPrices:" ",viewRates:" ",bookNowQuestion:"   ",dealExpires:"    !",destinationDemand:"     !",stayAndBook:"  ",yes:"",no:"",comparePrompt:"         .",compareOther:"  ",needAHotel:"    {location}",needAHotelAccent:"  <em></em>  {location}",topDealsHotel:"     ",lookingForAFlight:"     {location}",needAFlight:"     {location}",latestHotelReviews:" <strong>  </strong>",lowestPrices:"  <strong> </strong>      200 ",viewTodaysDeals:"  ",planningATrip:"     <strong>{location}</strong>",pricesChangeQuick:"      ",headerTextRM:"     :",verticalHeader:"    {vertical}  {advertiser}",travelingToLocation:"  {location}",latestDeals:"      {advertiser}",searchDeals:"  ",hotel:"",flight:"",carRental:" ",cruise:" ",vacation:"",compareTravelDeals:"     :",showDeals:" ",needAVertical:"  {vertical}  {location}","12Days":"1-2 ","35Days":"3-5 ","69Days":"6-9 ","10Days":"   ",anyLengthDays:" "},zh:{headerText:"",compare:"",bannerHeaderText:"[]",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"",toasterHeaderText:"",waitText:" ",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"",dealExpires:"",destinationDemand:"",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:"",needAHotel:"{location}",needAHotelAccent:"{location}<em></em>",topDealsHotel:"",lookingForAFlight:"{location}",needAFlight:"{location}",latestHotelReviews:"<strong></strong>",lowestPrices:" 200 <strong></strong>",viewTodaysDeals:"",planningATrip:" <strong>{location}</strong> ",pricesChangeQuick:"",headerTextRM:"",verticalHeader:"{advertiser}{vertical}",travelingToLocation:"{location}",latestDeals:"{advertiser}",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:"",showDeals:"",needAVertical:"{location}{vertical}","12Days":"1  2 ","35Days":"3  5 ","69Days":"6  9 ","10Days":"10 ",anyLengthDays:""},"zh-cn":{headerText:"",compare:"",bannerHeaderText:"[]",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"",toasterHeaderText:"",waitText:" ",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"",dealExpires:"",destinationDemand:"",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:"",needAHotel:"{location}",needAHotelAccent:"{location}<em></em>",topDealsHotel:"",lookingForAFlight:"{location}",needAFlight:"{location}",latestHotelReviews:"<strong></strong>",lowestPrices:" 200 <strong></strong>",viewTodaysDeals:"",planningATrip:" <strong>{location}</strong> ",pricesChangeQuick:"",headerTextRM:"",verticalHeader:"{advertiser}{vertical}",travelingToLocation:"{location}",latestDeals:"{advertiser}",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:"",showDeals:"",needAVertical:"{location}{vertical}","12Days":"1  2 ","35Days":"3  5 ","69Days":"6  9 ","10Days":"10 ",anyLengthDays:""},"zh-sg":{headerText:"",compare:"",bannerHeaderText:"[]",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"",toasterHeaderText:"",waitText:" ",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"",dealExpires:"",destinationDemand:"",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:"",needAHotel:"{location}",needAHotelAccent:"{location}<em></em>",topDealsHotel:"",lookingForAFlight:"{location}",needAFlight:"{location}",latestHotelReviews:"<strong></strong>",lowestPrices:" 200 <strong></strong>",viewTodaysDeals:"",planningATrip:" <strong>{location}</strong> ",pricesChangeQuick:"",headerTextRM:"",verticalHeader:"{advertiser}{vertical}",travelingToLocation:"{location}",latestDeals:"{advertiser}",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:"",showDeals:"",needAVertical:"{location}{vertical}","12Days":"1  2 ","35Days":"3  5 ","69Days":"6  9 ","10Days":"10 ",anyLengthDays:""},"zh-tw":{headerText:"",compare:"",bannerHeaderText:"[] ",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"",toasterHeaderText:"",waitText:"",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"",dealExpires:"",destinationDemand:"",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:"",needAHotel:"{location}",needAHotelAccent:"{location}<em></em>",topDealsHotel:"",lookingForAFlight:"{location}",needAFlight:"{location}",latestHotelReviews:"<strong></strong>",lowestPrices:" 200 <strong></strong>",viewTodaysDeals:"",planningATrip:" <strong>{location}</strong> ",pricesChangeQuick:"",headerTextRM:"",verticalHeader:"{advertiser}{vertical}",travelingToLocation:"{location}",latestDeals:"{advertiser}",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:"",showDeals:"",needAVertical:"{location}{vertical}","12Days":"1-2 ","35Days":"3-5 ","69Days":"6-9 ","10Days":"10 ",anyLengthDays:""},"zh-hk":{headerText:"",compare:"",bannerHeaderText:"[]",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"",toasterHeaderText:"",waitText:"",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"",dealExpires:"",destinationDemand:"",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:"",needAHotel:"{location}",needAHotelAccent:"{location}<em></em>",topDealsHotel:"",lookingForAFlight:"{location}",needAFlight:"{location} ",latestHotelReviews:"<strong></strong>",lowestPrices:" 200 <strong></strong>",viewTodaysDeals:"",planningATrip:" <strong>{location}</strong> ",pricesChangeQuick:"",headerTextRM:"",verticalHeader:"{advertiser}{vertical}",travelingToLocation:"{location}",latestDeals:"{advertiser}",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:"",showDeals:"",needAVertical:"{location}{vertical}","12Days":"12","35Days":"35","69Days":"69","10Days":"10",anyLengthDays:""},ca:{headerText:"Compara webs de viatges",compare:"Comparar tarifes per a",bannerHeaderText:"Comparar ofertes per a",toasterParagraphText:"Compara mltiples webs per trobar el millor preu.",hotelHeaderText:"",hotelCompareHeaderText:"Cerques un hotel?",toasterHeaderText:"No t'oblidis de comparar preus amb altres webs:",waitText:"Espera, t'ests perdent ofertes! Compara abans de viatjar.",priceCheck:"",bestPrice:"",seeAll:"Seleccionar tots",traveler:"Viatger",travelers:"Viatgers",room:"Habitaci",rooms:"",return:"Retorn",close:"Tancar",viewDeals:"Veure ofertes",viewPrices:"View Prices",viewRates:"Veure tarifes",bookNowQuestion:"Vols reservar ara?",dealExpires:"Aquesta oferta est a punt de caducar!",destinationDemand:"Aquesta destinaci t molta demanda!",stayAndBook:"Quedar-se i reservar",yes:"S",no:"No",comparePrompt:"Comparant diversos llocs, podrs trobar la millor oferta.",compareOther:"Comparar altres tarifes",needAHotel:"Necessites un hotel a {location}?",needAHotelAccent:"Necessites un <em>hotel</em> a {location}?",topDealsHotel:"Descobreix les ofertes dels millors hotels",lookingForAFlight:"Cerques un vol a {location}?",needAFlight:"Necessites un vol a {location}?",latestHotelReviews:"Consulta les <strong>ressenyes d'hotels ms recents</strong>",lowestPrices:"Troba els <strong>preus ms baixos</strong> de fins a 200 llocs",viewTodaysDeals:"Veure les ofertes del dia",planningATrip:"Encara planeges un viatge a <strong>{location}</strong>?",pricesChangeQuick:"Els preus i la disponibilitat poden canviar rpidament",headerTextRM:"Compara ofertes de viatges en aquests llocs web:",verticalHeader:"Cerca les ltimes ofertes per a {vertical} - {advertiser}",travelingToLocation:"Viatges a {location}?",latestDeals:"Consulta les ltimes ofertes d'avui - {advertiser}",searchDeals:"Cercar ofertes",hotel:"hotel",flight:"vol",carRental:"lloguer de cotxe",cruise:"creuer",vacation:"vacances",compareTravelDeals:"Compara ofertes de viatges en aquests llocs web:",showDeals:"Veure ofertes",needAVertical:"Cerques {vertical} a {location}?","12Days":"1-2 dies","35Days":"3-5 dies","69Days":"6-9 dies","10Days":"+10 dies",anyLengthDays:"Qualsevol durada"},cs:{headerText:"Porovnn cestovatelskch web",compare:"",bannerHeaderText:"Porovnejte nabdky pro lokalitu",toasterParagraphText:"Nejlep cenu naleznete pi porovnn vce web.",hotelHeaderText:"",hotelCompareHeaderText:"Hledte hotel?",toasterHeaderText:"Nezapomete porovnat ceny s jinmi weby:",waitText:"Pokejte, pichzte o skvl nabdky! Porovnejte je, ne odejdete.",priceCheck:"",bestPrice:"",seeAll:"Vybrat ve",traveler:"Cestujc",travelers:"Cestujc",room:"Pokoj",rooms:"",return:"Zpt",close:"Zavt",viewDeals:"Zobrazit nabdky",viewPrices:"Veure els preus",viewRates:"Zobrazit ceny",bookNowQuestion:"Chcete provst rezervaci?",dealExpires:"Tato nabdka brzy vypr!",destinationDemand:"Tato destinace je velmi dan!",stayAndBook:"Rezervovat pobyt",yes:"Ano",no:"Ne",comparePrompt:"Nejlep nabdku naleznete pi porovnn vce web.",compareOther:"Porovnat dal ceny",needAHotel:"Potebujete hotel v destinaci {location}?",needAHotelAccent:"Potebujete <em>hotel</em> v destinaci {location}?",topDealsHotel:"Zobrazit nabdky nejlpe hodnocench hotel",lookingForAFlight:"Hledte letenku do destinace {location}?",needAFlight:"Potebujete letenku do destinace {location}?",latestHotelReviews:"Podvejte se na <strong>nejnovj recenze hotel</strong>",lowestPrices:"Najdte <strong>nejni ceny</strong> z a 200 web",viewTodaysDeals:"Zobrazit dnen nabdky",planningATrip:"Stle vs zajm <strong>{location}</strong> jako cl va cesty?",pricesChangeQuick:"Ceny a dostupnost se mohou velmi rychle zmnit",headerTextRM:"Porovnejte cestovn nabdky na tchto webech:",verticalHeader:"Vyhledejte nejnovj nabdky pro {vertical} od {advertiser}",travelingToLocation:"Cestujete do lokality {location}?",latestDeals:"Podvejte se na nejnovj nabdky od {advertiser}",searchDeals:"Hledat nabdky",hotel:"hotel",flight:"let",carRental:"pronjem vozu",cruise:"plavba",vacation:"dovolen",compareTravelDeals:"Porovnejte cestovn nabdky na tchto webech:",showDeals:"Zobrazit nabdky",needAVertical:"Zajm vs {vertical} v lokalit {location}?","12Days":"12 dny","35Days":"35 dn","69Days":"69 dn","10Days":"10+ dn",anyLengthDays:"Jakkoli dlka"},da:{headerText:"Sammenlign rejsewebsites",compare:"Sammenlign priser for",bannerHeaderText:"Sammenlign tilbud for",toasterParagraphText:"Sammenlign flere websites for at finde den bedste pris.",hotelHeaderText:"",hotelCompareHeaderText:"Leder du efter et hotel?",toasterHeaderText:"Glem ikke at sammenligne priserne med andre websteder:",waitText:"Vent, du har ikke set alle tilbud! Sammenlign dem, fr du smutter.",priceCheck:"",bestPrice:"",seeAll:"Vlg alle",traveler:"Rejsende",travelers:"Rejsende",room:"Vrelse",rooms:"",return:"Tilbage",close:"Luk",viewDeals:"Se tilbud",viewPrices:"Vis priser",viewRates:"Se priser",bookNowQuestion:"Vil du booke nu?",dealExpires:"Dette tilbud er tt p at udlbe!",destinationDemand:"Denne destination er meget efterspurgt",stayAndBook:"Bliv og book",yes:"Ja",no:"Nej",comparePrompt:"Sammenlign flere websites for at finde den bedste pris.",compareOther:"Sammenlign andre priser",needAHotel:"Har du brug for hotel i {location}?",needAHotelAccent:"Har du brug for <em>hotel</em> i {location}?",topDealsHotel:"Se tilbud p hoteller med de bedste anmeldelser",lookingForAFlight:"Leder du efter et fly til {location}?",needAFlight:"Har du brug for et fly til {location}?",latestHotelReviews:"Se de <strong>seneste hotelanmeldelser</strong>",lowestPrices:"Find de <strong>laveste priser</strong> fra op til 200 websites",viewTodaysDeals:"Se dagens tilbud",planningATrip:"Planlgger du stadig en rejse til <strong>{location}</strong>?",pricesChangeQuick:"Priser og tilgngelighed kan ndre sig meget hurtigt",headerTextRM:"Sammenlign rejsetilbud p disse websteder:",verticalHeader:"Sg de seneste tilbud p {vertical} fra {advertiser}",travelingToLocation:"Rejser du til {location}?",latestDeals:"Se dagens seneste tilbud fra {advertiser}",searchDeals:"Sg efter tilbud",hotel:"hotel",flight:"fly",carRental:"biludlejning",cruise:"krydstogt",vacation:"ferie",compareTravelDeals:"Sammenlign rejsetilbud p disse websteder:",showDeals:"Vis tilbud",needAVertical:"Leter du etter {vertical} i {location}?","12Days":"1-2 dage","35Days":"3-5 dage","69Days":"6-9 dage","10Days":"10+ dage",anyLengthDays:"Alle lngder"},de:{headerText:"Reise-Webseiten vergleichen",compare:"Vergleichen Sie Preise fr",bannerHeaderText:"Vergleichen Sie Angebote fr",toasterParagraphText:"Vergleichen Sie mehrere Webseiten, um den gnstigsten Preis zu finden.",hotelHeaderText:"Reise-Webseiten vergleichen",hotelCompareHeaderText:"Suchen Sie ein Hotel?",toasterHeaderText:"Vergessen Sie nicht, die Preise mit anderen Webseiten zu vergleichen:",waitText:"Warten Sie - Sie verpassen Angebote! Vergleichen Sie, bevor Sie die Seite verlassen.",priceCheck:"",bestPrice:"",seeAll:"Alle auswhlen",traveler:"Reisender",travelers:"Reisende",room:"Zimmer",rooms:"Zimmer",return:"Zurck",close:"Schlieen",viewDeals:"Angebote ansehen",viewPrices:"Preise anzeigen",viewRates:"Preise anzeigen",bookNowQuestion:"Mchten Sie jetzt buchen?",dealExpires:"Dieses Angebot luft bald ab!",destinationDemand:"Dieses Reiseziel ist sehr gefragt!",stayAndBook:"Bleiben und buchen",yes:"Ja",no:"Nein",comparePrompt:"Vergleichen Sie diverse Reisewebseiten und finden Sie das beste Angebot.",compareOther:"Andere Preise vergleichen",needAHotel:"Bentigen Sie ein Hotel in {location}?",needAHotelAccent:"Bentigen Sie ein <em>Hotel</em> in {location}?",topDealsHotel:"Hotelangebote mit den besten Bewertungen anzeigen",lookingForAFlight:"Sie suchen nach einem Flug nach {location}?",needAFlight:"Bentigen Sie einen Flug nach {location}?",latestHotelReviews:"Die <strong>neuesten Hotelbewertungen</strong> anzeigen",lowestPrices:"Finden Sie die <strong>niedrigsten Preise</strong> von bis zu 200 Websites",viewTodaysDeals:"Angebote von heute ansehen",planningATrip:"Noch immer am Reiseziel <strong>{location}</strong> interessiert?",pricesChangeQuick:"Preise und Verfgbarkeiten knnen sich schnell ndern",headerTextRM:"Reiseangebote auf diesen Websites vergleichen:",verticalHeader:"Die aktuellen Angebote fr {vertical} von {advertiser} anzeigen",travelingToLocation:"Sie reisen nach {location}?",latestDeals:"Die heutigen aktuellen Angebote von {advertiser} anzeigen",searchDeals:"Angebote suchen",hotel:"Hotels",flight:"Flge",carRental:"Mietwagen",cruise:"Kreuzfahrten",vacation:"Urlaubsreisen",compareTravelDeals:"Reiseangebote auf diesen Webseiten vergleichen:",showDeals:"Angebote ansehen",needAVertical:"Bentigen Sie {vertical} in {location}?","12Days":"1-2 Tage","35Days":"3-5 Tage","69Days":"6-9 Tage","10Days":"10+ Tage",anyLengthDays:"Beliebige Dauer"},el:{headerText:"   ",compare:"  ",bannerHeaderText:"  ",toasterParagraphText:"         .",hotelHeaderText:"",hotelCompareHeaderText:" ;",toasterHeaderText:"       :",waitText:",   !   .",priceCheck:"",bestPrice:"",seeAll:" ",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:" ",viewPrices:" ",viewRates:" ",bookNowQuestion:"    ;",dealExpires:"     !",destinationDemand:"      !",stayAndBook:"  ",yes:"",no:"",comparePrompt:"          .",compareOther:"  ",needAHotel:"    {location};",needAHotelAccent:"  <em></em>  {location};",topDealsHotel:"      ",lookingForAFlight:"    {location};",needAFlight:"    {location};",latestHotelReviews:"  <strong>    </strong>",lowestPrices:"  <strong> </strong>    200 ",viewTodaysDeals:"   ",planningATrip:"      <strong>{location}</strong>;",pricesChangeQuick:"         ",headerTextRM:"      :",verticalHeader:"     {vertical}  {advertiser}",travelingToLocation:"  {location};",latestDeals:"       {advertiser}",searchDeals:" ",hotel:"",flight:"",carRental:" ",cruise:"",vacation:"",compareTravelDeals:"      :",showDeals:" ",needAVertical:"  {vertical}   {location};","12Days":"1-2 ","35Days":"3-5 ","69Days":"6-9 ","10Days":"10+ ",anyLengthDays:" "},fi:{headerText:"Vertaile matkasivustoja",compare:"Vertaile hintoja",bannerHeaderText:"Vertaile tarjouksia kohteeseen",toasterParagraphText:"Vertaile useita sivustoja, jotta lydt parhaan hinnan.",hotelHeaderText:"",hotelCompareHeaderText:"Etsitk hotellia?",toasterHeaderText:"l unohda vertailla hintoja muiden sivustojen kanssa:",waitText:"Odota, et ole nhnyt ja vertaillut viel kaikkia tarjouksia!",priceCheck:"",bestPrice:"",seeAll:"Valitse kaikki",traveler:"Matkustaja",travelers:"Matkustajia",room:"Huone",rooms:"",return:"Takaisin",close:"Sulje",viewDeals:"Nyt tarjoukset",viewPrices:"Nyt hinnat",viewRates:"Nyt hinnat",bookNowQuestion:"Haluatko tehd varauksen nyt?",dealExpires:"Tm tarjous on pttymss!",destinationDemand:"Tlle kohteelle on paljon kysynt!",stayAndBook:"Tee varaus",yes:"Kyll",no:"Ei",comparePrompt:"Lydt edullisimmat tarjoukset vertailemalla useita eri sivustoja.",compareOther:"Vertaile muita hintoja",needAHotel:"Tarvitsetko hotellin tll: {location}?",needAHotelAccent:"Tarvitsetko <em>hotellin</em> tll: {location}?",topDealsHotel:"Tutustu suosittuihin hotellitarjouksiin",lookingForAFlight:"Etsitk lentoa tnne: {location}?",needAFlight:"Tarvitsetko lennon tnne: {location}?",latestHotelReviews:"Tutustu <strong>viimeisimpiin hotelliarvosteluihin</strong>",lowestPrices:"Lyd <strong>edullisimmat hinnat</strong> jopa 200 eri sivustosta",viewTodaysDeals:"Tutustu pivn tarjouksiin",planningATrip:"Suunnitteletko edelleen matkaa kohteeseen <strong>{location}</strong>?",pricesChangeQuick:"Hinnat ja saatavuus voivat muuttua hetkess",headerTextRM:"Vertaa niden sivustojen matkatarjouksia:",verticalHeader:"Etsi uusimmat tarjoukset ({vertical})  {advertiser}",travelingToLocation:"Matkustatko kohteeseen {location}?",latestDeals:"Tutustu pivn parhaisiin tarjouksiin  {advertiser}",searchDeals:"Etsi tarjouksia",hotel:"hotellit",flight:"lento",carRental:"vuokra-autot",cruise:"risteilyt",vacation:"lomat",compareTravelDeals:"Vertaa niden sivustojen matkatarjouksia:",showDeals:"Nyt tarjoukset",needAVertical:"Haluatko nhd {vertical} tss sijainnissa: {location}?","12Days":"1-2 piv","35Days":"3-5 piv","69Days":"6-9 piv","10Days":"Yli 10 piv",anyLengthDays:"Mik tahansa pituus"},fl:{headerText:"Magkumpara ng Mga Travel Site",compare:"",bannerHeaderText:"Ipagkumpara ang mga offer para sa",toasterParagraphText:"Magkumpara ng maramihang mga site para mahanap ang pinakamagandang presyo.",hotelHeaderText:"",hotelCompareHeaderText:"Naghahanap ng hotel?",toasterHeaderText:"Huwag kalimutan na ipagkumpara ang mga rate sa ibang mga site:",waitText:"Sandali lang, may mga deal na hindi mo pa nakikita! Ipagkumpara bago ka umalis.",priceCheck:"",bestPrice:"",seeAll:"Piliin Lahat",traveler:"Bibiyahe",travelers:"Mga bibiyahe",room:"Room",rooms:"",return:"Bumalik",close:"Isara",viewDeals:"Tingnan ang Mga Deal",viewPrices:"Tingnan ang Mga Presyo",viewRates:"Tingnan ang Mga Rate",bookNowQuestion:"Gusto mo bang magpa-book ngayon?",dealExpires:"Ang deal na ito ay malapit nang mag-expire!",destinationDemand:"Ang destinasyon na ito ay may malaking demand!",stayAndBook:"Manatili at magpa-book",yes:"Oo",no:"Hindi",comparePrompt:"Ang pagkukumpara ng maramihang mga site ay nakakatulong sa iyong mahanap ang pinakamagandang deal.",compareOther:"Ikumpara sa iba pang mga rate",needAHotel:"Kailangan ng hotel sa {location}?",needAHotelAccent:"Kailangan ng <em>hotel</em> sa {location}?",topDealsHotel:"Tingnan ang mga deal sa pinakamataas na rated na hotel",lookingForAFlight:"Naghahanap ng flight sa {location}?",needAFlight:"Kailangan ng flight sa {location}?",latestHotelReviews:"Tingnan ang <strong>pinakabagong mga review ng hotel</strong>",lowestPrices:"Hanapin ang <strong>mga pinakamababang mga presyo</strong> hanggang sa 200 mga site",viewTodaysDeals:"Tingnan ang mga deal sa araw na ito",planningATrip:"Nagpa-plano pa rin ng isang biyahe sa <strong>{location}</strong>?",pricesChangeQuick:"Mabilis na nagbabago ang mga presyo at availability",headerTextRM:"Ipagkumpara ang mga deal sa biyahe sa mga site na ito:",verticalHeader:"Hanapin ang pinakabagong {vertical} deals mula sa {advertiser}",travelingToLocation:"Bumibiyahe sa {location}?",latestDeals:"Tingnan ang mga pinakabagong deal ngayon mula sa {advertiser}",searchDeals:"Maghanap ng mga deal",hotel:"hotel",flight:"flight",carRental:"pag-arkila ng kotse",cruise:"cruise",vacation:"bakasyon",compareTravelDeals:"Ipagkumpara ang mga deal sa biyahe sa mga site na ito:",showDeals:"Tingnan ang Mga Deal",needAVertical:"Kailangan ng isang {vertical} sa {location}?","12Days":"1-2 araw","35Days":"3-5 mga araw","69Days":"6-9 mga araw","10Days":"10+ mga araw",anyLengthDays:"Gaanoman katagal"},he:{headerText:"  ",compare:"/  ",bannerHeaderText:"/  ",toasterParagraphText:"       .",hotelHeaderText:"",hotelCompareHeaderText:"/ ?",toasterHeaderText:"      .",waitText:",   !   .",priceCheck:"",bestPrice:"",seeAll:" ",traveler:"",travelers:"' ",room:"",rooms:"",return:"",close:"",viewDeals:" ",viewPrices:" ",viewRates:" ",bookNowQuestion:"   ?",dealExpires:"  !",destinationDemand:"    !",stayAndBook:" ",yes:"",no:"",comparePrompt:"          .",compareOther:"  ",needAHotel:"/  {location}?",needAHotelAccent:"/ <em></em> {location}?",topDealsHotel:"/    ",lookingForAFlight:"/   {location}?",needAFlight:"/   {location}?",latestHotelReviews:"/  <strong>   </strong>",lowestPrices:"/  <strong>  </strong>  200 ",viewTodaysDeals:"   ",planningATrip:"   -<strong>{location}</strong>?",pricesChangeQuick:"     ",headerTextRM:"/     :",verticalHeader:"  {vertical}   {advertiser}",travelingToLocation:"/  {location}?",latestDeals:"     {advertiser}",searchDeals:" ",hotel:"",flight:"",carRental:" ",cruise:"",vacation:" ",compareTravelDeals:"/     :",showDeals:" ",needAVertical:" {vertical} {location}?","12Days":"1-2 ","35Days":"3-5 ","69Days":"6-9 ","10Days":"10+ ",anyLengthDays:" "},hu:{headerText:"Utazsi webhelyek sszevetse",compare:"",bannerHeaderText:"sszevets ms webhelyekkel:",toasterParagraphText:"A legjobb r tbb webhely sszevetsvel tallhat meg.",hotelHeaderText:"",hotelCompareHeaderText:"Hotelt keres?",toasterHeaderText:"Ne feledje az rakat sszehasonltani ms webhelyek raival:",waitText:"Vrjon, mert lemarad a kedvezmnyekrl! Elbb vgezzen r-sszehasonltst.",priceCheck:"",bestPrice:"",seeAll:"sszes kijellse",traveler:"Utas",travelers:"Utasok",room:"Szoba",rooms:"",return:"Vissza",close:"Bezrs",viewDeals:"Ajnlatok megjelentse",viewPrices:"rak megjelentse",viewRates:"rak megjelentse",bookNowQuestion:"Szeretne most foglalni?",dealExpires:"Ez az ajnlat hamarosan lejr!",destinationDemand:"Ez a hely nagyon kereslet!",stayAndBook:"Maradjon s foglaljon",yes:"Igen",no:"Nem",comparePrompt:"A legjobb r tbb webhely sszevetsvel tallhat meg.",compareOther:"Hasonltsa ssze az egyb djakat",needAHotel:"Hotelt keres {location} terletn?",needAHotelAccent:"<em>Hotelt</em> keres {location} terletn?",topDealsHotel:"Tekintse meg a legkedveltebb szllodk ajnlatait",lookingForAFlight:"Repljratot keres ide: {location}?",needAFlight:"Repljratot keres {location} terletre?",latestHotelReviews:"Nzze meg a <strong>legjabb szllodartkelseket</strong>",lowestPrices:"Keresse meg a <strong>legalacsonyabb rakat </strong> akr 200 helyrl",viewTodaysDeals:"Tekintse meg a mai ajnlatokat",planningATrip:"Mg nincs ksz titerve <strong>{location}</strong> felkeressre?",pricesChangeQuick:"Az r s a foglaltsg nagyon gyorsan vltozhat",headerTextRM:"tajnlatok sszevetse az albbi webhelyeken:",verticalHeader:"{advertiser} legjabb {vertical} ajnlatainak keresse",travelingToLocation:"ti clja {location}?",latestDeals:"{advertiser} mai legfrissebb ajnlatai",searchDeals:"Ajnlatkeress",hotel:"szlls",flight:"lgi jrat",carRental:"autklcsnzs",cruise:"kirnduls",vacation:"dls",compareTravelDeals:"tajnlatok sszevetse az albbi webhelyeken:",showDeals:"Ajnlatok megjelentse",needAVertical:"{vertical} rdekli {location} terletn?","12Days":"12 nap","35Days":"35 nap","69Days":"69 nap","10Days":"10+ nap",anyLengthDays:"Mindegy"},id:{headerText:"Bandingkan Situs Perjalanan",compare:"",bannerHeaderText:"Bandingkan penawaran untuk",toasterParagraphText:"Bandingkan beberapa situs untuk mencari harga terbaik.",hotelHeaderText:"",hotelCompareHeaderText:"Mencari hotel?",toasterHeaderText:"Jangan lupa untuk membandingkan tarif dengan situs lain:",waitText:"Tunggu, Anda akan kehilangan penawaran! Bandingkan sebelum meninggalkan.",priceCheck:"",bestPrice:"",seeAll:"Pilih Semua",traveler:"Tamu",travelers:"Tamu",room:"Kamar",rooms:"",return:"Kembali",close:"Tutup",viewDeals:"Tampilkan Penawaran",viewPrices:"Lihat Harga",viewRates:"Tampilkan Tarif",bookNowQuestion:"Reservasi sekarang?",dealExpires:"Penawaran ini akan segera berakhir!",destinationDemand:"Tujuan ini sangat diminati!",stayAndBook:"Lanjutkan ke reservasi",yes:"Ya",no:"Tidak",comparePrompt:"Membandingkan beberapa situs membantu pencarian penawaran terbaik.",compareOther:"Bandingkan tarif lain",needAHotel:"Butuh hotel di {location}?",needAHotelAccent:"Butuh <em>hotel</em> di {location}?",topDealsHotel:"Lihat penawaran hotel paling populer",lookingForAFlight:"Mencari penerbangan ke {location}?",needAFlight:"Butuh penerbangan ke {location}?",latestHotelReviews:"Lihat <strong>ulasan hotel terbaru</strong>",lowestPrices:"Cari <strong>harga terendah</strong> dari maksimum 200 situs",viewTodaysDeals:"Lihat penawaran hari ini",planningATrip:"Masih merencanakan perjalanan ke <strong>{location}</strong>?",pricesChangeQuick:"Harga dan ketersediaan bisa berubah sangat cepat",headerTextRM:"Bandingkan tawaran perjalanan di situs berikut:",verticalHeader:"Cari penawaran {vertical} terbaru dari {advertiser}",travelingToLocation:"Bepergian ke {location}?",latestDeals:"Lihat penawaran terbaru hari ini dari {advertiser}",searchDeals:"Cari penawaran",hotel:"hotel",flight:"penerbangan",carRental:"rental mobil",cruise:"pelayaran pesiar",vacation:"paket liburan",compareTravelDeals:"Bandingkan penawaran perjalanan di situs berikut:",showDeals:"Tampilkan Penawaran",needAVertical:"Butuh {vertical} di {location}?","12Days":"1-2 hari","35Days":"3-5 hari","69Days":"6-9 hari","10Days":"Lebih dari 10 hari",anyLengthDays:"Durasi Apa Pun"},ja:{headerText:"",compare:"",bannerHeaderText:":",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"?",toasterHeaderText:"",waitText:"! ",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"?",dealExpires:"!",destinationDemand:"!",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:"",needAHotel:"{location} ?",needAHotelAccent:"{location} <em></em>?",topDealsHotel:"",lookingForAFlight:"{location} ?",needAFlight:"{location} ?",latestHotelReviews:"<strong> </strong>",lowestPrices:"200 <strong></strong>",viewTodaysDeals:"",planningATrip:"<strong>{location}</strong>?",pricesChangeQuick:"",headerTextRM:":",verticalHeader:"{advertiser} {vertical}",travelingToLocation:"{location} ?",latestDeals:"{advertiser} ",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:":",showDeals:"",needAVertical:"{location} {vertical}?","12Days":"12 ","35Days":"35 ","69Days":"69","10Days":"10",anyLengthDays:""},ko:{headerText:"  ",compare:"",bannerHeaderText:"  :",toasterParagraphText:"     .",hotelHeaderText:"",hotelCompareHeaderText:"  ?",toasterHeaderText:"    .",waitText:".    !   .",priceCheck:"",bestPrice:"",seeAll:" ",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:" ",viewPrices:" ",viewRates:" ",bookNowQuestion:" ?",dealExpires:"    !",destinationDemand:"   !",stayAndBook:" ",yes:"",no:"",comparePrompt:"         .",compareOther:"  ",needAHotel:"{location}   ?",needAHotelAccent:"{location}  <em></em> ?",topDealsHotel:"    ",lookingForAFlight:"{location}   ?",needAFlight:"{location}  ?",latestHotelReviews:"<strong>  </strong> ",lowestPrices:" 200  <strong> </strong> ",viewTodaysDeals:"  ",planningATrip:" <strong>{location}</strong>   ?",pricesChangeQuick:"         ",headerTextRM:"    :",verticalHeader:"{advertiser}  {vertical}  ",travelingToLocation:"{location} ?",latestDeals:"{advertiser}    ",searchDeals:" ",hotel:"",flight:"",carRental:"",cruise:"",vacation:" ",compareTravelDeals:"    :",showDeals:" ",needAVertical:"{location} {vertical}() ?","12Days":"1~2","35Days":"3~5","69Days":"6~9","10Days":"10 ",anyLengthDays:"  "},ms:{headerText:"Bandingkan Tapak Perjalanan",compare:"Bandingkan Kadar untuk",bannerHeaderText:"Bandingkan penawaran untuk",toasterParagraphText:"Bandingkan beberapa tapak untuk mendapatkan harga terbaik.",hotelHeaderText:"",hotelCompareHeaderText:"Mencari hotel?",toasterHeaderText:"Jangan lupa membandingkan kadar dengan tapak lain:",waitText:"Tunggu dahulu, anda akan terlepas tawaran! Buat perbandingan sebelum meninggalkan tapak.",priceCheck:"",bestPrice:"",seeAll:"Pilih Semua",traveler:"Pengembara",travelers:"Pengembara",room:"Bilik",rooms:"",return:"Kembali",close:"Tutup",viewDeals:"Lihat Tawaran",viewPrices:"Lihat Harga",viewRates:"Lihat Kadar",bookNowQuestion:"Adakah anda mahu menempah sekarang?",dealExpires:"Tawaran ini hampir tamat tempoh!",destinationDemand:"Destinasi ini amat diminati!",stayAndBook:"Kekal di sini dan tempah",yes:"Ya",no:"Tidak",comparePrompt:"Anda boleh mendapatkan tawaran terbaik dengan membandingkan berbilang tapak.",compareOther:"Bandingkan kadar lain",needAHotel:"Perlukan hotel di {location}?",needAHotelAccent:"Perlukan <em>hotel</em> di {location}?",topDealsHotel:"Lihat tawaran hotel terbaik",lookingForAFlight:"Mencari penerbangan ke {location}?",needAFlight:"Perlukan penerbangan ke {location}?",latestHotelReviews:"Lihat <strong>ulasan hotel yang terbaharu</strong>",lowestPrices:"Cari <strong>harga terendah</strong> daripada maksimum 200 tapak",viewTodaysDeals:"Lihat tawaran hari ini",planningATrip:"Masih merancang perjalanan ke <strong>{location}</strong>?",pricesChangeQuick:"Harga dan ketersediaan boleh berubah dengan cepat",headerTextRM:"Bandingkan tawaran perjalanan pada tapak ini:",verticalHeader:"Cari tawaran {vertical} terkini dari {advertiser}",travelingToLocation:"Membuat perjalanan ke {location}?",latestDeals:"Lihat tawaran terkini hari ini dari {advertiser}",searchDeals:"Cari tawaran",hotel:"hotel",flight:"penerbangan",carRental:"sewa kereta",cruise:"pelayaran pesiaran",vacation:"percutian",compareTravelDeals:"Bandingkan tawaran perjalanan pada tapak ini:",showDeals:"Tunjukkan Tawaran",needAVertical:"Perlu {vertical} di {location}?","12Days":"1-2 hari","35Days":"3-5 hari","69Days":"6-9 hari","10Days":"10+ hari",anyLengthDays:"Sebarang Tempoh"},nl:{headerText:"Reissites vergelijken",compare:"Tarieven vergelijken voor",bannerHeaderText:"Vergelijk aanbiedingen voor",toasterParagraphText:"Vergelijk meerdere sites om de laagste prijs te vinden.",hotelHeaderText:"",hotelCompareHeaderText:"Op zoek naar een hotel?",toasterHeaderText:"Vergeet niet om tarieven te vergelijken met die op andere sites:",waitText:"Wacht, je loopt aanbiedingen mis! Vergelijk voordat je gaat.",priceCheck:"",bestPrice:"",seeAll:"Alles selecteren",traveler:"Reisende",travelers:"Reizigers",room:"Rom",rooms:"",return:"Terug",close:"Sluiten",viewDeals:"Aanbiedingen weergeven",viewPrices:"Prijzen weergeven",viewRates:"Tarieven weergeven",bookNowQuestion:"Wil je nu boeken?",dealExpires:"Deze deal verloopt binnenkort!",destinationDemand:"Dit is een populaire bestemming!",stayAndBook:"Blijven en boeken",yes:"Ja",no:"Nee",comparePrompt:"Door meerdere sites te vergelijken, vind je de beste deal.",compareOther:"Vergelijk met andere tarieven",needAHotel:"Hotel nodig in {location}?",needAHotelAccent:"Een <em>hotel</em> nodig in {location}?",topDealsHotel:"Bekijk de deals voor hotels met de beste beoordelingen",lookingForAFlight:"Op zoek naar een vlucht naar {location}?",needAFlight:"Een vlucht nodig naar {location}?",latestHotelReviews:"Bekijk de <strong>nieuwste beoordelingen van hotels</strong>",lowestPrices:"Vind de <strong>laagste prijzen</strong> op tot 200 sites",viewTodaysDeals:"Deals van vandaag bekijken",planningATrip:"Wil je nog steeds op reis naar <strong>{location}</strong>?",pricesChangeQuick:"Prijzen en beschikbaarheid kunnen snel veranderen",headerTextRM:"Vergelijk de reisaanbiedingen op deze sites:",verticalHeader:"Zoek in de nieuwste aanbiedingen voor {vertical} van {advertiser}",travelingToLocation:"Op reis naar {location}?",latestDeals:"Bekijk de nieuwste aanbiedingen van {advertiser}",searchDeals:"Aanbiedingen zoeken",hotel:"een hotel",flight:"een vlucht",carRental:"een huurauto",cruise:"een cruise",vacation:"een vakantie",compareTravelDeals:"Vergelijk de reisaanbiedingen op deze sites:",showDeals:"Aanbiedingen weergeven",needAVertical:"Op zoek naar {vertical} in {location}?","12Days":"1 - 2 dagen","35Days":"3 - 5 dagen","69Days":"6 - 9 dagen","10Days":"Meer dan 10 dagen",anyLengthDays:"Elke duur"},no:{headerText:"Sammenlign reisenettsteder",compare:"Sammenlign priser for",bannerHeaderText:"Sammenlign tilbud for",toasterParagraphText:"Sammenlign flere nettsteder for  finne den beste prisen.",hotelHeaderText:"",hotelCompareHeaderText:"Leter du etter et hotell?",toasterHeaderText:"Glem ikke  sammenligne priser med andre nettsteder:",waitText:"Vent, du har ikke sett alle tilbudene! Sammenlign fr du forlater nettstedet.",priceCheck:"",bestPrice:"",seeAll:"Velg alle",traveler:"Reisende",travelers:"Reisende",room:"Rom",rooms:"",return:"Tilbake",close:"Lukk",viewDeals:"Vis tilbud",viewPrices:"Vis priser",viewRates:"Vis priser",bookNowQuestion:"Vil du bestille n?",dealExpires:"Dette tilbudet er i ferd med  utlpe!",destinationDemand:"Dette reisemlet er veldig etterspurt!",stayAndBook:"Bli vrende og bestill",yes:"Ja",no:"Nei",comparePrompt:"Sammenligning av flere nettsteder bidrar til at du finner det beste tilbudet.",compareOther:"Sammenlign andre priser",needAHotel:"Trenger du et hotell i {location}?",needAHotelAccent:"Trenger du et <em>hotell</em> i {location}?",topDealsHotel:"Se tilbud p hoteller med de beste anmeldelsene",lookingForAFlight:"Leter du etter et fly til {location}?",needAFlight:"Trenger du et fly til {location}?",latestHotelReviews:"Se de <strong>siste hotellanmeldelsene</strong>",lowestPrices:"Finn de <strong>laveste prisene</strong> fra opp til 200 nettsteder",viewTodaysDeals:"Se dagens tilbud",planningATrip:"Planlegger du fremdeles en reise til <strong>{location}</strong>?",pricesChangeQuick:"Priser og tilgjengelighet kan endre seg veldig raskt",headerTextRM:"Sammenlign reisetilbud p disse nettstedene:",verticalHeader:"Sk etter de siste tilbudene p {vertical} fra {advertiser}",travelingToLocation:"Skal du reise til {location}?",latestDeals:"Se dagens siste tilbud fra {advertiser}",searchDeals:"Sk etter tilbud",hotel:"hotell",flight:"fly",carRental:"bilutleie",cruise:"cruise",vacation:"ferie",compareTravelDeals:"Sammenlign reisetilbud p disse nettstedene:",showDeals:"Vis tilbud",needAVertical:"Leter du etter {vertical} i {location}?","12Days":"12 dager","35Days":"35 dager","69Days":"69 dager","10Days":"10+ dager",anyLengthDays:"Alle lengder"},pl:{headerText:"Porwnaj serwisy turystyczne",compare:"",bannerHeaderText:"Porwnaj z innymi serwisami",toasterParagraphText:"Porwnaj wiele stron, aby znale najlepsz cen.",hotelHeaderText:"",hotelCompareHeaderText:"Szukasz hotelu?",toasterHeaderText:"Nie zapomnij porwna cen na innych stronach:",waitText:"Czekaj! Przegapisz oferty. Porwnaj ceny zanim opucisz stron.",priceCheck:"",bestPrice:"",seeAll:"Zaznacz wszystkie",traveler:"Podrujcy",travelers:"Podrni",room:"Pokj",rooms:"",return:"Wstecz",close:"Zamknij",viewDeals:"Wywietl oferty",viewPrices:"Zobacz ceny",viewRates:"Wywietl ceny",bookNowQuestion:"Chcesz zarezerwowa teraz?",dealExpires:"Oferta prawie wygasa!",destinationDemand:"Ten kierunek podry cieszy si duym zainteresowaniem!",stayAndBook:"Zosta i zarezerwuj",yes:"Tak",no:"Nie",comparePrompt:"Porwnywanie wielu stron pomaga znale najlepsz ofert.",compareOther:"Porwnaj z innymi stawkami",needAHotel:"Potrzebujesz hotelu w lokalizacji {location}?",needAHotelAccent:"Potrzebujesz <em>hotelu</em> w lokalizacji {location}?",topDealsHotel:"Zobacz oferty najlepszych hoteli",lookingForAFlight:"Szukasz lotu do lokalizacji {location}?",needAFlight:"Potrzebujesz lotu do lokalizacji {location}?",latestHotelReviews:"Zobacz <strong>najnowsze recenzje hoteli</strong>",lowestPrices:"Znajd <strong>najnisze ceny</strong> z ponad 200 stron",viewTodaysDeals:"Zobacz oferty z dzi",planningATrip:"<strong>{location}</strong>: Nadal planujesz tam podr?",pricesChangeQuick:"Ceny i dostpno mog si bardzo szybko zmieni",headerTextRM:"Porwnaj oferty turystyczne na tych stronach:",verticalHeader:"Wyszukaj najnowsze oferty na {vertical} od {advertiser}",travelingToLocation:"Planujesz podr do {location}?",latestDeals:"Zobacz najnowsze oferty od {advertiser}",searchDeals:"Szukaj ofert",hotel:"hotel",flight:"lot",carRental:"samochd na wynajem",cruise:"rejs",vacation:"wakacje",compareTravelDeals:"Porwnaj oferty turystyczne na tych stronach:",showDeals:"Poka oferty",needAVertical:"{location}? Znajd {vertical}!","12Days":"1-2 dni","35Days":"3-5 dni","69Days":"6-9 dni","10Days":"10+ dni",anyLengthDays:"Dowolny okres"},pt:{headerText:"Comparar sites de viagem",compare:"Compare classificaes para",bannerHeaderText:"Compare ofertas para",toasterParagraphText:"Compare vrios sites para encontrar o melhor preo",hotelHeaderText:"Ver Ofertas Similares no",hotelCompareHeaderText:"Est procurando um hotel?",toasterHeaderText:"No se esquea de comparar preos com outros sites:",waitText:"Espere, voc vai perder ofertas! Compare antes de ir.",priceCheck:"",bestPrice:"",seeAll:"Pesquisar em todos",traveler:"Viajante",travelers:"Viajantes",room:"Quarto",rooms:"",return:"Voltar",close:"Fechar",viewDeals:"Ver ofertas",viewPrices:"Ver preos",viewRates:"Ver preos",bookNowQuestion:"Deseja reservar agora?",dealExpires:"Essa oferta est prestes a expirar!",destinationDemand:"Esse destino est com alta procura!",stayAndBook:"Fique e reserve",yes:"Sim",no:"No",comparePrompt:"Comparar vrios sites ajuda a encontrar as melhores ofertas.",compareOther:"Comparar outras tarifas",needAHotel:"Precisando de um hotel em {location}?",needAHotelAccent:"Precisa de um <em>hotel</em> em {location}?",topDealsHotel:"Veja as ofertas dos melhores hotis",lookingForAFlight:"Procurando voo para {location}?",needAFlight:"Precisa de um voo para {location}?",latestHotelReviews:"Veja as <strong>resenhas de hotel mais novas</strong>",lowestPrices:"Encontre os <strong>menores preos</strong> de at 200 sites",viewTodaysDeals:"Veja as ofertas de hoje",planningATrip:"Planejando viajar para <strong>{location}</strong>?",pricesChangeQuick:"Preos e disponibilidade podem mudar muito rpido",headerTextRM:"Compare ofertas de viagens destes sites:",verticalHeader:"Busque as ofertas mais novas para {vertical} de {advertiser}",travelingToLocation:"Viajando para {location}?",latestDeals:"Veja as ofertas mais recentes de hoje de {advertiser}",searchDeals:"Buscar ofertas",hotel:"hotel",flight:"voo",carRental:"aluguel de carro",cruise:"cruzeiro",vacation:"pacote de frias",compareTravelDeals:"Compare ofertas de viagens destes sites:",showDeals:"Mostrar ofertas",needAVertical:"Precisa de {vertical} em {location}?","12Days":"1-2 dias","35Days":"3-5 dias","69Days":"6-9 dias","10Days":"Mais de 10 dias",anyLengthDays:"Qualquer durao"},ro:{headerText:"Comparai site-uri de turism",compare:"",bannerHeaderText:"Comparai oferte pentru",toasterParagraphText:"Comparai mai multe site-uri pentru a gsi cel mai bun pre.",hotelHeaderText:"",hotelCompareHeaderText:"Cutai un hotel?",toasterHeaderText:"Nu uitai s comparai tarifele cu cele de pe alte site-uri:",waitText:"Ateptai, pierdei ofertele speciale! Comparai mai nti preurile.",priceCheck:"",bestPrice:"",seeAll:"Selectare total",traveler:"Cltor",travelers:"Cltori",room:"Camera",rooms:"",return:"Revenire",close:"nchidei",viewDeals:"Vedei ofertele",viewPrices:"Vedei preurile",viewRates:"Vedei tarifele",bookNowQuestion:"Dorii s facei rezervarea acum?",dealExpires:"Oferta aceasta expir n curnd!",destinationDemand:"Aceast destinaie este foarte cutat!",stayAndBook:"Rmnei i rezervai",yes:"Da",no:"Nu",comparePrompt:"Comparai mai multe site-uri pentru a gsi cele mai bune oferte.",compareOther:"Comparai tarifele noastre",needAHotel:"Avei nevoie de un hotel n {location}?",needAHotelAccent:"Avei nevoie de un <em>hotel</em> n {location}?",topDealsHotel:"Vedei ofertele de la cele mai cotate hoteluri",lookingForAFlight:"Cutai un zbor ctre {location}?",needAFlight:"Avei nevoie de un zbor ctre {location}?",latestHotelReviews:"Vedei <strong>cele mai recente aprecieri de hoteluri</strong>",lowestPrices:"Gsii <strong>cele mai mici preuri</strong> de la pn la 200 de site-uri",viewTodaysDeals:"Vedei ofertele de azi",planningATrip:"Nu avei nc un plan de cltorie pentru a vizita <strong>{location}</strong>?",pricesChangeQuick:"Preurile i disponibilitatea se pot modifica foarte rapid",headerTextRM:"Comparai oferte turistice pe aceste site-uri:",verticalHeader:"Cutai cele mai recente oferte pentru {vertical} de la {advertiser}",travelingToLocation:"Cltorii la {location}?",latestDeals:"Vedei ofertele zilei de la {advertiser}",searchDeals:"Cutai oferte",hotel:"un hotel",flight:"un zbor",carRental:"o nchiriere auto",cruise:"o croazier",vacation:"o vacan",compareTravelDeals:"Comparai oferte turistice pe aceste site-uri:",showDeals:"Afiai ofertele",needAVertical:"Avei nevoie de {vertical} n {location}?","12Days":"1-2 zile","35Days":"3-5 zile","69Days":"6-9 zile","10Days":"Peste 10 zile",anyLengthDays:"Orice durat"},ru:{headerText:"  ",compare:" ",bannerHeaderText:"  ",toasterParagraphText:"  ,    .",hotelHeaderText:"     ",hotelCompareHeaderText:" ?",toasterHeaderText:"      :",waitText:"  ! ,    .",priceCheck:"",bestPrice:"",seeAll:" ",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:" ",viewPrices:" ",viewRates:" ",bookNowQuestion:"  ?",dealExpires:"   !",destinationDemand:"    !",stayAndBook:"",yes:"",no:"",comparePrompt:"       .",compareOther:"  ",needAHotel:"    {location}?",needAHotelAccent:" <em></em>   {location}?",topDealsHotel:"    ",lookingForAFlight:"    {location}?",needAFlight:"    {location}?",latestHotelReviews:" <strong>   </strong>",lowestPrices:" <strong> </strong>  200 ",viewTodaysDeals:"  ",planningATrip:"     <strong>{location}</strong>?",pricesChangeQuick:"       ",headerTextRM:"     :",verticalHeader:"   ({vertical})  {advertiser}",travelingToLocation:"  {location}?",latestDeals:"     {advertiser}",searchDeals:" ",hotel:"",flight:"",carRental:" ",cruise:"",vacation:"",compareTravelDeals:"     :",showDeals:" ",needAVertical:" {vertical}  {location}?","12Days":"1-2 ","35Days":"3-5 ","69Days":"6-9 ","10Days":"10+ ",anyLengthDays:" "},sk:{headerText:"Porovnanie cestovateskch strnok",compare:"",bannerHeaderText:"Porovnanie ponk pre",toasterParagraphText:"Najlepiu cenu njdete porovnanm viacerch strnok.",hotelHeaderText:"",hotelCompareHeaderText:"Hadte hotel?",toasterHeaderText:"Nezabudnite si ceny porovna s inmi strnkami:",waitText:"Pokajte, ete ste si nepozreli ponuky! Skr ako oddete, skste ich zvi.",priceCheck:"",bestPrice:"",seeAll:"Vybra vetky",traveler:"Cestujci",travelers:"Cestujci",room:"Izba",rooms:"",return:"Sp",close:"Zavrie",viewDeals:"Zobrazi ponuky",viewPrices:"Zobrazi ceny",viewRates:"Zobrazi sadzby",bookNowQuestion:"Chcete si ju zarezervova?",dealExpires:"Tto ponuka oskoro vypr!",destinationDemand:"Tto destincia je vemi iadan!",stayAndBook:"Rezervovas",yes:"no",no:"Nie",comparePrompt:"Najlepiu ponuku njdete porovnanm viacerch strnok.",compareOther:"Pozrie alie ceny",needAHotel:"Potrebujete hotel v lokalite {location}?",needAHotelAccent:"Potrebujete <em>hotel</em> v lokalite {location}?",topDealsHotel:"Pozrite si ponuky najlepie hodnotench hotelov",lookingForAFlight:"Hadte let do destincie {location}?",needAFlight:"Potrebujete let do destincie {location}?",latestHotelReviews:"Pozrite si <strong>najnovie recenzie hotelov</strong>",lowestPrices:"Zistite <strong>najniie ceny</strong> a z 200 strnok",viewTodaysDeals:"Dnen ponuky",planningATrip:"Stle plnujete cestu do <strong>{location}</strong>?",pricesChangeQuick:"Ceny a dostupnos sa mu vemi rchlo zmeni",headerTextRM:"Porovnajte cestovn ponuky na tchto strnkach:",verticalHeader:"Vyhadajte najnovie ponuky pre {vertical} od: {advertiser}",travelingToLocation:"Cestujete do lokality {location}?",latestDeals:"Pozrite si dnen najnovie ponuky od: {advertiser}",searchDeals:"Hada ponuky",hotel:"hotel",flight:"let",carRental:"poiovu ut",cruise:"plavbu",vacation:"dovolenku",compareTravelDeals:"Porovnajte cestovn ponuky na tchto strnkach:",showDeals:"Zobrazi ponuky",needAVertical:"Potrebujete {vertical} v lokalite {location}?","12Days":"1  2 dni","35Days":"3  5 dn","69Days":"6  9 dn","10Days":"10 a viac dn",anyLengthDays:"Akkovek dka"},sl:{headerText:"Primerjajte potovalne destinacije",compare:"",bannerHeaderText:"Primerjajte ponudbe za",toasterParagraphText:"Primerjajte ve lokacij, da bi nali najboljo ceno.",hotelHeaderText:"",hotelCompareHeaderText:"Iete hotel?",toasterHeaderText:"Ne pozabite primerjati cene z drugimi stranmi:",waitText:"Poakajte, zamujate nekatere ponudbe! Primerjajte jih, preden greste.",priceCheck:"",bestPrice:"",seeAll:"Izberi vse",traveler:"Potnik",travelers:"tevilo potnikov",room:"Soba",rooms:"",return:"Nazaj",close:"Zapri",viewDeals:"Prikai ponudbe",viewPrices:"Prikai cene",viewRates:"Prikaz cen",bookNowQuestion:"Ali elite rezervirati zdaj?",dealExpires:"Ta ponudba bo kmalu potekla!",destinationDemand:"Povpraevanje po tej destinaciji je veliko!",stayAndBook:"Ostanite in rezervirajte",yes:"Da",no:"Ne",comparePrompt:"e primerjate ve lokacij, boste laje nali najboljo ponudbo.",compareOther:"Primerjajte druge cene",needAHotel:"Potrebujete hodel v/na {location}?",needAHotelAccent:"Potrebujete <em>hotel</em> v/na {location}?",topDealsHotel:"Oglejte si ponudbe za najbolje ocenjene hotele",lookingForAFlight:"Iete let v/na {location}?",needAFlight:"Potrebujete let v/na {location}?",latestHotelReviews:"Oglejte si <strong>najnoveje ocene hotelov</strong>",lowestPrices:"Poiite <strong>najnije cene</strong> na do 200 lokacijah",viewTodaysDeals:"Prikai dananje ponudbe",planningATrip:"Ali e zmeraj nartujete potovanje na/v <strong>{location}</strong>?",pricesChangeQuick:"Cene in razpololjivost se lahko spreminjajo zelo hitro",headerTextRM:"Primerjajte ponudbe za potovanja na teh spletnih mestih:",verticalHeader:"Poiite najnoveje ponudbe za {vertical} od {advertiser}",travelingToLocation:"Potujete na lokacijo {location}?",latestDeals:"Oglejte si najnoveje dananje ponudbo od {advertiser}",searchDeals:"Iskanje ponudb",hotel:"hotel",flight:"polet",carRental:"najem avtomobila",cruise:"kriarjenje",vacation:"poitnice",compareTravelDeals:"Primerjajte ponudbe za potovanja na teh spletnih mestih:",showDeals:"Prikai ponudbe",needAVertical:"Potrebujete {vertical} v/na {location}?","12Days":"12 dni","35Days":"35 dni","69Days":"69 dni","10Days":"10 in ve dni",anyLengthDays:"Vse doline"},sv:{headerText:"Jmfr resesidor",compare:"Jmfr priser fr",bannerHeaderText:"Jmfr erbjudanden fr",toasterParagraphText:"Jmfr flera sajter fr att hitta det bsta priset.",hotelHeaderText:"",hotelCompareHeaderText:"Letar du efter ett hotell?",toasterHeaderText:"Glm inte att jmfra priser med andra webbplatser:",waitText:"Vnta, du missar erbjudanden! Jmfr innan du lmnar.",priceCheck:"",bestPrice:"",seeAll:"Vlj alla",traveler:"Resenr",travelers:"Resenrer",room:"Rum",rooms:"",return:"Tillbaks",close:"Stng",viewDeals:"Visa erbjudanden",viewPrices:"Visa priser",viewRates:"Visa priser",bookNowQuestion:"Vill du boka nu?",dealExpires:"Detta erbjudande hller p att g ut!",destinationDemand:"Denna destination r starkt efterfrgad!",stayAndBook:"Stanna kvar och boka",yes:"Ja",no:"Nej",comparePrompt:"Att jmfra olika webbplatser hjlper dig hitta det bsta erbjudandet.",compareOther:"Jmfr andra priser",needAHotel:"Behver du ett hotell i {location}?",needAHotelAccent:"Behver du ett <em>hotell</em> i {location}?",topDealsHotel:"Se erbjudanden p hotell som ftt bst recensioner",lookingForAFlight:"Letar du efter flyg till {location}?",needAFlight:"Behver du ett flyg till {location}?",latestHotelReviews:"Se de <strong>senaste hotellrecensionerna</strong>",lowestPrices:"Hitta de <strong>lgsta priserna</strong> frn upp till 200 webbplatser",viewTodaysDeals:"Se dagens erbjudanden",planningATrip:"Planerar du fortfarande en resa till <strong>{location}</strong>?",pricesChangeQuick:"Priser och tillgnglighet kan ndras mycket snabbt",headerTextRM:"Jmfra reseerbjudanden p dessa webbplatser:",verticalHeader:"Sk efter de senaste erbjudanden om {vertical} frn {advertiser}",travelingToLocation:"Ska du resa till {location}?",latestDeals:"Se dagens senaste erbjudanden frn {advertiser}",searchDeals:"Sk efter erbjudanden",hotel:"hotell",flight:"flyg",carRental:"biluthyrare",cruise:"kryssning",vacation:"paketresa",compareTravelDeals:"Jmfra reseerbjudanden p dessa webbplatser:",showDeals:"Visa erbjudanden",needAVertical:"Letar du efter {vertical} i {location}?","12Days":"1-2 dagar","35Days":"3-5 dagar","69Days":"6-9 dagar","10Days":"10 + dagar",anyLengthDays:"Valfri lngd"},th:{headerText:"",compare:"",bannerHeaderText:"",toasterParagraphText:"",hotelHeaderText:"",hotelCompareHeaderText:"",toasterHeaderText:"",waitText:" ! ",priceCheck:"",bestPrice:"",seeAll:"",traveler:"",travelers:"",room:"",rooms:"",return:"",close:"",viewDeals:"",viewPrices:"",viewRates:"",bookNowQuestion:"",dealExpires:"!",destinationDemand:"!",stayAndBook:"",yes:"",no:"",comparePrompt:"",compareOther:" ",needAHotel:" {location}",needAHotelAccent:"<em></em> {location}",topDealsHotel:"",lookingForAFlight:" {location}",needAFlight:" {location}",latestHotelReviews:"<strong></strong>",lowestPrices:"<strong></strong>   200 ",viewTodaysDeals:"",planningATrip:" <strong>{location}</strong> ",pricesChangeQuick:"",headerTextRM:":",verticalHeader:"{vertical}  {advertiser}",travelingToLocation:" {location}",latestDeals:" {advertiser}",searchDeals:"",hotel:"",flight:"",carRental:"",cruise:"",vacation:"",compareTravelDeals:":",showDeals:"",needAVertical:"{vertical}  {location}","12Days":"1-2 ","35Days":"3-5 ","69Days":"6-9 ","10Days":"10+ ",anyLengthDays:""},tr:{headerText:"Seyahat Sitelerini Karlatr",compare:"",bannerHeaderText:"Dier siteler ile karlatrn:",toasterParagraphText:"En iyi fiyat bulmak iin ok sayda siteyi karlatrn.",hotelHeaderText:"",hotelCompareHeaderText:"Otel mi aryorsunuz?",toasterHeaderText:"Fiyatlar dier sitelerle karlatrmay unutmayn:",waitText:"Bekleyin, anlamalar karyorsunuz! Devam etmeden nce karlatrn.",priceCheck:"",bestPrice:"",seeAll:"Tmn Se",traveler:"Gezgin",travelers:"Gezginler",room:"Oda",rooms:"",return:"Geri Dn",close:"Kapat",viewDeals:"Frsatlar Grntle",viewPrices:"Fiyatlar Grntle",viewRates:"Fiyatlar Grntle",bookNowQuestion:"imdi ayrtmak ister misiniz?",dealExpires:"Bu frsatn sresi dolmak zere!",destinationDemand:"Bu var noktas iin talep yksek!",stayAndBook:"Kal ve ayrt",yes:"Evet",no:"Hayr",comparePrompt:"ok sayda siteyi karlatrmak, en iyi frsat bulmanza yardmc olur.",compareOther:"Dier fiyatlar karlatrn",needAHotel:"{location} iinde bir otel mi aryorsunuz?",needAHotelAccent:"{location} iinde bir <em>otel</em> mi aryorsunuz?",topDealsHotel:"En fazla puan alan oteller iin frsatlar grn",lookingForAFlight:"{location} noktasna bir uu mu aryorsunuz?",needAFlight:"{location} noktasna bir uu mu aryorsunuz?",latestHotelReviews:"<strong>En yeni otel yorumlarn</strong> grn",lowestPrices:"200'e yakn siteden <strong>en dk fiyatlar</strong> bulun",viewTodaysDeals:"Bugnn frsatlarn grn",planningATrip:"<strong>{location}</strong> iin hlen bir yolculuk planlyor musun?",pricesChangeQuick:"Fiyatlar ve msaitlik durumu ok hzl bir ekilde deiebilir",headerTextRM:"Bu sitelerdeki seyahat anlamalarn karlatrn:",verticalHeader:"{advertiser} firmasndan en son {vertical} frsatlarn arayn",travelingToLocation:"{location} konumuna m yolculuk yapyorsunuz?",latestDeals:"{advertiser} firmasndan en yeni frsatlar",searchDeals:"Frsatlar ara",hotel:"otel",flight:"uu",carRental:"ara kiralama",cruise:"gemi yolculuu",vacation:"tatil",compareTravelDeals:"Bu sitelerdeki seyahat anlamalarn karlatrn:",showDeals:"Frsatlar Gster",needAVertical:"{location} konumunda bir {vertical} ihtiyacnz m var?","12Days":"1-2 gn","35Days":"3-5 gn","69Days":"6-9 gn","10Days":"10+ gn",anyLengthDays:"Herhangi bir sre"}}},{}],"lib/cti/lib/jquery.js":[function(e,t,n){"use strict";t.exports=e("cti.sdk/lib/libs/jquery")},{"cti.sdk/lib/libs/jquery":"lib/cti.sdk/lib/libs/jquery.js"}],"lib/cti/lib/legacy/ct-user-agent.js":[function(e,t,n){"use strict";n.forLib=function(n){n.console;function e(t){function e(){}return e.prototype.OSIsMac=function(){return-1!==navigator.platform.toUpperCase().indexOf("MAC")},e.prototype.OSIsWindows=function(){return-1!==navigator.platform.toUpperCase().indexOf("WIN")},e.prototype.OSIsWindows7=function(){return-1!==t.toUpperCase().indexOf("WINDOWS NT 6.1")},e.prototype.OSIsLinux=function(){return-1!==navigator.platform.toUpperCase().indexOf("LINUX")},e.prototype.OSIsIOS81=function(){return!!t.match(/OS 8_1.*\ like Mac OS X/i)},e.prototype.BrowserIsSafari8Plus=function(){var e=!1;if(this.BrowserIsSafari())try{if(window.navigator.appVersion){var t=window.navigator.appVersion.match(/Version\/(.*?) /)[1];8<=parseFloat(t)&&(e=!0)}}catch(e){n.logger.error(e)}return n.logger.debug("inspect","BrowserIsSafari8Plus()","safariVersionMoreThan8",e),e},e.prototype.BrowserIsIE=function(){return/msie/i.test(t)||/(trident)\/([\w.]+)/i.test(t)},e.prototype.BrowserIsIE7=function(){return!!(/msie 7./i.test(navigator.appVersion)&&window.ActiveXObject&&window.XDomainRequest)},e.prototype.BrowserIsIE8=function(){return!!(/msie 8./i.test(navigator.appVersion)&&window.ActiveXObject&&window.XDomainRequest)},e.prototype.BrowserIsIE9=function(){return!(!/msie 9./i.test(navigator.appVersion)||void 0===document.documentElement.style.opacity)},e.prototype.BrowserIsIE10=function(){return!(!/msie 10./i.test(navigator.appVersion)||void 0===document.documentElement.style.opacity)},e.prototype.BrowserIsIE11Plus=function(){return this.BrowserIsIE()&&(/(trident)\/7/i.test(t)||!window.ActiveXObject)},e.prototype.BrowserIsEdge=function(){return this.BrowserIsWebkit()&&-1<t.toLowerCase().indexOf("edge")},e.prototype.BrowserIsOpera=function(){return window.opera&&window.opera.buildNumber},e.prototype.BrowserIsWebkit=function(){return/webkit/i.test(t)},e.prototype.BrowserIsChrome=function(){return this.BrowserIsWebkit()&&-1<t.toLowerCase().indexOf("chrome")&&-1==t.toLowerCase().indexOf("edge")},e.prototype.BrowserIsChromeOnIOS=function(){return this.BrowserIsWebkit()&&-1<t.toLowerCase().indexOf("crios")&&-1==t.toLowerCase().indexOf("edge")},e.prototype.BrowserIsSafari=function(){return this.BrowserIsWebkit()&&!this.BrowserIsChrome()&&!this.BrowserIsChromeOnIOS()&&-1==t.toLowerCase().indexOf("edge")},e.prototype.BrowserIsSafari61Plus=function(){if(this.BrowserIsSafari())try{if(window.navigator.appVersion){var e=window.navigator.appVersion.match(/Version\/(.*?) /)[1];if(6.1<=parseFloat(e))return!0}}catch(e){n.logger.error(e)}return!1},e.prototype.BrowserIsFF4Plus=function(){return!(void 0===window.mozPaintCount)},e.prototype.DeviceIsMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(t)},e.prototype.DeviceIsAndroidTablet=function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(t)},e.prototype.DeviceIsIPad=function(){var e=/iPad/i.test(t);return n.logger.debug("inspect","DeviceIsIPad()","iPad",e),e},new e}var t="";"undefined"!=typeof window&&(t=window.navigator.userAgent);var r=e(t);return r.forAgentString=e,r}},{}],"lib/cti/lib/schema.js":[function(e,t,n){"use strict";var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.forLib=function(a){a.console;var l={};function e(e,t){if(!l.searchFields[e])throw new Error("Search field '"+e+"' does not exist!");return a.LODASH.merge({},l.searchFields[e],t)}function t(t,n){return t=window._cti_backfill_object_create(t),Object.keys(n).forEach(function(e){t[e]=n[e]}),t}function s(t,n,r,i){if(n){var e=n.type;if(Array.isArray(e)||(e=[e]),n.format)if(-1!==e.indexOf("date"))try{if(a.DATE.convertUsingFormatStrings(n.format,n.format,r)!==r)throw new Error("Input string does not match output string. It should!")}catch(e){a.logger.error(e),a.logger.debug("[format error] Input string '"+r+"' does not match format '"+n.format+"'!"),i(t,"invalid-format")}else-1!==e.indexOf("string")&&(n.format.test(r)||i(t,"invalid-format"))}else i(t,"unknown-field")}function c(e,t,n){var r=void 0===t?"undefined":p(t),i=void 0===t?"undefined":p(t),o=void 0;if("undefined"===r||"undefined"===i?o=e+": Arguments are undefined!":d(t)&&d(n)||(o=e+": Arguments must be an object!"),o&&a.config.debug)throw new Error(o)}function u(e){return Object.prototype.toString.call(e)}function d(e){return"[object Object]"===u(e)}function f(e,t,n){if(t!==n)if("string"===t){if("number"===n)return Number(e);if("boolean"===n)return Boolean(e)}else if("number"===t){if("string"===n)return String(e);if("boolean"===n)return Boolean(e)}else if("boolean"===t){if("string"===n)return String(e);if("number"===n)return Number(e)}return e}return l.logFields={event:"string",i:"number",rid:"string",msg:"string",type:"string",input:{city:"string",hotelData:{campaignID:"string",dataType:"string",nativeData:["string"]}},result:"string",prepop:"string",submitType:"string",trigger:"string",url:"string",searchType:"string",group:"string",data:{valid:"boolean",severity:"string",message:"string",givenMessage:"string"},search:{route:"string",origin:"string",device:"string",destination:"string",departureMonth:"string"},s:{departureDate:"string",returnDate:"string",numTravelers:"number",oneWay:"boolean",airportFrom:"string",airportTo:"string"},raw:{active:"boolean",search:{checkInDate:"string",checkOutDate:"string",city:"string",country:"string",destinationId:"string",countryCode:"string",province:"string",rooms:[{adults:"number",children:"number",infants:"number"}]},audiences:"string",currency:"string",language:"string",referralURL:"string",hotelID:"number",hotelName:"string",hotelStreetAddress:"string",hotelLatitude:"number",hotelLongitude:"number",country:"string",city:"string",checkInDate:"string",checkOutDate:"string",guests:"number",rooms:"number",latitude:"number",longitude:"number",airportFrom:"string",airportTo:"string",departureDate:"string",returnDate:"string",numTravelers:"number",oneWay:"boolean",pickUpDate:"string",pickUpTime:"string",pickUpLoc:"string",dropOffDate:"string",dropOffTime:"string",dropOffLoc:"string",origin:"string",destination:"string",destinationID:"number",lengthID:"number",departureMonth:"string",departureYear:"string"},normalized:{audiences:"string",currency:"string",language:"string",referralURL:"string",hotelID:"number",hotelName:"string",hotelStreetAddress:"string",hotelLatitude:"number",hotelLongitude:"number",country:"string",city:"string",checkInDate:"string",checkOutDate:"string",guests:"number",rooms:"number",latitude:"number",longitude:"number",airportFrom:"string",airportTo:"string",departureDate:"string",returnDate:"string",numTravelers:"number",oneWay:"boolean",pickUpDate:"string",pickUpTime:"string",pickUpLoc:"string",dropOffDate:"string",dropOffTime:"string",dropOffLoc:"string",origin:"string",destination:"string",destinationID:"number",lengthID:"number",departureMonth:"string",departureYear:"string"},code:"string",file:"string",line:"string",col:"string",trace:["string"],callstack:["string"],ctx:{iid:"string",vendor:"string",version:"string",browserClass:"string",browser:"string",engine:"string",deviceType:"string",device:"string",cpu:"string",os:"string",agent:"string",viewport:"string",maxTouchPoints:"number",tz:"number",lang:"string",localization:"string",protocol:"string",host:"string",pathname:"string",search:"string",hash:"string",referrer:"string",agentRaw:"string",debug:"string",ctuid:"string",pageviewUUID:"string",sdk:"string",watcher:"string",pageType:"string",sessionVertical:"string"},token:"string",idur:"number",ttr:"number",cdur:"number",plugin:"string",pluginBuildHash:"string",handlerUrl:"string",handlerVersion:"string",expectedStatus:"boolean",actualStatus:"boolean"},l.searchFields={publisherID:{type:["number","string"]},currency:{type:"string",format:/^[A-Z]{3}$/},language:{type:"string",format:/^[A-Z]{2}$/},referralURL:{type:"string"},hotelID:{type:"number"},hotelName:{type:"string"},hotelStreetAddress:{type:"string"},hotelLatitude:{type:"float"},hotelLongitude:{type:"float"},country:{type:"string",format:/^[A-Z]{2}$/},city:{type:"string"},checkInDate:{type:"date",format:"MM/DD/YYYY"},checkOutDate:{type:"date",format:"MM/DD/YYYY"},guests:{type:"number"},rooms:{type:["number","array"]},latitude:{type:"float"},longitude:{type:"float"},airportFrom:{type:"string"},airportTo:{type:"string"},departureDate:{type:"date",format:"MM/DD/YYYY"},returnDate:{type:"date",format:"MM/DD/YYYY"},numTravelers:{type:"number"},oneWay:{type:"boolean"},pickUpDate:{type:"date",format:"MM/DD/YYYY"},pickUpTime:{type:"string"},pickUpLoc:{type:"string"},dropOffDate:{type:"date",format:"MM/DD/YYYY"},dropOffTime:{type:"string"},dropOffLoc:{type:"string"},origin:{type:"string"},destination:{type:"string"},destinationID:{type:"number"},lengthID:{type:"number"},departureMonth:{type:"string"},departureYear:{type:"string"},audiences:{type:"string"}},l.verticalsFields={city:t({label:"Hotel City Wide"},{city:e("city",{required:!0}),checkInDate:e("checkInDate",{required:!0,triggerPrepop:!0,alsoSync:["checkOutDate"]}),checkOutDate:e("checkOutDate",{required:!0,triggerPrepop:!0,alsoSync:["checkInDate"]}),guests:e("guests",{required:!0,on:{reformat:function(e){if("string"==typeof e&&/^\[/.test(e)){var t=0;return a.JSON.parse(e).forEach(function(e){t+=e.adults||0,t+=e.children||0}),t}return e}}}),rooms:e("rooms",{required:!0,on:{reformat:function(e){return"string"==typeof e&&/^\[/.test(e)?a.JSON.parse(e).length:e}}}),latitude:e("latitude",{}),longitude:e("longitude",{})}),hotel:t({label:"Hotel Specific"},{hotelID:e("hotelID",{required:!0}),city:e("city",{required:!1}),checkInDate:e("checkInDate",{required:!0,triggerPrepop:!0,alsoSync:["checkOutDate"]}),checkOutDate:e("checkOutDate",{required:!0,triggerPrepop:!0,alsoSync:["checkInDate"]}),guests:e("guests",{required:!0,on:{reformat:function(e){if("string"==typeof e&&/^\[/.test(e)){var t=0;return a.JSON.parse(e).forEach(function(e){t+=e.adults||0,t+=e.children||0}),t}return e}}}),rooms:e("rooms",{required:!0,on:{reformat:function(e){return"string"==typeof e&&/^\[/.test(e)?a.JSON.parse(e).length:e}}})}),flights:t({label:"Flights"},{airportFrom:e("airportFrom",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),airportTo:e("airportTo",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),departureDate:e("departureDate",{required:!0,triggerPrepop:!0,alsoSync:["returnDate"]}),returnDate:e("returnDate",{required:{if:function(e){return!(e.oneWay||e.isOneWay)}},triggerPrepop:!0,alsoSync:["departureDate"]}),numTravelers:e("numTravelers",{required:!0}),oneWay:e("oneWay",{required:!0})}),cars:t({label:"Cars"},{pickUpDate:e("pickUpDate",{required:!0,triggerPrepop:!0,alsoSync:["dropOffDate"]}),pickUpTime:e("pickUpTime",{required:!0}),pickUpLoc:e("pickUpLoc",{required:!0}),dropOffDate:e("dropOffDate",{required:!0,triggerPrepop:!0,alsoSync:["pickUpDate"]}),dropOffTime:e("dropOffTime",{required:!0}),dropOffLoc:e("dropOffLoc",{required:!0})}),vacations:t({label:"Vacation Packages"},{departureDate:e("departureDate",{required:!0,triggerPrepop:!0,alsoSync:["returnDate"]}),returnDate:e("returnDate",{required:!0,triggerPrepop:!0,alsoSync:["departureDate"]}),origin:e("origin",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),destination:e("destination",{required:!0,on:{reformat:function(e){return a.SERVER_API.extractAirportCodeFromLocation(e)}}}),numTravelers:e("numTravelers",{required:!0})}),cruise:t({label:"Cruises"},{destinationID:e("destinationID",{required:!0}),destinationName:e("destinationID",{required:!1}),lengthID:e("lengthID",{required:!0}),departureMonth:e("departureMonth",{required:!0,triggerPrepop:!0,alsoSync:["departureYear"]}),departureYear:e("departureYear",{required:!0,triggerPrepop:!0,alsoSync:["departureMonth"]})}),"non-travel":t({label:"Non-travel"},{audiences:e("city",{required:!0}),city:e("city",{required:!1}),checkInDate:e("checkInDate",{required:!1,triggerPrepop:!0,alsoSync:["checkOutDate"]}),checkOutDate:e("checkOutDate",{required:!1,triggerPrepop:!0,alsoSync:["checkInDate"]}),guests:e("guests",{required:!1,on:{reformat:function(e){if("string"==typeof e&&/^\[/.test(e)){var t=0;return a.JSON.parse(e).forEach(function(e){t+=e.adults||0,t+=e.children||0}),t}return e}}}),rooms:e("rooms",{required:!1,on:{reformat:function(e){return"string"==typeof e&&/^\[/.test(e)?a.JSON.parse(e).length:e}}}),latitude:e("latitude",{}),longitude:e("longitude",{})})},l.validateVerticalFields=function(r,i){if(!l.verticalsFields[r])throw new Error("Unknown type '"+r+"'!");var n={};function o(e,t){n[e]||(n[e]=[]),n[e].push(t)}return Object.keys(l.verticalsFields[r]).forEach(function(e){var t=l.verticalsFields[r][e],n=!0===t.required||t.required&&t.required.if&&t.required.if(i)||!1;!(void 0===i[e]||""===i[e]||null===i[e])?s(e,t,i[e],o):n&&o(e,"required")}),0!==Object.keys(n).length&&n},l.validateSearchFields=function(t,e){var n={};function r(e,t){n[e]||(n[e]=[]),n[e].push(t)}return Object.keys(t).forEach(function(e){s(e,l.searchFields[e],t[e],r)}),0===Object.keys(n).length&&e&&(n=l.validateVerticalFields(e,t)),0!==Object.keys(n).length&&n},l.normalizeSearchFields=function(r){return Object.keys(r).forEach(function(e){var t=r[e],n=(l.searchFields[e]||{}).type;Array.isArray(n)||(n=[n]),-1!==n.indexOf("number")&&"string"==typeof t&&(""+(t=parseInt(t))!==r[e]&&(0!==t||null!==r[e]&&""!==r[e])||(r[e]=t)),t=r[e],"rooms"===e?(Array.isArray(t)&&(t=r[e]=a.JSON.stringify(t)),"string"==typeof t&&/^\[/.test(t)&&(r.guests=t)):"currency"===e?r[e]=t.toUpperCase():"language"===e?r[e]=t.toUpperCase():"country"===e&&(r[e]=t.toUpperCase(),r[e]=t.toUpperCase())}),r},l.validateLogFields=function(e,t){for(var n in c("validateLogFields",e,t),e){var r=e[n],i=void 0===r?"undefined":p(r),o=t[n];if(r)if(d(o)){if(!d(r))throw"Expected "+n+" to be an Object but got "+u(r)+" instead!";l.validateLogFields(r,o)}else if(Array.isArray(o))a(n,r,o[0]);else if(i!==o)throw"Expected "+n+" to be a "+o+" but got "+u(r)+" instead!"}function a(n,e,r){if(!Array.isArray(e))throw"Expected "+n+" to be an Array but got "+u(e)+" instead!";e.forEach(function(e){var t=void 0===e?"undefined":p(e);if(d(r)){if(!d(e))throw"Expected "+n+" to be an Array of objects but got an array of "+u(e)+" instead!";l.validateLogFields(e,r)}else if(Array.isArray(r)){if(!Array.isArray(e))throw"Expected "+n+" to be an Array of arrays but got an array of "+u(e)+" instead!";a(n+"[0]",e,r[0])}else if(t!==r)throw"Expected "+n+" to be an Array of "+r+" but got an array of "+u(e)+" instead!"})}},l.coerceDataTypes=function(e,t){c("coerceDataTypes",e,t);var n={};for(var r in e){var i=e[r],o=t[r];if(i)if(d(i)&&d(o))n[r]=l.coerceDataTypes(i,o);else if(Array.isArray(i)&&Array.isArray(o))n[r]=s(i,o[0]);else if(!d(i)&&!Array.isArray(i)){var a=void 0===i?"undefined":p(i);n[r]=f(i,a,o)}}return n;function s(e,t){return e.map(function(e){return d(e)&&d(t[0])?l.coerceDataTypes(e,t[0]):Array.isArray(e)&&Array.isArray(t[0])?void(e=s(e,t[0])):f(e,void 0===e?"undefined":p(e),t[0])})}},l}},{}],"lib/cti/lib/server-api.js":[function(e,t,n){"use strict";n.forLib=function(a){a.console;var e={},i=a.LODASH;e.extractAirportCodeFromLocation=function e(r){return r?(e._cache||(e._cache={}),a.logger.debug("inspect","extractAirportCodeFromLocation._cache",e._cache),e._cache[r]||(e._cache[r]=a.Promise.try(function(){var e=r.match(/^([A-Z]{3})$|\(([A-Z]{3})\)/);if(e)return e[1]||e[2]||r;a.logger.debug("notice","extractAirportCodeFromLocation()","due to","could not parse airport code from '"+r+"'");var n=a.config["#cti1"].endpoints.www.protocol+a.config["#cti1"].endpoints.www.hostUri+"/integrations/api/common/city_to_iata.php";return a.logger.debug("request","extractAirportCodeFromLocation()","to",n,"for location",r),a.HEADUP&&a.HEADUP.incrementCount("backapi"),window.CTI_METRIC&&window.CTI_METRIC("request",{event:"Extract IATA request",url:n,data:r}),a.endpoint.call({method:"JSONP",url:n,query:{city:r}}).then(function(e){var t=e&&e.iata||"";return t||a.logger.record.miss({type:"city->iata",input:{city:r},result:t}),window.CTI_METRIC&&window.CTI_METRIC("response",{event:"Extract IATA response",url:n,data:t}),a.logger.debug("response","extractAirportCodeFromLocation()","from",n,"for location",r,"code",t),t}).catch(function(e){return a.logger.error("City string conversion call to '"+n+"' failed!",e),r})})),e._cache[r]):a.Promise.resolve(r)};var o=i.memoize(function(t,n){window.CTI_METRIC&&window.CTI_METRIC("request",{event:"Map Hotel request",url:t,data:n});var e=a.QUERYSTRING.stringify(n).replace(/nativeData=/g,"nativeData[]=");return a.endpoint.call({method:"JSONP",url:t,query:e}).then(function(e){if(a.HEADUP&&a.HEADUP.incrementCount("backapi"),window.CTI_METRIC&&window.CTI_METRIC("response",{event:"Map Hotel response",url:t,data:e}),"error"===e.status)throw new Error(e.message);return e}).catch(function(e){if(-1<e.message.indexOf("0 mappings returned"))return a.logger.record.miss({type:"city -> mapped city",input:{hotelData:n},result:a.LODASH.get(e,"message")}),null;a.logger.error("Hotel mapping call to '"+t+"' failed!",e)})},function(e,t){return a.JSON.stringify(e)+a.JSON.stringify(t)});return e.mapHotels=function(e,t,n){if(!e||!t||!n)return a.Promise.reject("Need to supply campaignID, nativeData and dataType for mapHotels: one or more not found");if(i.isArray(t)&&i.isEmpty(t))return a.Promise.resolve({});var r=a.config["#cti1"].endpoints.www.protocol+a.config["#cti1"].endpoints.www.hostUri+"/integrations/api/common/map_hotels.php";return a.logger.debug("inspect","mapHotels._cache",o.cache),o(r,{campaignID:e,nativeData:i.isArray(t)?t:[t],dataType:n}).then(function(e){return e?i.isArray(t)?e:e[t]:null})},e.queryOptOut=function(e,t,n,r){if(void 0===e||void 0===t||void 0===n||void 0===r)return a.Promise.reject("Need to supply clicktype, publisherID, clear and update for queryOptOut: one or more not found");var i=a.config["#cti1"].endpoints.www.protocol+a.config["#cti1"].endpoints.www.hostUri+"/integrations/api/common/opt_out_util.php",o={clickType:e,publisherID:t,clear:n,update:r};return a.Promise.try(function(){return a.HEADUP&&a.HEADUP.incrementCount("backapi"),a.endpoint.call({method:"JSONP",url:i,query:o}).then(function(e){return a.logger.debug("response :: ",e),e}).catch(function(e){return a.logger.error("err :: ",e),e})})},e}},{}],"lib/cti/lib/ua.js":[function(r,e,t){"use strict";t.forLib=function(o){o.console;var a=o.LODASH.assign({},r("cti.sdk/lib/classes/UserAgent").forLib(o)),e=r("../../cti.sdk/lib/instances/browser-device-detection-util"),t=r("./legacy/ct-user-agent").forLib(o),n=o.dom&&o.dom.window?o.dom.window.navigator.userAgent:"";return a.legacy=e.forAgentString(n),void 0===a.legacy.isTabletDevice&&(a.legacy.isTabletDevice=function(){return a.legacy.isIpad()?"ipad":!!a.legacy.isAndroidTablet()&&"android"}),void 0===a.legacy.getDeviceType&&(a.legacy.getDeviceType=function(){return a.legacy.isMobileDevice()?"mobile":a.legacy.isTabletDevice()?"tablet":"desktop"}),void 0===a.legacy.getBrowserType&&(a.legacy.getBrowserType=function(){return a.legacy.isChrome()?"chrome":a.legacy.isIEEdge()?"edge":a.legacy.isIE()?"ie":a.legacy.isSafari()?"safari":a.legacy.isFF4Plus()?"firefox":"?"}),a.legacyCT=t.forAgentString(n),void 0===a.legacyCT.isTabletDevice&&(a.legacyCT.isTabletDevice=function(){return a.legacyCT.DeviceIsIPad()?"ipad":!!a.legacyCT.DeviceIsAndroidTablet()&&"android"}),void 0===a.legacyCT.getDeviceType&&(a.legacyCT.getDeviceType=function(){return a.legacyCT.DeviceIsMobile()?"mobile":a.legacyCT.isTabletDevice()?"tablet":"desktop"}),void 0===a.legacyCT.getBrowserType&&(a.legacyCT.getBrowserType=function(){return a.legacyCT.BrowserIsChrome()?"chrome":a.legacyCT.BrowserIsEdge()?"edge":a.legacyCT.BrowserIsIE()?"ie":a.legacyCT.BrowserIsSafari()?"safari":a.legacyCT.BrowserIsFF4Plus()?"firefox":"?"}),o.event&&o.event.channels.lifecycle.once("configured",function(){if(!0===o.config.options.logAgentMatrix){var t={};Object.keys(a).filter(function(e){return!("forAgentString"===e||"legacy"===e||"legacyCT"===e||"isMobileDevice"===e||"isTabletDevice"===e||"function"!=typeof a[e])}).forEach(function(e){t[e]=a[e]()});var n={};Object.keys(a.legacy).filter(function(e){return!("forAgentString"===e||"function"!=typeof a.legacy[e])}).forEach(function(e){n[e]=a.legacy[e]()});var e={};for(var r in a.legacyCT)"forAgentString"!==r&&"function"==typeof a.legacyCT[r]&&(e[r]=a.legacyCT[r]());var i={agent:a.getAgentString(),cti:t,legacy:n,ct:e};o.logger.debug("log","agent matrix",i),o.logger.adapters.agent.log(i)}}),a}},{"../../cti.sdk/lib/instances/browser-device-detection-util":"lib/cti.sdk/lib/instances/browser-device-detection-util.js","./legacy/ct-user-agent":"lib/cti/lib/legacy/ct-user-agent.js","cti.sdk/lib/classes/UserAgent":"lib/cti.sdk/lib/classes/UserAgent.js"}],"lib/cti/node_modules/escape-regexp/index.js":[function(e,t,n){t.exports=function(e){return String(e).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}},{}],"lib/lib.lodash/ctlodash.build.js":[function(e,t,n){"use strict";var r,i,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}t.exports=(i={},o.m=r=[function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){var t=void 0===e?"undefined":m(e);return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var c=n(11),u=n(12);e.exports=function(e,t,n,r){var i=!n;n=n||{};for(var o=-1,a=t.length;++o<a;){var s=t[o],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?u(n,s,l):c(n,s,l)}return n}},function(e,t){e.exports=function(e){return null!=e&&"object"==(void 0===e?"undefined":m(e))}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(16)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(28),i=n(45);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(12),o=n(13),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var r=e[t];a.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}},function(e,t,n){var r=n(76);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(0),i=n(78),o=n(79),a=n(15);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(t,n){return function(e){return t(n(e))}}},function(e,t,n){var r=n(13);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(54),i="object"==("undefined"==typeof self?"undefined":m(self))&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(){return!1}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(26),l=n(44);e.exports=function(s){return r(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,o=2<r?t[2]:void 0;for(i=3<s.length&&"function"==typeof i?(r--,i):void 0,o&&l(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}},function(e,t,n){var r=n(27),i=n(42),o=n(43);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(4),i=n(1);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(){return!1}},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(46),o=n(47),a=n(48),s=n(49),l=n(50);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t,n){var r=n(86)();e.exports=r},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t=t||Array(r);++n<r;)t[n]=e[n];return t}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(98),i=n(35),o=n(99);e.exports=function(e){return i(e)?o(e):r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var c=n(71),u=n(131);e.exports=function e(t,n,r,i,o){var a=-1,s=t.length;for(r=r||u,o=o||[];++a<s;){var l=t[a];0<n&&r(l)?1<n?e(l,n-1,r,i,o):c(o,l):i||(o[o.length]=l)}return o}},function(e,t){e.exports=function(t){return function(e){return t(e)}}},function(e,t,n){var d=n(11),f=n(14),p=n(40),h=n(1),g=n(24);e.exports=function(e,t,n,r){if(!h(e))return e;for(var i=-1,o=(t=f(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var l=g(t[i]),c=n;if(i!=a){var u=s[l];void 0===(c=r?r(u,l,s):void 0)&&(c=h(u)?u:p(t[i+1])?[]:{})}d(s,l,c),s=s[l]}return e}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&-1<e&&e%1==0&&e<t}},function(e,t,n){var i=n(14),o=n(24);e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}},function(e,t,n){var l=n(83),c=Math.max;e.exports=function(o,a,s){return a=c(void 0===a?o.length-1:a,0),function(){for(var e=arguments,t=-1,n=c(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];t=-1;for(var i=Array(a+1);++t<a;)i[t]=e[t];return i[a]=s(r),l(o,this,i)}}},function(e,t){e.exports=function(e){return e}},function(e,t){e.exports=function(){return!1}},function(e,t){e.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(17),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(17);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(17);e.exports=function(e){return-1<r(this.__data__,e)}},function(e,t,n){var i=n(17);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var r=n(12),i=n(13);e.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,a,s){(function(e){var t=s(18),n="object"==(void 0===a?"undefined":m(a))&&a&&!a.nodeType&&a,r=n&&"object"==(void 0===e?"undefined":m(e))&&e&&!e.nodeType&&e,i=r&&r.exports===n?t.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=o?o(n):new e.constructor(n);return e.copy(r),r}}).call(a,s(53)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(n,e,t){(function(e){var t="object"==(void 0===e?"undefined":m(e))&&e&&e.Object===Object&&e;n.exports=t}).call(e,t(88))},function(e,t,n){var r=n(92),i=n(56),o=n(29);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},function(e,t,n){var r=n(16)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(7),i=n(3);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(2),i=n(8);e.exports=function(e){return r(e,i(e))}},function(e,t,n){var r=n(9),i=n(6),o=n(60),a=n(61);e.exports=function(e,n){if(null==e)return{};var t=r(a(e),function(e){return[e]});return n=i(n),o(e,t,function(e,t){return n(e,t[0])})}},function(e,t,n){var l=n(41),c=n(39),u=n(14);e.exports=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=l(e,a);n(s,a)&&c(o,u(a,e),s)}return o}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(16)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(4),i=n(0),o=n(3);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},function(e,t){e.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=t<=e?e:t)),e}},function(e,t,n){var v=n(30),y=n(108),b=n(11),w=n(109),_=n(110),T=n(52),k=n(32),D=n(111),S=n(113),x=n(67),C=n(61),E=n(21),A=n(115),O=n(116),L=n(55),I=n(0),P=n(20),j=n(1),R=n(5),B=1,M=2,N=4,H="[object Arguments]",F="[object Function]",U="[object GeneratorFunction]",z="[object Object]",V={};V[H]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object DataView]"]=V["[object Boolean]"]=V["[object Date]"]=V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Map]"]=V["[object Number]"]=V[z]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object Symbol]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Error]"]=V[F]=V["[object WeakMap]"]=!1,e.exports=function n(r,i,o,e,t,a){var s,l=i&B,c=i&M,u=i&N;if(o&&(s=t?o(r,e,t,a):o(r)),void 0!==s)return s;if(!j(r))return r;var d=I(r);if(d){if(s=A(r),!l)return k(r,s)}else{var f=E(r),p=f==F||f==U;if(P(r))return T(r,l);if(f==z||f==H||p&&!t){if(s=c||p?{}:L(r),!l)return c?S(r,_(s,r)):D(r,w(s,r))}else{if(!V[f])return t?r:{};s=O(r,f,n,l)}}var h=(a=a||new v).get(r);if(h)return h;a.set(r,s);var g=u?c?C:x:c?keysIn:R,m=d?void 0:g(r);return y(m||r,function(e,t){m&&(e=r[t=e]),b(s,t,n(e,i,o,t,r,a))}),s}},function(e,t,n){var r=n(16)(Object.keys,Object);e.exports=r},function(e,t,n){var y=n(1),b=n(117),w=n(118),_=Math.max,T=Math.min;e.exports=function(r,n,e){function i(e){var t=l,n=c;return l=c=void 0,h=e,d=r.apply(n,t)}function o(e){var t=e-p;return void 0===p||n<=t||t<0||m&&u<=e-h}function a(){var e=b();if(o(e))return t(e);f=setTimeout(a,function(e){var t=n-(e-p);return m?T(t,u-(e-h)):t}(e))}function t(e){return f=void 0,v&&l?i(e):(l=c=void 0,d)}function s(){var e=b(),t=o(e);if(l=arguments,c=this,p=e,t){if(void 0===f)return function(e){return h=e,f=setTimeout(a,n),g?i(e):d}(p);if(m)return f=setTimeout(a,n),i(p)}return void 0===f&&(f=setTimeout(a,n)),d}var l,c,u,d,f,p,h=0,g=!1,m=!1,v=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return n=w(n)||0,y(e)&&(g=!!e.leading,u=(m="maxWait"in e)?_(w(e.maxWait)||0,n):u,v="trailing"in e?!!e.trailing:v),s.cancel=function(){void 0!==f&&clearTimeout(f),l=p=c=f=void(h=0)},s.flush=function(){return void 0===f?d:t(b())},s}},function(e,t,n){var r=n(0);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return r(e)?e:[e]}},function(e,t,n){var r=n(22);e.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var o=n(9),a=n(6),s=n(133),l=n(134),c=n(38),u=n(135),d=n(27);e.exports=function(e,r,n){var i=-1;r=o(r.length?r:[d],c(a));var t=s(e,function(t,e,n){return{criteria:o(r,function(e){return e(t)}),index:++i,value:t}});return l(t,function(e,t){return u(e,t,n)})}},function(e,t,n){var o=n(142),a=n(6),s=n(10),l=Math.max;e.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:s(n);return i<0&&(i=l(r+i,0)),o(e,a(t,3),i)}},function(r,e,t){function i(e){if(Array.isArray(e)){var n=e;e=function(e){return e[n[0]]===n[1]}}else if("string"==typeof e){n=e;e=function(e){return!!e[n]}}else if("object"===(void 0===e?"undefined":o(e))){n=e;e=function(t){return 0===Object.keys(n).filter(function(e){return!(t[e]===n[e])}).length}}return e}var o="function"==typeof Symbol&&"symbol"==m(Symbol.iterator)?function(e){return void 0===e?"undefined":m(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":m(e)};r.exports={set:t(75),get:t(81),assign:t(82),merge:t(84),memoize:t(94),forEach:t(96),pickBy:t(59),size:t(97),forIn:t(100),isArray:t(0),isObject:t(1),values:t(102),mapValues:t(104),endsWith:t(106),cloneDeep:t(107),debounce:t(68),throttle:t(119),isEqual:t(120),some:t(127),omitBy:t(128),sortBy:t(130),orderBy:t(137),isFunction:t(28),isNil:t(138),reduce:t(139),find:t(140),padStart:t(143),clone:t(151),findIndex:t(73),isDate:t(152),min:t(155),indexOf:t(158),includes:t(159),extend:t(160),map:t(162),startsWith:t(163),toPlainObject:t(58),isNumber:t(164),isString:t(63),isBoolean:t(165),pick:t(166),noop:t(173),concat:t(174),every:t(175),intersection:t(176),isEmpty:t(181),sortedUniq:t(182)};var a=r.exports.forEach;r.exports.forEach=function(t,n){return Array.isArray(t)?a(t,n):(Object.keys(t).forEach(function(e){n(t[e],e)}),null)},r.exports.each=r.exports.forEach;var s=r.exports.findIndex;r.exports.findIndex=function(e,t,n){return t=i(t),s(e,t,n)};var n=r.exports.some;r.exports.some=function(e,t){return t=i(t),n(e,t)};var l=r.exports.every;r.exports.every=function(e,t){return t=i(t),l(e,t)};var c=r.exports.find;r.exports.find=function(e,t,n){return t=i(t),c(e,t,n)};var u=r.exports.mapValues;r.exports.mapValues=function(e,t){return u(e,"function"!=typeof t?function(e){return e[t]}:t)};var d=r.exports.map;r.exports.map=function(e,t){if(Array.isArray(e)||"object"!==(void 0===e?"undefined":o(e))||(e=r.exports.values(e)),"string"==typeof t){var n=t;t=function(e){return e[n]}}return d(e,t)};var f=r.exports.includes;r.exports.includes=function(e,t,n){if(void 0!==n){if(!Array.isArray(e))throw new Error("'collection' must be an array when using third 'fromIndex' argument!");e=0<n?e.slice(n):e.slice(e.length+n)}return"string"==typeof e?-1!==e.indexOf(t):(Array.isArray(e)||"object"!==(void 0===e?"undefined":o(e))||(e=r.exports.values(e)),f(e,t,n))};var p=r.exports.sortBy;r.exports.sortBy=function(e,t){return Array.isArray(t)||(t=[t]),t=t.map(function(e){if("function"!=typeof e){var t=e;e=function(e){return e[t]}}return e}),p(e,t)};var h=r.exports.orderBy;r.exports.orderBy=function(e,t,n){return Array.isArray(t)||(t=[t]),t=t.map(function(e){if("function"!=typeof e){var t=e;e=function(e){return e[t]}}return e}),h(e,t,n)};var g=r.exports.reduce;r.exports.reduce=function(t,n,r){return Array.isArray(t)?g(t,n,r):(Object.keys(t).forEach(function(e){n(r,t[e],e)}),r)}},function(e,t,n){var r=n(39);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},function(e,t,n){var r=n(77),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(0),i=n(23),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=void 0===e?"undefined":m(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(80),o=/^\./,a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,i=r(function(e){var i=[];return o.test(e)&&i.push(""),e.replace(a,function(e,t,n,r){i.push(n?r.replace(s,"$1"):t||e)}),i});e.exports=i},function(e,t){e.exports=function(e){return e}},function(e,t,n){var i=n(41);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},function(e,t,n){var r=n(11),i=n(2),o=n(25),a=n(7),s=n(29),l=n(5),c=Object.prototype.hasOwnProperty,u=o(function(e,t){if(s(t)||a(t))i(t,l(t),e);else for(var n in t)c.call(t,n)&&r(e,n,t[n])});e.exports=u},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(85),i=n(25)(function(e,t,n){r(e,t,n)});e.exports=i},function(e,t,n){var c=n(30),u=n(51),d=n(31),f=n(87),p=n(1),h=n(8);e.exports=function r(i,o,a,s,l){i!==o&&d(o,function(e,t){if(p(e))l=l||new c,f(i,o,t,a,r,s,l);else{var n=s?s(i[t],e,t+"",i,o,l):void 0;void 0===n&&(n=e),u(i,t,n)}},h)}},function(e,t){e.exports=function(l){return function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[l?a:++r];if(!1===t(i[s],s,i))break}return e}}},function(e,t,n){var g=n(51),m=n(52),v=n(89),y=n(32),b=n(55),w=n(19),_=n(0),T=n(57),k=n(20),D=n(28),S=n(1),x=n(93),C=n(33),E=n(58);e.exports=function(e,t,n,r,i,o,a){var s=e[n],l=t[n],c=a.get(l);if(c)g(e,n,c);else{var u=o?o(s,l,n+"",e,t,a):void 0,d=void 0===u;if(d){var f=_(l),p=!f&&k(l),h=!f&&!p&&C(l);u=l,f||p||h?u=_(s)?s:T(s)?y(s):p?m(l,!(d=!1)):h?v(l,!(d=!1)):[]:x(l)||w(l)?w(u=s)?u=E(s):(!S(s)||r&&D(s))&&(u=b(l)):d=!1}d&&(a.set(l,u),i(u,l,r,o,a),a.delete(l)),g(e,n,u)}}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":m(window))&&(n=window)}e.exports=n},function(e,t,n){var r=n(90);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(91);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(18).Uint8Array;e.exports=r},function(e,t,n){function r(e){if(!i(e))return{};if(o)return o(e);a.prototype=e;var t=new a;return a.prototype=void 0,t}var i=n(1),o=window._cti_backfill_object_create;function a(){}e.exports=r},function(e,t,n){var r=n(4),i=n(56),o=n(3),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t,n){function r(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new TypeError(l);function a(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return a.cache=n.set(t,r)||n,r}return a.cache=new(r.Cache||s),a}var s=n(95),l="Expected a function";r.Cache=s,e.exports=r},function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(46),o=n(47),a=n(48),s=n(49),l=n(50);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=l,e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(62),i=n(21),o=n(7),a=n(63),s=n(34);e.exports=function(e){if(null==e)return 0;if(o(e))return a(e)?s(e):e.length;var t=i(e);return"[object Map]"==t||"[object Set]"==t?e.size:r(e).length}},function(e,t,n){var r=n(64)("length");e.exports=r},function(e,t,n){var r=n(64)("length");e.exports=r},function(e,t,n){var r=n(31),i=n(101),o=n(8);e.exports=function(e,t){return null==e?e:r(e,i(t),o)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(103),i=n(5);e.exports=function(e){return null==e?[]:r(e,i(e))}},function(e,t,n){var r=n(9);e.exports=function(t,e){return r(e,function(e){return t[e]})}},function(e,t,n){var o=n(12),a=n(105),s=n(6);e.exports=function(e,r){var i={};return r=s(r,3),a(e,function(e,t,n){o(i,t,r(e,t,n))}),i}},function(e,t,n){var r=n(31),i=n(5);e.exports=function(e,t){return e&&r(e,t,i)}},function(e,t,n){var o=n(65),a=n(36),s=n(10),l=n(15);e.exports=function(e,t,n){e=l(e),t=a(t);var r=e.length,i=n=void 0===n?r:o(s(n),0,r);return 0<=(n-=t.length)&&e.slice(n,i)==t}},function(e,t,n){var r=n(66);e.exports=function(e){return r(e,5)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(2),i=n(5);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(2),i=n(8);e.exports=function(e,t){return e&&r(t,i(t),e)}},function(e,t,n){var r=n(2),i=n(112);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(2),i=n(114);e.exports=function(e,t){return r(e,i(e),t)}},function(e,t){e.exports=function(){return[]}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&r.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(18);e.exports=function(){return r.Date.now()}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var o=n(68),a=n(1);e.exports=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return a(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),o(e,t,{leading:r,maxWait:t,trailing:i})}},function(e,t,n){var r=n(121);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var a=n(122),s=n(3);e.exports=function e(t,n,r,i,o){return t===n||(null==t||null==n||!s(t)&&!s(n)?t!=t&&n!=n:a(t,n,r,i,e,o))}},function(e,t,n){var g=n(30),m=n(123),v=n(125),y=n(126),b=n(21),w=n(0),_=n(20),T=n(33),k="[object Arguments]",D="[object Array]",S="[object Object]",x=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o){var a=w(e),s=w(t),l=a?D:b(e),c=s?D:b(t),u=(l=l==k?S:l)==S,d=(c=c==k?S:c)==S,f=l==c;if(f&&_(e)){if(!_(t))return!1;u=!(a=!0)}if(f&&!u)return o=o||new g,a||T(e)?m(e,t,n,r,i,o):v(e,t,l,n,r,i,o);if(!(1&n)){var p=u&&x.call(e,"__wrapped__"),h=d&&x.call(t,"__wrapped__");if(p||h)return i(p?e.value():e,h?t.value():t,n,r,o=o||new g)}return!!f&&(o=o||new g,y(e,t,n,r,i,o))}},function(e,t,n){var m=n(69),v=n(124),y=n(70);e.exports=function(e,t,n,r,i,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&s<l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,f=2&n?new m:void 0;for(o.set(e,t),o.set(t,e);++u<s;){var p=e[u],h=t[u];if(r)var g=a?r(h,p,u,t,e,o):r(p,h,u,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!v(t,function(e,t){if(!y(f,t)&&(p===e||i(p,e,n,r,o)))return f.push(t)})){d=!1;break}}else if(p!==h&&!i(p,h,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var b=n(67),w=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,i,o){var a=1&n,s=b(e),l=s.length;if(l!=b(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:w.call(t,u)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++c<l;){var h=e[u=s[c]],g=t[u];if(r)var m=a?r(g,h,u,t,e,o):r(h,g,u,e,t,o);if(!(void 0===m?h===g||i(h,g,n,r,o):m)){f=!1;break}p=p||"constructor"==u}if(f&&!p){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o.delete(e),o.delete(t),f}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(6),i=n(129),o=n(59);e.exports=function(e,t){return o(e,i(r(t)))}},function(e,t){e.exports=function(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}},function(e,t,n){var r=n(37),i=n(72),o=n(26),a=n(44),s=o(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&a(e,t[0],t[1])?t=[]:2<n&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])});e.exports=s},function(e,t,n){var r=n(132),i=n(19),o=n(0),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(18).Symbol;e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var c=n(136);e.exports=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=c(i[r],o[r]);if(l)return s<=r?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}},function(e,t,n){var u=n(23);e.exports=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=u(e),a=void 0!==t,s=null===t,l=t==t,c=u(t);if(!s&&!c&&!o&&t<e||o&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}},function(e,t,n){var i=n(72),o=n(0);e.exports=function(e,t,n,r){return null==e?[]:(o(t)||(t=null==t?[]:[t]),o(n=r?void 0:n)||(n=null==n?[]:[n]),i(e,t,n))}},function(e,t){e.exports=function(e){return null==e}},function(e,t){e.exports=function(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}},function(e,t,n){var r=n(141)(n(73));e.exports=r},function(e,t,n){var s=n(6),l=n(7),c=n(5);e.exports=function(a){return function(e,t,n){var r=Object(e);if(!l(e)){var i=s(t,3);e=c(e),t=function(e){return i(r[e],e,r)}}var o=a(e,t,n);return-1<o?r[i?e[o]:o]:void 0}}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t,n){var i=n(144),o=n(34),a=n(10),s=n(15);e.exports=function(e,t,n){e=s(e);var r=(t=a(t))?o(e):0;return t&&r<t?i(t-r,n)+e:e}},function(e,t,n){var i=n(145),o=n(36),a=n(146),s=n(35),l=n(34),c=n(148),u=Math.ceil;e.exports=function(e,t){var n=(t=void 0===t?" ":o(t)).length;if(n<2)return n?i(t,e):t;var r=i(t,u(e/l(t)));return s(t)?a(c(r),0,e).join(""):r.slice(0,e)}},function(e,t){var r=Math.floor;e.exports=function(e,t){var n="";if(!e||t<1||9007199254740991<t)return n;for(;t%2&&(n+=e),(t=r(t/2))&&(e+=e),t;);return n}},function(e,t,n){var i=n(147);e.exports=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&r<=n?e:i(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},function(e,t,n){var r=n(149),i=n(35),o=n(150);e.exports=function(e){return i(e)?o(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t,n){var r=n(66);e.exports=function(e){return r(e,4)}},function(e,t,n){var r=n(153),i=n(38),o=n(154),a=o&&o.isDate,s=a?i(a):r;e.exports=s},function(e,t,n){var r=n(4),i=n(3);e.exports=function(e){return i(e)&&"[object Date]"==r(e)}},function(e,a,s){(function(e){var t=s(54),n="object"==(void 0===a?"undefined":m(a))&&a&&!a.nodeType&&a,r=n&&"object"==(void 0===e?"undefined":m(e))&&e&&!e.nodeType&&e,i=r&&r.exports===n&&t.process,o=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}).call(a,s(53)(e))},function(e,t,n){var r=n(156),i=n(157),o=n(27);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},function(e,t,n){var c=n(23);e.exports=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===s?a==a&&!c(a):n(a,s)))var s=a,l=o}return l}},function(e,t){e.exports=function(e,t){return e<t}},function(e,t,n){var o=n(22),a=n(10),s=Math.max;e.exports=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:a(n);return i<0&&(i=s(r+i,0)),o(e,t,i)}},function(e,t,n){var r=n(22);e.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},function(e,t,n){e.exports=n(161)},function(e,t,n){var r=n(2),i=n(25),o=n(8),a=i(function(e,t){r(t,o(t),e)});e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(65),i=n(36),o=n(10),a=n(15);e.exports=function(e,t,n){return e=a(e),n=null==n?0:r(o(n),0,e.length),t=i(t),e.slice(n,n+t.length)==t}},function(e,t,n){var r=n(4),i=n(3);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},function(e,t,n){var r=n(4),i=n(3);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},function(e,t,n){var r=n(167),i=n(171)(function(e,t){return null==e?{}:r(e,t)});e.exports=i},function(e,t,n){var r=n(60),i=n(168);e.exports=function(n,e){return r(n,e,function(e,t){return i(n,t)})}},function(e,t,n){var r=n(169),i=n(170);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var s=n(14),l=n(19),c=n(0),u=n(40),d=n(45),f=n(24);e.exports=function(e,t,n){for(var r=-1,i=(t=s(t,e)).length,o=!1;++r<i;){var a=f(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&d(i)&&u(a,i)&&(c(e)||l(e))}},function(e,t,n){var r=n(172),i=n(42),o=n(43);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=n(37);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t){e.exports=function(){}},function(e,t,n){var i=n(71),o=n(37),a=n(32),s=n(0);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return i(s(n)?a(n):[n],o(t,1))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},function(e,t,n){var r=n(9),i=n(177),o=n(26),a=n(180),s=o(function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]});e.exports=s},function(e,t,n){var m=n(69),v=n(178),y=n(179),b=n(9),w=n(38),_=n(70),T=Math.min;e.exports=function(e,t,n){for(var r=n?y:v,i=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,c=[];a--;){var u=e[a];a&&t&&(u=b(u,w(t))),l=T(u.length,l),s[a]=!n&&(t||120<=i&&120<=u.length)?new m(a&&u):void 0}u=e[0];var d=-1,f=s[0];e:for(;++d<i&&c.length<l;){var p=u[d],h=t?t(p):p;if(p=n||0!==p?p:0,!(f?_(f,h):r(c,h,n))){for(a=o;--a;){var g=s[a];if(!(g?_(g,h):r(e[a],h,n)))continue e}f&&f.push(h),c.push(p)}}return c}},function(e,t,n){var r=n(22);e.exports=function(e,t){return!(null==e||!e.length)&&-1<r(e,t,0)}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){var r=n(57);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){var r=n(62),i=n(21),o=n(19),a=n(0),s=n(7),l=n(20),c=n(29),u=n(33),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},function(e,t,n){var r=n(183);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){var c=n(13);e.exports=function(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!c(s,l)){var l=s;o[i++]=0===a?0:a}}return o}}],o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=74))},{}],"node_modules/moment/moment.js":[function(Xn,Jn,e){var t,n;t=this,n=function(){"use strict";var e,i;function f(){return e.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function r(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return Ct(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=h(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var v=f.momentProperties=[];function y(e,t){var n,r,i;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=h(t)),o(t._locale)||(e._locale=t._locale),0<v.length)for(n=0;n<v.length;n++)o(i=t[r=v[n]])||(e[r]=i);return e}var t=!1;function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,f.updateOffset(this),t=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function T(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=_(t)),n}function k(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&T(e[r])!==T(t[r]))&&a++;return a+o}function D(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,o){var a=!0;return u(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==typeof arguments[n]){for(var r in e+="\n["+n+"] ",arguments[0])e+=r+": "+arguments[0][r]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}D(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var S,x={};function C(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),x[e]||(D(t),x[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,r=u({},e);for(n in t)p(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)p(e,n)&&!p(t,n)&&s(e[n])&&(r[n]=u({},r[n]));return r}function O(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var L={};function I(e,t){var n=e.toLowerCase();L[n]=L[n+"s"]=L[t]=e}function P(e){return"string"==typeof e?L[e]||L[e.toLowerCase()]:void 0}function j(e){var t,n,r={};for(n in e)p(e,n)&&(t=P(n))&&(r[t]=e[n]);return r}var R={};function B(e,t){R[e]=t}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function z(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function V(e,t){return e.isValid()?(t=Y(t,e.localeData()),F[t]=F[t]||function(r){var e,i,t,o=r.match(N);for(e=0,i=o.length;e<i;e++)U[o[e]]?o[e]=U[o[e]]:o[e]=(t=o[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=E(o[t])?o[t].call(e,r):o[t];return n}}(t),F[t](e)):e.localeData().invalidDate()}function Y(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;0<=n&&H.test(e);)e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var q=/\d/,W=/\d\d/,G=/\d{3}/,K=/\d{4}/,$=/[+-]?\d{6}/,X=/\d\d?/,J=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se={};function le(e,n,r){se[e]=E(n)?n:function(e,t){return e&&r?r:n}}function ce(e,t){return p(se,e)?se[e](t._strict,t._locale):new RegExp(function(e){return ue(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i}))}(e))}function ue(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var de={};function fe(e,n){var t,r=n;for("string"==typeof e&&(e=[e]),l(n)&&(r=function(e,t){t[n]=T(e)}),t=0;t<e.length;t++)de[e[t]]=r}function pe(e,i){fe(e,function(e,t,n,r){n._w=n._w||{},i(e,n._w,n,r)})}var he=0,ge=1,me=2,ve=3,ye=4,be=5,we=6,_e=7,Te=8;function ke(e){return De(e)?366:365}function De(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),I("year","y"),B("year",1),le("Y",re),le("YY",X,W),le("YYYY",ee,K),le("YYYYY",te,$),le("YYYYYY",te,$),fe(["YYYYY","YYYYYY"],he),fe("YYYY",function(e,t){t[he]=2===e.length?f.parseTwoDigitYear(e):T(e)}),fe("YY",function(e,t){t[he]=f.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[he]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return T(e)+(68<T(e)?1900:2e3)};var Se,xe=Ce("FullYear",!0);function Ce(t,n){return function(e){return null!=e?(Ae(this,t,e),f.updateOffset(this,n),this):Ee(this,t)}}function Ee(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ae(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&De(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Oe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?De(e)?29:28:31-n%7%2}Se=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),I("month","M"),B("month",8),le("M",X),le("MM",X,W),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[ge]=T(e)-1}),fe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ge]=i:h(n).invalidMonth=e});var Le=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ie="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Pe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=T(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Oe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Re(e){return null!=e?(je(this,e),f.updateOffset(this,!0),this):Ee(this,"Month")}var Be=ae;var Me=ae;function Ne(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=ue(r[t]),i[t]=ue(i[t]);for(t=0;t<24;t++)o[t]=ue(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function He(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Fe(e,t,n){var r=7+t-n;return r-(7+He(e,0,r).getUTCDay()-t)%7-1}function Ue(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+Fe(e,r,i);return a=s<=0?ke(o=e-1)+s:s>ke(e)?(o=e+1,s-ke(e)):(o=e,s),{year:o,dayOfYear:a}}function ze(e,t,n){var r,i,o=Fe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Ve(i=e.year()-1,t,n):a>Ve(e.year(),t,n)?(r=a-Ve(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Ve(e,t,n){var r=Fe(e,t,n),i=Fe(e+1,t,n);return(ke(e)-r+i)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),B("week",5),B("isoWeek",5),le("w",X),le("ww",X,W),le("W",X),le("WW",X,W),pe(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=T(e)});function Ye(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),B("day",11),B("weekday",11),B("isoWeekday",11),le("d",X),le("e",X),le("E",X),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),pe(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:h(n).invalidWeekday=e}),pe(["d","e","E"],function(e,t,n,r){t[r]=T(e)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Ke=ae;var $e=ae;var Xe=ae;function Je(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=ue(s[t]),l[t]=ue(l[t]),c[t]=ue(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Ze(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Qe),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+Qe.apply(this)+M(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Qe.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+M(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)}),Ze("a",!0),Ze("A",!1),I("hour","h"),B("hour",13),le("a",et),le("A",et),le("H",X),le("h",X),le("k",X),le("HH",X,W),le("hh",X,W),le("kk",X,W),le("hmm",J),le("hmmss",Q),le("Hmm",J),le("Hmmss",Q),fe(["H","HH"],ve),fe(["k","kk"],function(e,t,n){var r=T(e);t[ve]=24===r?0:r}),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[ve]=T(e),h(n).bigHour=!0}),fe("hmm",function(e,t,n){var r=e.length-2;t[ve]=T(e.substr(0,r)),t[ye]=T(e.substr(r)),h(n).bigHour=!0}),fe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=T(e.substr(0,r)),t[ye]=T(e.substr(r,2)),t[be]=T(e.substr(i)),h(n).bigHour=!0}),fe("Hmm",function(e,t,n){var r=e.length-2;t[ve]=T(e.substr(0,r)),t[ye]=T(e.substr(r))}),fe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[ve]=T(e.substr(0,r)),t[ye]=T(e.substr(r,2)),t[be]=T(e.substr(i))});var tt,nt=Ce("Hours",!0),rt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ie,monthsShort:Pe,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:Ge,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},it={},ot={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){var t=null;if(!it[e]&&void 0!==Jn&&Jn&&Jn.exports)try{t=tt._abbr,Xn("./locale/"+e),lt(t)}catch(e){}return it[e]}function lt(e,t){var n;return e&&((n=o(t)?ut(e):ct(e,t))?tt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),tt._abbr}function ct(e,t){if(null===t)return delete it[e],null;var n,r=rt;if(t.abbr=e,null!=it[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])r=it[t.parentLocale]._config;else{if(null==(n=st(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;r=n._config}return it[e]=new O(A(r,t)),ot[e]&&ot[e].forEach(function(e){ct(e.name,e.config)}),lt(e),it[e]}function ut(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!a(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=at(e[o]).split("-")).length,n=(n=at(e[o+1]))?n.split("-"):null;0<t;){if(r=st(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&k(i,n,!0)>=t-1)break;t--}o++}return tt}(e)}function dt(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ge]<0||11<n[ge]?ge:n[me]<1||n[me]>Oe(n[he],n[ge])?me:n[ve]<0||24<n[ve]||24===n[ve]&&(0!==n[ye]||0!==n[be]||0!==n[we])?ve:n[ye]<0||59<n[ye]?ye:n[be]<0||59<n[be]?be:n[we]<0||999<n[we]?we:-1,h(e)._overflowDayOfYear&&(t<he||me<t)&&(t=me),h(e)._overflowWeeks&&-1===t&&(t=_e),h(e)._overflowWeekday&&-1===t&&(t=Te),h(e).overflow=t),e}function ft(e,t,n){return null!=e?e:null!=t?t:n}function pt(e){var t,n,r,i,o,a=[];if(!e._d){for(r=function(e){var t=new Date(f.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[me]&&null==e._a[ge]&&function(e){var t,n,r,i,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=ft(t.GG,e._a[he],ze(Et(),1,4).year),r=ft(t.W,1),((i=ft(t.E,1))<1||7<i)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=ze(Et(),o,a);n=ft(t.gg,e._a[he],c.year),r=ft(t.w,c.week),null!=t.d?((i=t.d)<0||6<i)&&(l=!0):null!=t.e?(i=t.e+o,(t.e<0||6<t.e)&&(l=!0)):i=o}r<1||r>Ve(n,o,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=Ue(n,r,i,o,a),e._a[he]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=ft(e._a[he],r[he]),(e._dayOfYear>ke(o)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=He(o,0,e._dayOfYear),e._a[ge]=n.getUTCMonth(),e._a[me]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ve]&&0===e._a[ye]&&0===e._a[be]&&0===e._a[we]&&(e._nextDay=!0,e._a[ve]=0),e._d=(e._useUTC?He:function(e,t,n,r,i,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,o,a),s}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ve]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(h(e).weekdayMismatch=!0)}}var ht=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/Z|[+-]\d\d(?::?\d\d)?/,vt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,r,i,o,a,s=e._i,l=ht.exec(s)||gt.exec(s);if(l){for(h(e).iso=!0,t=0,n=vt.length;t<n;t++)if(vt[t][1].exec(l[1])){i=vt[t][0],r=!1!==vt[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(l[3])){o=(l[2]||" ")+yt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(l[4]){if(!mt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),St(e)}else e._isValid=!1}var _t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Tt(e,t,n,r,i,o){var a=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),Pe.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}var kt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t=_t.exec(function(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(t){var n=Tt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1)}(t[1],n,e))return;e._a=n,e._tzm=function(e,t,n){if(e)return kt[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return 60*((r-i)/100)+i}(t[8],t[9],t[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function St(e){if(e._f!==f.ISO_8601)if(e._f!==f.RFC_2822){e._a=[],h(e).empty=!0;var t,n,r,i,o,a,s,l,c=""+e._i,u=c.length,d=0;for(r=Y(e._f,e._locale).match(N)||[],t=0;t<r.length;t++)i=r[t],(n=(c.match(ce(i,e))||[])[0])&&(0<(o=c.substr(0,c.indexOf(n))).length&&h(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),U[i]?(n?h(e).empty=!1:h(e).unusedTokens.push(i),a=i,l=e,null!=(s=n)&&p(de,a)&&de[a](s,l._a,l,a)):e._strict&&!n&&h(e).unusedTokens.push(i);h(e).charsLeftOver=u-d,0<c.length&&h(e).unusedInput.push(c),e._a[ve]<=12&&!0===h(e).bigHour&&0<e._a[ve]&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[ve]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0)),t)}(e._locale,e._a[ve],e._meridiem),pt(e),dt(e)}else Dt(e);else wt(e)}function xt(e){var t=e._i,n=e._f;return e._locale=e._locale||ut(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(dt(t)):(c(t)?e._d=t:a(n)?function(e){var t,n,r,i,o;if(0===e._f.length)return h(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],St(t),g(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}(e):n?St(e):function(e){var t=e._i;o(t)?e._d=new Date(f.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=bt.exec(e._i);null===t?(wt(e),!1===e._isValid&&(delete e._isValid,Dt(e),!1===e._isValid&&(delete e._isValid,f.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=r(t.slice(0),function(e){return parseInt(e,10)}),pt(e)):s(t)?function(e){if(!e._d){var t=j(e._i);e._a=r([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),pt(e)}}(e):l(t)?e._d=new Date(t):f.createFromInputFallback(e)}(e),g(e)||(e._d=null),e))}function Ct(e,t,n,r,i){var o={};return!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,function(e){var t=new b(dt(xt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function Et(e,t,n,r){return Ct(e,t,n,r,!1)}f.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};var At=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Ot=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:m()});function Lt(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Pt(e){var t=j(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Se.call(It,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<It.length;++r)if(e[It[r]]){if(n)return!1;parseFloat(e[It[r]])!==T(e[It[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ut(),this._bubble()}function jt(e){return e instanceof Pt}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Bt(e,n){z(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+M(~~(e/60),2)+n+M(~~e%60,2)})}Bt("Z",":"),Bt("ZZ",""),le("Z",oe),le("ZZ",oe),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Nt(oe,e)});var Mt=/([\+\-]|\d\d)/gi;function Nt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Mt)||["-",0,0],i=60*r[1]+T(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ht(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(w(e)||c(e)?e.valueOf():Et(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),f.updateOffset(n,!1),n):Et(e).local()}function Ft(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ut(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}f.updateOffset=function(){};var zt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Yt(e,t){var n,r,i,o=e,a=null;return jt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)?(o={},t?o[t]=e:o.milliseconds=e):(a=zt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:T(a[me])*n,h:T(a[ve])*n,m:T(a[ye])*n,s:T(a[be])*n,ms:T(Rt(1e3*a[we]))*n}):(a=Vt.exec(e))?(n="-"===a[1]?-1:1,o={y:qt(a[2],n),M:qt(a[3],n),w:qt(a[4],n),d:qt(a[5],n),h:qt(a[6],n),m:qt(a[7],n),s:qt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Ht(t,e),e.isBefore(t)?n=Wt(e,t):((n=Wt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Et(o.from),Et(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Pt(o),jt(e)&&p(e,"_locale")&&(r._locale=e._locale),r}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=t-e.clone().add(n.months,"M"),n}function Gt(r,i){return function(e,t){var n;return null===t||isNaN(+t)||(C(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Kt(this,Yt(e="string"==typeof e?+e:e,t),r),this}}function Kt(e,t,n,r){var i=t._milliseconds,o=Rt(t._days),a=Rt(t._months);e.isValid()&&(r=null==r||r,a&&je(e,Ee(e,"Month")+a*n),o&&Ae(e,"Date",Ee(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&f.updateOffset(e,o||a))}Yt.fn=Pt.prototype,Yt.invalid=function(){return Yt(NaN)};var $t=Gt(1,"add"),Xt=Gt(-1,"subtract");function Jt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(1+n,"months")-r)))||0}function Qt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ut(e))&&(this._locale=t),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Zt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function en(){return this._locale}var tn=126227808e5;function nn(e,t){return(e%t+t)%t}function rn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-tn:new Date(e,t,n).valueOf()}function on(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-tn:Date.UTC(e,t,n)}function an(e,t){z(0,[e,e.length],0,t)}function sn(e,t,n,r,i){var o;return null==e?ze(this,r,i).year:((o=Ve(e,r,i))<t&&(t=o),function(e,t,n,r,i){var o=Ue(e,t,n,r,i),a=He(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),an("gggg","weekYear"),an("ggggg","weekYear"),an("GGGG","isoWeekYear"),an("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),B("weekYear",1),B("isoWeekYear",1),le("G",re),le("g",re),le("GG",X,W),le("gg",X,W),le("GGGG",ee,K),le("gggg",ee,K),le("GGGGG",te,$),le("ggggg",te,$),pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=T(e)}),pe(["gg","GG"],function(e,t,n,r){t[r]=f.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),I("quarter","Q"),B("quarter",7),le("Q",q),fe("Q",function(e,t){t[ge]=3*(T(e)-1)}),z("D",["DD",2],"Do","date"),I("date","D"),B("date",9),le("D",X),le("DD",X,W),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],me),fe("Do",function(e,t){t[me]=T(e.match(X)[0])});var ln=Ce("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),B("dayOfYear",4),le("DDD",Z),le("DDDD",G),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=T(e)}),z("m",["mm",2],0,"minute"),I("minute","m"),B("minute",14),le("m",X),le("mm",X,W),fe(["m","mm"],ye);var cn=Ce("Minutes",!1);z("s",["ss",2],0,"second"),I("second","s"),B("second",15),le("s",X),le("ss",X,W),fe(["s","ss"],be);var un,dn=Ce("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),I("millisecond","ms"),B("millisecond",16),le("S",Z,q),le("SS",Z,W),le("SSS",Z,G),un="SSSS";un.length<=9;un+="S")le(un,ne);function fn(e,t){t[we]=T(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")fe(un,fn);var pn=Ce("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var hn=b.prototype;function gn(e){return e}hn.add=$t,hn.calendar=function(e,t){var n=e||Et(),r=Ht(n,this).startOf("day"),i=f.calendarFormat(this,r)||"sameElse",o=t&&(E(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Et(n)))},hn.clone=function(){return new b(this)},hn.diff=function(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ht(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=P(t)){case"year":o=Jt(this,r)/12;break;case"month":o=Jt(this,r);break;case"quarter":o=Jt(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:_(o)},hn.endOf=function(e){var t;if(void 0===(e=P(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?on:rn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-nn(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-nn(t,1e3)-1}return this._d.setTime(t),f.updateOffset(this,!0),this},hn.format=function(e){e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat);var t=V(this,e);return this.localeData().postformat(t)},hn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Et(e).isValid())?Yt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},hn.fromNow=function(e){return this.from(Et(),e)},hn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Et(e).isValid())?Yt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},hn.toNow=function(e){return this.to(Et(),e)},hn.get=function(e){return E(this[e=P(e)])?this[e]():this},hn.invalidAt=function(){return h(this).overflow},hn.isAfter=function(e,t){var n=w(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=P(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},hn.isBefore=function(e,t){var n=w(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=P(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},hn.isBetween=function(e,t,n,r){var i=w(e)?e:Et(e),o=w(t)?t:Et(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n)))},hn.isSame=function(e,t){var n,r=w(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=P(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},hn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},hn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},hn.isValid=function(){return g(this)},hn.lang=Zt,hn.locale=Qt,hn.localeData=en,hn.max=Ot,hn.min=At,hn.parsingFlags=function(){return u({},h(this))},hn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=j(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(E(this[e=P(e)]))return this[e](t);return this},hn.startOf=function(e){var t;if(void 0===(e=P(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?on:rn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=nn(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=nn(t,6e4);break;case"second":t=this._d.valueOf(),t-=nn(t,1e3)}return this._d.setTime(t),f.updateOffset(this,!0),this},hn.subtract=Xt,hn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},hn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},hn.toDate=function(){return new Date(this.valueOf())},hn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?V(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",V(n,"Z")):V(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hn.year=xe,hn.isLeapYear=function(){return De(this.year())},hn.weekYear=function(e){return sn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hn.isoWeekYear=function(e){return sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},hn.quarter=hn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},hn.month=Re,hn.daysInMonth=function(){return Oe(this.year(),this.month())},hn.week=hn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},hn.isoWeek=hn.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},hn.weeksInYear=function(){var e=this.localeData()._week;return Ve(this.year(),e.dow,e.doy)},hn.isoWeeksInYear=function(){return Ve(this.year(),1,4)},hn.date=ln,hn.day=hn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},hn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},hn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)},hn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},hn.hour=hn.hours=nt,hn.minute=hn.minutes=cn,hn.second=hn.seconds=dn,hn.millisecond=hn.milliseconds=pn,hn.utcOffset=function(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Ft(this);if("string"==typeof e){if(null===(e=Nt(oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Kt(this,Yt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},hn.utc=function(e){return this.utcOffset(0,e)},hn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},hn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Nt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},hn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},hn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hn.isLocal=function(){return!!this.isValid()&&!this._isUTC},hn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hn.isUtc=Ut,hn.isUTC=Ut,hn.zoneAbbr=function(){return this._isUTC?"UTC":""},hn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hn.dates=n("dates accessor is deprecated. Use date instead.",ln),hn.months=n("months accessor is deprecated. Use month instead",Re),hn.years=n("years accessor is deprecated. Use year instead",xe),hn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),hn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=xt(e))._a){var t=e._isUTC?d(e._a):Et(e._a);this._isDSTShifted=this.isValid()&&0<k(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var mn=O.prototype;function vn(e,t,n,r){var i=ut(),o=d().set(r,t);return i[n](o,e)}function yn(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return vn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=vn(e,r,n,"month");return i}function bn(e,t,n,r){t=("boolean"==typeof e?l(t)&&(n=t,t=void 0):(t=e,e=!1,l(n=t)&&(n=t,t=void 0)),t||"");var i,o=ut(),a=e?o._week.dow:0;if(null!=n)return vn(t,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=vn(t,(i+a)%7,r,"day");return s}mn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=gn,mn.postformat=gn,mn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)E(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Le).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Le.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,a))?i:null:-1!==(i=Se.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Se.call(this._shortMonthsParse,a))?i:-1!==(i=Se.call(this._longMonthsParse,a))?i:null:-1!==(i=Se.call(this._longMonthsParse,a))?i:-1!==(i=Se.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},mn.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Me),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Be),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return ze(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ye(n,this._week.dow):e?n[e.day()]:n},mn.weekdaysMin=function(e){return!0===e?Ye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return!0===e?Ye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Se.call(this._weekdaysParse,a))?i:-1!==(i=Se.call(this._shortWeekdaysParse,a))?i:-1!==(i=Se.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Se.call(this._shortWeekdaysParse,a))?i:-1!==(i=Se.call(this._weekdaysParse,a))?i:-1!==(i=Se.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Se.call(this._minWeekdaysParse,a))?i:-1!==(i=Se.call(this._weekdaysParse,a))?i:-1!==(i=Se.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=$e),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},lt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===T(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=n("moment.lang is deprecated. Use moment.locale instead.",lt),f.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ut);var wn=Math.abs;function _n(e,t,n,r){var i=Yt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Tn(e){return e<0?Math.floor(e):Math.ceil(e)}function kn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function Sn(e){return function(){return this.as(e)}}var xn=Sn("ms"),Cn=Sn("s"),En=Sn("m"),An=Sn("h"),On=Sn("d"),Ln=Sn("w"),In=Sn("M"),Pn=Sn("Q"),jn=Sn("y");function Rn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Rn("milliseconds"),Mn=Rn("seconds"),Nn=Rn("minutes"),Hn=Rn("hours"),Fn=Rn("days"),Un=Rn("months"),zn=Rn("years");var Vn=Math.round,Yn={ss:44,s:45,m:45,h:22,d:26,M:11};function qn(e,t,n){var r=Yt(e).abs(),i=Vn(r.as("s")),o=Vn(r.as("m")),a=Vn(r.as("h")),s=Vn(r.as("d")),l=Vn(r.as("M")),c=Vn(r.as("y")),u=i<=Yn.ss&&["s",i]||i<Yn.s&&["ss",i]||o<=1&&["m"]||o<Yn.m&&["mm",o]||a<=1&&["h"]||a<Yn.h&&["hh",a]||s<=1&&["d"]||s<Yn.d&&["dd",s]||l<=1&&["M"]||l<Yn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=0<+e,u[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,u)}var Wn=Math.abs;function Gn(e){return(0<e)-(e<0)||+e}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Wn(this._milliseconds)/1e3,r=Wn(this._days),i=Wn(this._months);t=_((e=_(n/60))/60),n%=60,e%=60;var o=_(i/12),a=i%=12,s=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=Gn(this._months)!==Gn(d)?"-":"",h=Gn(this._days)!==Gn(d)?"-":"",g=Gn(this._milliseconds)!==Gn(d)?"-":"";return f+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(s?h+s+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var $n=Pt.prototype;return $n.isValid=function(){return this._isValid},$n.abs=function(){var e=this._data;return this._milliseconds=wn(this._milliseconds),this._days=wn(this._days),this._months=wn(this._months),e.milliseconds=wn(e.milliseconds),e.seconds=wn(e.seconds),e.minutes=wn(e.minutes),e.hours=wn(e.hours),e.months=wn(e.months),e.years=wn(e.years),this},$n.add=function(e,t){return _n(this,e,t,1)},$n.subtract=function(e,t){return _n(this,e,t,-1)},$n.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=P(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+kn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},$n.asMilliseconds=xn,$n.asSeconds=Cn,$n.asMinutes=En,$n.asHours=An,$n.asDays=On,$n.asWeeks=Ln,$n.asMonths=In,$n.asQuarters=Pn,$n.asYears=jn,$n.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*T(this._months/12):NaN},$n._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*Tn(Dn(s)+a),s=a=0),l.milliseconds=o%1e3,e=_(o/1e3),l.seconds=e%60,t=_(e/60),l.minutes=t%60,n=_(t/60),l.hours=n%24,s+=i=_(kn(a+=_(n/24))),a-=Tn(Dn(i)),r=_(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},$n.clone=function(){return Yt(this)},$n.get=function(e){return e=P(e),this.isValid()?this[e+"s"]():NaN},$n.milliseconds=Bn,$n.seconds=Mn,$n.minutes=Nn,$n.hours=Hn,$n.days=Fn,$n.weeks=function(){return _(this.days()/7)},$n.months=Un,$n.years=zn,$n.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=qn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},$n.toISOString=Kn,$n.toString=Kn,$n.toJSON=Kn,$n.locale=Qt,$n.localeData=en,$n.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),$n.lang=Zt,z("X",0,0,"unix"),z("x",0,0,"valueOf"),le("x",re),le("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(T(e))}),f.version="2.24.0",e=Et,f.fn=hn,f.min=function(){return Lt("isBefore",[].slice.call(arguments,0))},f.max=function(){return Lt("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=d,f.unix=function(e){return Et(1e3*e)},f.months=function(e,t){return yn(e,t,"months")},f.isDate=c,f.locale=lt,f.invalid=m,f.duration=Yt,f.isMoment=w,f.weekdays=function(e,t,n){return bn(e,t,n,"weekdays")},f.parseZone=function(){return Et.apply(null,arguments).parseZone()},f.localeData=ut,f.isDuration=jt,f.monthsShort=function(e,t){return yn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return bn(e,t,n,"weekdaysMin")},f.defineLocale=ct,f.updateLocale=function(e,t){if(null!=t){var n,r,i=rt;null!=(r=st(e))&&(i=r._config),(n=new O(t=A(i,t))).parentLocale=it[e],it[e]=n,lt(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},f.locales=function(){return S(it)},f.weekdaysShort=function(e,t,n){return bn(e,t,n,"weekdaysShort")},f.normalizeUnits=P,f.relativeTimeRounding=function(e){return void 0===e?Vn:"function"==typeof e&&(Vn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==Yn[e]&&(void 0===t?Yn[e]:(Yn[e]=t,"s"===e&&(Yn.ss=t-1),!0))},f.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},f.prototype=hn,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},f},"object"==typeof e&&void 0!==Jn?Jn.exports=n():t.moment=n()},{}],"node_modules/promise-polyfill/lib/index.js":[function(e,f,t){(function(t){"use strict";var n=setTimeout;function l(e){return Boolean(e&&void 0!==e.length)}function r(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function i(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,o._immediateFn(function(){var e=1===n._state?r.onFulfilled:r.onRejected;if(null!==e){var t;try{t=e(n._value)}catch(e){return void s(r.promise,e)}a(r.promise,t)}else(1===n._state?a:s)(r.promise,n._value)})):n._deferreds.push(r)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void d(function(e,t){return function(){e.apply(t,arguments)}}(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)i(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(r);return i(this,new u(e,t,n)),n},o.prototype.finally=function(t){var n=this.constructor;return this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){return n.reject(e)})})},o.all=function(t){return new o(function(r,i){if(!l(t))return i(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(t);if(0===o.length)return r([]);var a=o.length;function s(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){s(t,e)},i)}o[t]=e,0==--a&&r(o)}catch(e){i(e)}}for(var e=0;e<o.length;e++)s(e,o[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(i){return new o(function(e,t){if(!l(i))return t(new TypeError("Promise.race accepts an array"));for(var n=0,r=i.length;n<r;n++)o.resolve(i[n]).then(e,t)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){n(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},f.exports=o}).call(this,e("timers").setImmediate)},{timers:"lib/cti.tools/node_modules/timers-browserify/main.js"}],"node_modules/ua-parser-js/src/ua-parser.js":[function(e,_,T){!function(i,d){"use strict";var e="undefined",t="model",n="name",r="type",o="vendor",a="version",s="architecture",l="console",c="mobile",u="tablet",f="smarttv",p="wearable",h={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:d},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},g={rgx:function(e,t){for(var n,r,i,o,a,s,l=0;l<t.length&&!a;){var c=t[l],u=t[l+1];for(n=r=0;n<c.length&&!a;)if(a=c[n++].exec(e))for(i=0;i<u.length;i++)s=a[++r],"object"==typeof(o=u[i])&&0<o.length?2==o.length?"function"==typeof o[1]?this[o[0]]=o[1].call(this,s):this[o[0]]=o[1]:3==o.length?"function"!=typeof o[1]||o[1].exec&&o[1].test?this[o[0]]=s?s.replace(o[1],o[2]):d:this[o[0]]=s?o[1].call(this,s,o[2]):d:4==o.length&&(this[o[0]]=s?o[3].call(this,s.replace(o[1],o[2])):d):this[o]=s||d;l+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&0<t[n].length){for(var r=0;r<t[n].length;r++)if(h.has(t[n][r],e))return"?"===n?d:n}else if(h.has(t[n],e))return"?"===n?d:n;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},v={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,a],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],a],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],a],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[n,a],[/(konqueror)\/([\w\.]+)/i],[[n,"Konqueror"],a],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],a],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],a],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],a],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],a],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],a],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],a],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],a],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],a],[/(windowswechat qbcore)\/([\w\.]+)/i],[[n,"WeChat(Win) Desktop"],a],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],a],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],a],[/(qqbrowserlite)\/([\w\.]+)/i],[n,a],[/(QQ)\/([\d\.]+)/i],[n,a],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,a],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,a],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,a],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[a,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[a,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,a],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[a,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],a],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],a],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[a,[n,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[n,"Sailfish Browser"],a],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,a],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],a],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],a],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],a],[/fxios\/([\w\.-]+)/i],[a,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[a,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[a,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[a,g.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[n,a],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[s,/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[s,h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[t,o,[r,u]],[/applecoremedia\/[\w\.]+ \((ipad)/],[t,[o,"Apple"],[r,u]],[/(apple\s{0,1}tv)/i],[[t,"Apple TV"],[o,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[o,t,[r,u]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[t,[o,"Amazon"],[r,u]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[t,g.str,m.device.amazon.model],[o,"Amazon"],[r,c]],[/android.+aft([bms])\sbuild/i],[t,[o,"Amazon"],[r,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[t,o,[r,c]],[/\((ip[honed|\s\w*]+);/i],[t,[o,"Apple"],[r,c]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[o,t,[r,c]],[/\(bb10;\s(\w+)/i],[t,[o,"BlackBerry"],[r,c]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[t,[o,"Asus"],[r,u]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[o,"Sony"],[t,"Xperia Tablet"],[r,u]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[t,[o,"Sony"],[r,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[o,t,[r,l]],[/android.+;\s(shield)\sbuild/i],[t,[o,"Nvidia"],[r,l]],[/(playstation\s[34portablevi]+)/i],[t,[o,"Sony"],[r,l]],[/(sprint\s(\w+))/i],[[o,g.str,m.device.sprint.vendor],[t,g.str,m.device.sprint.model],[r,c]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[o,[t,/_/g," "],[r,c]],[/(nexus\s9)/i],[t,[o,"HTC"],[r,u]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[t,[o,"Huawei"],[r,c]],[/(microsoft);\s(lumia[\s\w]+)/i],[o,t,[r,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[t,[o,"Microsoft"],[r,l]],[/(kin\.[onetw]{3})/i],[[t,/\./g," "],[o,"Microsoft"],[r,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[t,[o,"Motorola"],[r,c]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[t,[o,"Motorola"],[r,u]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[o,h.trim],[t,h.trim],[r,f]],[/hbbtv.+maple;(\d+)/i],[[t,/^/,"SmartTV"],[o,"Samsung"],[r,f]],[/\(dtv[\);].+(aquos)/i],[t,[o,"Sharp"],[r,f]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[o,"Samsung"],t,[r,u]],[/smart-tv.+(samsung)/i],[o,[r,f],t],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[o,"Samsung"],t,[r,c]],[/sie-(\w*)/i],[t,[o,"Siemens"],[r,c]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[o,"Nokia"],t,[r,c]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[t,[o,"Acer"],[r,u]],[/android.+([vl]k\-?\d{3})\s+build/i],[t,[o,"LG"],[r,u]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[o,"LG"],t,[r,u]],[/(lg) netcast\.tv/i],[o,t,[r,f]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[t,[o,"LG"],[r,c]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[o,t,[r,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[t,[o,"Lenovo"],[r,u]],[/(lenovo)[_\s-]?([\w-]+)/i],[o,t,[r,c]],[/linux;.+((jolla));/i],[o,t,[r,c]],[/((pebble))app\/[\d\.]+\s/i],[o,t,[r,p]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[o,t,[r,c]],[/crkey/i],[[t,"Chromecast"],[o,"Google"]],[/android.+;\s(glass)\s\d/i],[t,[o,"Google"],[r,p]],[/android.+;\s(pixel c)[\s)]/i],[t,[o,"Google"],[r,u]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[t,[o,"Google"],[r,c]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[o,"Xiaomi"],[r,c]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[t,/_/g," "],[o,"Xiaomi"],[r,u]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[t,[o,"Meizu"],[r,c]],[/(mz)-([\w-]{2,})/i],[[o,"Meizu"],t,[r,c]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[t,[o,"OnePlus"],[r,c]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[t,[o,"RCA"],[r,u]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[t,[o,"Dell"],[r,u]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[t,[o,"Verizon"],[r,u]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[o,"Barnes & Noble"],t,[r,u]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[t,[o,"NuVision"],[r,u]],[/android.+;\s(k88)\sbuild/i],[t,[o,"ZTE"],[r,u]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[t,[o,"Swiss"],[r,c]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[t,[o,"Swiss"],[r,u]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[t,[o,"Zeki"],[r,u]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[o,"Dragon Touch"],t,[r,u]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[t,[o,"Insignia"],[r,u]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[t,[o,"NextBook"],[r,u]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[o,"Voice"],t,[r,c]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[o,"LvTel"],t,[r,c]],[/android.+;\s(PH-1)\s/i],[t,[o,"Essential"],[r,c]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[t,[o,"Envizen"],[r,u]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[o,t,[r,u]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[t,[o,"MachSpeed"],[r,u]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[o,t,[r,u]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[t,[o,"Rotor"],[r,u]],[/android.+(KS(.+))\s+build/i],[t,[o,"Amazon"],[r,u]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[o,t,[r,u]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[r,h.lowerize],o,t],[/[\s\/\(](smart-?tv)[;\)]/i],[[r,f]],[/(android[\w\.\s\-]{0,9});.+build/i],[t,[o,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[a,[n,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)/i],[[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,a],[/rv\:([\w\.]{1,9}).+(gecko)/i],[a,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,a],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[a,g.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[a,g.str,m.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],a],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[n,a],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],a],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],a],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,a],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],a],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],a],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,a],[/(haiku)\s(\w+)/i],[n,a],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[a,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[a,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,a]]},y=function(e,t){if("object"==typeof e&&(t=e,e=d),!(this instanceof y))return new y(e,t).getResult();var n=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?h.extend(v,t):v;return this.getBrowser=function(){var e={name:d,version:d};return g.rgx.call(e,n,r.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:d};return g.rgx.call(e,n,r.cpu),e},this.getDevice=function(){var e={vendor:d,model:d,type:d};return g.rgx.call(e,n,r.device),e},this.getEngine=function(){var e={name:d,version:d};return g.rgx.call(e,n,r.engine),e},this.getOS=function(){var e={name:d,version:d};return g.rgx.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};y.VERSION="0.7.20",y.BROWSER={NAME:n,MAJOR:"major",VERSION:a},y.CPU={ARCHITECTURE:s},y.DEVICE={MODEL:t,VENDOR:o,TYPE:r,CONSOLE:l,MOBILE:c,SMARTTV:f,TABLET:u,WEARABLE:p,EMBEDDED:"embedded"},y.ENGINE={NAME:n,VERSION:a},y.OS={NAME:n,VERSION:a},typeof T!=e?(typeof _!=e&&_.exports&&(T=_.exports=y),T.UAParser=y):i&&(i.UAParser=y);var b=i&&(i.jQuery||i.Zepto);if(typeof b!=e&&!b.ua){var w=new y;b.ua=w.getResult(),b.ua.get=function(){return w.getUA()},b.ua.set=function(e){w.setUA(e);var t=w.getResult();for(var n in t)b.ua[n]=t[n]}}}("object"==typeof window?window:this)},{}]},{},["lib/cti.sdk/sdk.js~.normalized.js"])("lib/cti.sdk/sdk.js~.normalized.js")});var n=window.module&&window.module.exports||r.exports;return window.module=void 0!==e?e:void 0,r=void 0!==t?t:void 0,_CTI_PLUGIN_IMPL.live_preview=n}()({"#build1":{buildTime:parseInt("1597432524124")||0,csBuildVersion:"0.3.0",debugEnabled:!1,buildConfig:rn.parse("{}"),iwsHostname:"",loadingFromIWS:!1,vendorAlias:"ctlite_adslots",vendorHash:"533bc65",staticHostname:"static.clicktripz.com",imagesHostname:"images.clicktripz.com",releaseHostname:"static.clicktripz.com",ctScriptUrl:null,ctiScriptUrl:"//static.clicktripz.com/custom/ctlite_adslots/cti_ctlite_adslots.js",ownScriptPath:"custom/ctlite_adslots/"},bootOptions:{isSelfOrchestrated:!0},"#plugin-dependency-map1":{"ids":{"config":"plugins/cti1/config","policy-engine":"plugins/cti1/policy-engine","cti1lib":"plugins/cti1/cti1lib","watcher":"plugins/cti1/watcher","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config":"plugins/cti1/config","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns":"plugins/cti1/campaigns","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-popunder":"plugins/cti1/popunder","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config":"plugins/cti1/config","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns":"plugins/cti1/campaigns","__adslot-containers":"plugins/helper/PlacementContainer","__adslot-config":"plugins/cti1/config","__adslot-creatives":"plugins/cti1/creatives","__adslot-placements":"plugins/helper/InsertPlacement","__adslot-products":"plugins/cti1/products","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config":"plugins/cti1/config","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns":"plugins/cti1/campaigns","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config":"plugins/cti1/config","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns":"plugins/cti1/campaigns"},"varMap":{"config":[],"policy-engine":[],"cti1lib":[[["#cti1"],"config",["#cti1"]]],"watcher":[[["#cti1lib"],"cti1lib",["cti1lib"]],[["pageType"],"policy-engine",["pageType"]]],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config":[[["isAdSlotEligible"],"policy-engine",["isAdSlotEligible"]]],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns":[[["search"],"watcher",["#cti1","search"]],[["#cti1"],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config",["#cti1"]]],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-popunder":[[["#cti1"],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config",["#cti1"]],[["comparison"],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns",["#cti1","comparison"]],[["searchEvents"],"watcher",["#cti1","searchEvents"]]],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config":[[["isAdSlotEligible"],"policy-engine",["isAdSlotEligible"]]],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns":[[["#cti1"],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config",["#cti1"]],[["search"],"watcher",["#cti1","search"]]],"__adslot-containers":[],"__adslot-config":[],"__adslot-creatives":[],"__adslot-placements":[[["#cti1"],"__adslot-config",["#cti1"]],[["#cti1"],"__adslot-containers",["#cti1"]],[["#cti1"],"__adslot-creatives",["#cti1"]]],"__adslot-products":[[["#cti1"],"__adslot-config",["#cti1"]],[["#cti1"],"__adslot-placements",["#cti1"]],[["sets","36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox","data","campaigns"],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns",["#cti1","campaigns"]],[["sets","36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox","data","search"],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns",["#cti1","search"]],[["sets","36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox","data","comparison"],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns",["#cti1","comparison"]],[["sets","d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox","data","campaigns"],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns",["#cti1","campaigns"]],[["sets","d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox","data","search"],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns",["#cti1","search"]],[["sets","d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox","data","comparison"],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns",["#cti1","comparison"]],[["sets","0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox","data","campaigns"],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns",["#cti1","campaigns"]],[["sets","0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox","data","search"],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns",["#cti1","search"]],[["sets","0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox","data","comparison"],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns",["#cti1","comparison"]]],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config":[[["isAdSlotEligible"],"policy-engine",["isAdSlotEligible"]]],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns":[[["#cti1"],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config",["#cti1"]],[["search"],"watcher",["#cti1","search"]]],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config":[[["isAdSlotEligible"],"policy-engine",["isAdSlotEligible"]]],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns":[[["#cti1"],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config",["#cti1"]],[["search"],"watcher",["#cti1","search"]]]},"type":{"config":"boot","policy-engine":"boot","cti1lib":"boot","watcher":"boot","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config":"boot","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns":"boot","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-popunder":"boot","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config":"boot","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns":"boot","__adslot-containers":"boot","__adslot-config":"boot","__adslot-creatives":"boot","__adslot-placements":"boot","__adslot-products":"boot","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config":"boot","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns":"boot","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config":"boot","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns":"boot"},"deps":{"config":[],"policy-engine":[],"cti1lib":["config"],"watcher":["cti1lib","policy-engine"],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config":["policy-engine"],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns":["watcher","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config"],"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-popunder":["__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config","__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns","watcher"],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config":["policy-engine"],"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns":["__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config","watcher"],"__adslot-containers":[],"__adslot-config":[],"__adslot-creatives":[],"__adslot-placements":["__adslot-config","__adslot-containers","__adslot-creatives"],"__adslot-products":["__adslot-config","__adslot-placements","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns"],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config":["policy-engine"],"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns":["__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config","watcher"],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config":["policy-engine"],"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns":["__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config","watcher"]},"loadLayers":[["config","policy-engine"],["cti1lib"],["watcher"],["__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config","__adslot-containers","__adslot-config","__adslot-creatives"],["__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config","__adslot-placements","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config"],["__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-popunder","__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns","__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns","__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns"],["__adslot-products"]]}},function(){return{config:{_impl:function(){var e=window.module,t=r;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(t.module={})).exports=e()}}(function(){return function r(c,a,l){function s(t,e){if(!a[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var i=a[t]={exports:{}};c[t][0].call(i.exports,function(e){return s(c[t][1][e]||e)},i,i.exports,r,c,a,l)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)s(l[e]);return s}({"lib/cti.sdk/plugins/cti1/client-event-tracker.js":[function(e,t,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.DOCS=function(){},n.forSDK=function(t){return function(e){return c(t,e)}};var o,i,r,c=(i=!(o=function(r,i){var t=r.LIB.LODASH.get(i,"events",{});if(0!==Object.keys(t).map(function(e){return t[e]}).filter(function(e){return e.length}).length){var e=r.LIB.COOKIE.get("_ctuid"),n=r.LIB.COOKIE.get("_ctpuid"),c=0,o="https://n3.clicktripz.com/ue/v0/";if(/clicktripz/.test(r.LIB.config["#cti1"].endpoints.www.hostUri)||(o=r.LIB.config["#cti1"].endpoints.www.protocol+r.LIB.config["#cti1"].endpoints.www.hostUri+"/n3/ue/v0"),e||n){var a=i.options||{};if(a&&a.throttle?(r.LIB.ASSERT(0<=a.throttle,!0,"If throttling, the throttle option MUST be greater than 0"),r.LIB.ASSERT(a.throttle<1,!0,"If throttling, the throttle option MUST be less than 1")):a.throttle=0,a&&a.maxEvents?r.LIB.ASSERT("number"==typeof a.maxEvents,"If setting maxEvents, the value must be a number"):a.maxEvents=50,a&&a.maxBufferDuration?r.LIB.ASSERT(f(a.maxBufferDuration),"number","If setting a bufferDuration, it must be a number (in milliseconds)"):a.maxBufferDuration=3e4,r.LIB.logger.debug("[client-event-tracker]","throttling at",a.throttle),Math.random()<a.throttle&&!/ctPreview=true/.test(r.LIB.dom.window.location.search))r.LIB.logger.debug("[client-event-tracker]","consider yourself throttled",a.throttle);else{var l={ctx:{_ctzuid:e,_ctzpuid:n,vendorAlias:r.LIB.LODASH.get(r.LIB.config,"#cti1.publisher.alias"),userAgent:{raw:r.LIB.UA.getAgentString(),browserClass:r.LIB.UA.getBrowserName(),browserVersion:r.LIB.UA.getBrowser(),device:r.LIB.UA.getDeviceType(),os:r.LIB.UA.getOS()},page:{}},events:[]},s=(r.LIB.JSON.internalize(i.pageType),!1),u={mouse:{target:r.LIB.dom.document},form:{target:r.LIB.dom.document.forms},window:{target:r.LIB.dom.window}};r.LIB.event.channels.page.on("page-type",function(e){var t=!!(e&&e.watcherConfig?e.watcherConfig:{}).enableBackgroundClick,n=r.LIB.dom.document.body,o=r.LIB.dom.document.documentElement;l.ctx.page={pageviewuuid:r.LIB.COOKIE.get("_pageviewUUID")||"",bgClicksEnabled:t,protocol:r.LIB.dom.window.location.protocol,domain:r.LIB.dom.window.location.host,path:r.LIB.dom.window.location.pathname,search:r.LIB.dom.window.location.search,hash:r.LIB.dom.window.location.hash,screenWidth:r.LIB.dom.window.screen.width,screenHeight:r.LIB.dom.window.screen.height,viewportWidth:r.LIB.dom.window.innerWidth,viewportHeight:r.LIB.dom.window.innerHeight,documentWidth:Math.max(n.scrollWidth,n.offsetWidth,o.clientWidth,o.scrollWidth,o.offsetWidth),documentHeight:Math.max(n.scrollHeight,n.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight)},s||(setInterval(function(){d(l)},a.maxBufferDuration),Object.keys(i.events).forEach(function(t){"mouse"===t&&i.events[t].forEach(function(e){u[t].target.addEventListener(e,r.LIB.LODASH.debounce(function(e){if(c<=a.maxEvents){c++,r.LIB.logger.debug("[client-event-tracker]","event count: ",c);var t=function(i){var e=function(){for(var e=i.target,t=g(i.target),n=0,o=!1;n<3;){if(!e)return null;if(o="HTML"==e.nodeName,e=e.parentElement)t=g(e)+" > "+t;if(n++,o)return t}return t}();if(r.LIB.logger.debug("[client-event-tracker]","target element",e||"removed from dom"),!e)return null;var t=[i.type,{selector:e,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY}];return r.LIB.logger.debug("[client-event-tracker]","single event object",t),t}(e);t&&l.events.push(t),function(e){var t=0<arguments.length&&void 0!==e?e:12;r.LIB.logger.debug("[client-event-tracker]","checkBuffer()","currentData obj",l),l.events.length>=t&&d(l)}(a.maxBufferSize)}else r.LIB.logger.debug("[client-event-tracker]","max events sent: ",c)},500,!0),!0)})}),s=!0)}),r.LIB.dom.window.addEventListener("unload",function(){c<a.maxEvents&&l.events.length&&(r.LIB.dom.window.navigator.sendBeacon?(r.LIB.dom.window.navigator.sendBeacon(o,JSON.stringify(l)),l.events=[]):d(l,!0))})}}else r.LIB.logger.debug("missing both ctuid and ctpid")}else r.LIB.logger.debug("browser-event-tracker requires an event object WITH an array of events");function d(t,e){var n=1<arguments.length&&void 0!==e&&e;if(t.events.length)return r.LIB.logger.debug("[client-event-tracker]","payload",t),r.LIB.endpoint.call({url:o,json:t,method:"POST",sync:n}).then(function(e){return r.LIB.logger.debug("[client-event-tracker]","eventData sent!",e),null}).catch(function(e){return r.LIB.logger.error("[client-event-tracker] failed to send :: "+JSON.stringify(t)+" :: "+e),null}).then(function(){t.events=[],r.LIB.logger.debug("[client-event-tracker]","clearData() should have a size of 0:",t.events.length)});r.LIB.logger.debug("[client-event-tracker]","abort send, no user events",t)}function g(e){var t=e.tagName;e.id&&(t+="#"+e.id),e.className&&(t+="."+e.className.trim().split(" ").join("."));return t}}),r=void 0,function(){return i?r:(i=!0,r=o.apply(this,arguments))})},{}],"lib/cti.sdk/plugins/cti1/config.js~.normalized.js":[function(u,e,t){"use strict";t.forSDK=function(l){var s=l.console;return function(e){void 0!==window._CTZ&&(e=l.LIB.LODASH.merge(e,{"#cti1":window._CTZ})),(e=l.LIB.LODASH.merge({},{"#cti1":{options:{displayDebugTools:l.LIB.config.options.displayDebugTools}}},{"#cti1":l.config["#cti1"]},e,l.LIB._bootOptions&&l.LIB._bootOptions["#cti1[ALWAYS]"]||{}))["#cti1"].charset=e["#cti1"].charset||null,l.LIB.makeCookieOption(e["#cti1"],"CTI_FORCE_CHARSET","charset","string"),l.LIB.makeCookieOption(e["#cti1"],"CTI_FORCE_NO_CAPS","forceNoCaps","boolean"),l.LIB.makeCookieOption(e["#cti1"].options,"CTI_GATE","gates","object"),l.LIB.makeCookieOption(e["#cti1"].options,"CTI_FORCE_CREATIVES_OVERRIDE","creativesOverride","object"),l.LIB.makeCookieOption(e["#cti1"].options,"CTI_FORCE_WINDOW_CTZ_OVERRIDE","windowCTZOverride","object"),e=l.LIB.LODASH.merge(e,{"#cti1":e["#cti1"].options.windowCTZOverride||{}});var t=l.LIB.LODASH.get(e,["#cti1","browser-event-tracker"]);t&&u("cti.sdk/plugins/cti1/client-event-tracker").forSDK(l)(t);var n=e["#cti1"].adslot;n&&l.LIB.LODASH.set(e,["#cti1","comparison","useAdServer"],!0);var o=e.isAdSlotEligible&&l.LIB.JSON.internalize(e.isAdSlotEligible);if(n&&o){var i=o(n);s.log("config",n["@id"],"isAdSlotEligible: "+i),l.LIB.LODASH.set(e,["#cti1","isAdSlotEligible"],i)}var r=l.LIB.LODASH.get(window,["_CTZG","bootloader","constrain","data","PublisherMetadataModule"],{}),c=l.LIB.LODASH.get(r,"publisherAlias"),a=l.LIB.LODASH.get(r,"siteName");return l.LIB.LODASH.set(e,["#cti1","publisher"],l.LIB.LODASH.merge({},l.LIB.LODASH.get(e,["#cti1","publisher"]),r,{alias:c||a})),e}}},{"cti.sdk/plugins/cti1/client-event-tracker":"lib/cti.sdk/plugins/cti1/client-event-tracker.js"}]},{},["lib/cti.sdk/plugins/cti1/config.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/config.js~.normalized.js")});var n=window.module&&window.module.exports||r.exports;return window.module=void 0!==e?e:void 0,r=void 0!==t?t:void 0,_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/config"]=n}(),"#cti1":{}},"policy-engine":{_impl:function(){var e=window.module,t=r;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;((n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(n.module={})).exports=e()}}(function(){return function i(u,a,c){function l(n,e){if(!a[n]){if(!u[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(g)return g(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var o=a[n]={exports:{}};u[n][0].call(o.exports,function(e){return l(u[n][1][e]||e)},o,o.exports,i,u,a,c)}return a[n].exports}for(var g="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({"lib/cti.sdk/plugins/cti1/policy-engine.js~.normalized.js":[function(e,n,t){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.forSDK=function(a){if(!a.LIB._bootOptions.isSelfOrchestrated)throw new Error("FATAL: page-map2 asssumes container script is self-orchestrated. Add bootOptions.isSelfOrchestrated: true");return function(t){var e=new a.LIB.DataProvider;function r(e){a.LIB.logger.debug("[pageMapPlugin] parseCustomUrlSegmentOption called with: ",e);var n="",t=e.match(/(protocol|host|path|search|hash)/g);return a.LIB.logger.debug("[pageMapPlugin] parseCustomUrlSegmentOption _urlSegmentChoices: ",t),a.LIB.LODASH.forEach(t,function(e){switch(e){case"protocol":n+=a.LIB.dom.window.location.protocol+"//";break;case"host":n+=a.LIB.dom.window.location.hostname;break;case"path":n+=a.LIB.dom.window.location.pathname;break;case"search":n+=a.LIB.dom.window.location.search;break;case"hash":n+=a.LIB.dom.window.location.hash;break;default:a.LIB.logger.debug("[pageMapPlugin] unsupported urlSegment choice: ",e)}}),a.LIB.logger.debug("[pageMapPlugin] parseCustomUrlSegmentOption _urlSegment: ",n),n}function n(e){a.LIB.logger.debug("[pageMapPlugin] lookForCurrentUrlInPageMap called with: ",e);var n=a.LIB.LODASH.get(t["#cti1"].pageMap[e],"urlSegment","DEFAULT");return a.LIB.logger.debug("[pageMapPlugin] lookForCurrentUrlInPageMap _customUrlSegmentPerSupportedUrl: ",n),"DEFAULT"===n?new RegExp(e).test(function(){var e=a.LIB.LODASH.get(t["#cti1"].options,"urlSegment","DEFAULT");return a.LIB.logger.debug("[pageMapPlugin] determineSegmentFromPluginConfig _urlSegmentFromPluginConfig: ",e),"DEFAULT"===e?""+a.LIB.dom.window.location.href:r(e)}()):new RegExp(e).test(r(n))}e.on("changed",function(e){a.LIB.event.channels.page.emit("page-type",e)}),a.LIB.ASSERT(!!t["#cti1"],!0,"The config['#cti1'] properties must be set!"),a.LIB.ASSERT(!!t["#cti1"].pageMap,!0,"The config.['#cti1'],pageMap properties must be set!");var o=function(){var e=a.LIB.LODASH.find(Object.keys(t["#cti1"].pageMap),n);return a.LIB.LODASH.get(t,["#cti1","pageMap",e],{})};function i(){var e=a.LIB.LODASH.get(o(),"pageType",null);return a.LIB.logger.debug("[pageMapPlugin] matching pageType: ",e),e}function c(e,n){var t=null!==e&&"object"===(void 0===e?"undefined":l(e)),r=t&&1<Object.keys(e).length;if(!t)return e===n;if(r){var o=function(n){return Object.keys(n).map(function(e){return[e,n[e]]})}(e).map(function(e){return function(e){var o={};return e.forEach(function(e){var n=g(e,2),t=n[0],r=n[1];return o[t]=r}),o}([e])});return c({$and:o},n)}var i={$or:function(e,n){return e.$or.some(function(e){return c(e,n)})},$and:function(e,n){return e.$and.every(function(e){return c(e,n)})},$not:function(e,n){return!e.$not.some(function(e){return c(e,n)})}},u=Object.keys(e)[0],a=i[u];return a?a(e,n):c(e[u],n&&n[u])}return e.update(o()),a.LIB.history.on("url.changed",function(){e.update(o())}),e.on("changed",function(e){a.LIB.event.channels.page.emit("page-type",a.LIB.LODASH.get(e,"watcher",null))}),a.LIB.logger.record.loaded(),a.LIB.history.on("url.changed",function(){t["#cti1"].ignoreUrlChanged||a.LIB.logger.resetLoggedOnce(),setTimeout(function(){a.LIB.logger.record.loaded()},100)}),function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({config:t["#cti1"],pageType:i,isAdSlotEligible:a.LIB.JSON.externalize(function(e){if(!e.eligible)return function(n){function u(e){var n=e.split(":");return{queryValue:n.pop(),queryPath:n.join(".")}}function t(e,n){var t=u(n),r=t.queryPath,o=t.queryValue;var i=a.LIB.LODASH.get(e,r,"");return i===o}var e=a.LIB.LODASH.get(o(),"adSlotSelectors",[""]);return a.LIB.LODASH.some(e,function(e){return t(n,e)})}(e);var n={pageType:i(),browser:a.LIB.UA.getBrowserName().toLowerCase(),device:a.LIB.UA.getDeviceType()};return c(e.eligible,n)})},"pageType",a.LIB.JSON.externalize(e))}}},{}]},{},["lib/cti.sdk/plugins/cti1/policy-engine.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/policy-engine.js~.normalized.js")});var n=window.module&&window.module.exports||r.exports;return window.module=void 0!==e?e:void 0,r=void 0!==t?t:void 0,_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/policy-engine"]=n}()},cti1lib:{_impl:function(){var e=window.module,t=r;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;((n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(n.module={})).exports=e()}}(function(){return function r(s,a,c){function l(n,e){if(!a[n]){if(!s[n]){var o="function"==typeof require&&require;if(!e&&o)return o(n,!0);if(u)return u(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var i=a[n]={exports:{}};s[n][0].call(i.exports,function(e){return l(s[n][1][e]||e)},i,i.exports,r,s,a,c)}return a[n].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({"lib/cti.helpers/CTZ_IFramePlacement.js":[function(e,n,o){"use strict";function r(o){if(o=o||"",r._instances||(r._instances={}),r._instances[o])return r._instances[o];var i=r._instances[o]={},t="ctil.clicktripz.com?placementID="+o,s=null,a=!1;function c(e){if(!/^https?:\/\/.+\.clicktripz\.com$/.test(e.origin)&&!/^https?:\/\/localhost(:\d+)?$/.test(e.origin)&&!/^https?:\/\/192\./.test(e.origin)&&e.origin!==l.location.origin)return null;if("string"!=typeof e.data||!/^\{/.test(e.data))return null;var n=null;try{n=JSON.parse(e.data)}catch(e){return}return n.notify&&n.notify.from!==t&&n.response&&n.response.from!==t?null:n}return i.destroy=function(){a=!0,delete r._instances[o]},i.onReady=function(t){if(!0!==a)if(s)t(i);else{l.addEventListener("message",function e(n){if(!0!==a){var o=c(n);o&&o.notify&&o.notify.body&&o.notify.body.ready&&(l.removeEventListener("message",e,!1),s=n.source,t(i))}},!1)}},i.sendMessage=function(e,i){if(!s){var n=new Error("Placement with ID '"+o+"' not yet ready!");return n.code=404,void i(n)}var r=(Math.random()+Math.PI).toString(36).substring(2,10);l.addEventListener("message",function e(n){if(!0!==a){var o=c(n);if(o&&o.response&&o.response.id===r)if(l.removeEventListener("message",e,!1),200!==o.response.status){var t=new Error(o.response.body.error);t.code=o.response.status,i(t,o.response.body)}else i(null,o.response.body)}},!1),s.postMessage(JSON.stringify({request:{id:r,to:t,body:e}}),"*")},i}var l;l=window,r.version="0.3",void 0!==n?n.exports=r:void 0!==l&&(l.CTZ_IFramePlacement=r)},{}],"lib/cti.sdk/lib/functions/injectSourcingElement.js":[function(e,n,o){"use strict";o.forLib=function(n){return function(e){("SCRIPT"===e.tagName&&(e.async=!0,void 0===e.charset&&(e.charset="UTF-8")),n.dom.window.document.body)?(n.logger.debug("inject","page.injectSourcingElement()","into BODY"),n.dom.window.document.body.appendChild(e)):(n.logger.debug("inject","page.injectSourcingElement()","into HEAD"),n.dom.window.document.getElementsByTagName("head")[0].appendChild(e))}}},{}],"lib/cti.sdk/lib/functions/loadAlternativeImplementation.js":[function(e,n,o){"use strict";o.forLib=function(o){return function(e){if(e.replacementImplementationUrl){if(void 0===o.dom.window.CTI_LOADED_REPLACEMENT||e.replacementImplementationUrl!==o.dom.window.CTI_LOADED_REPLACEMENT){o.dom.window.CTI_LOADED_REPLACEMENT=e.replacementImplementationUrl,o.logger.debug("Load replacement implementation from '"+o.dom.window.CTI_LOADED_REPLACEMENT+"'!");var n=o.dom.window.document.createElement("script");return n.type="text/javascript",n.src=o.dom.window.CTI_LOADED_REPLACEMENT,n.charset=e.charset||"UTF-8",o.injectSourcingElement(n),!0}o.logger.debug("Loaded replacement implementation from '"+o.dom.window.CTI_LOADED_REPLACEMENT+"'!")}return!1}}},{}],"lib/cti.sdk/lib/functions/makeCookieOption.js":[function(e,n,o){"use strict";var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o.forLib=function(u){var d=e("./parseQueryString").forLib(u);return function(r,s,a,c,l){function e(o,e){if(o!==r[a]||null===o){var n=function(e){u.FORCE_STORE.remove(s),o=e;var n={};try{n=d(u.dom.window.location.search)}catch(e){u.logger&&u.logger.error(e)}void 0!==n[s]&&(t=function(){delete n[s],u.dom.window.location.search="?"+u.QUERYSTRING.stringify(n)})},t=function(){if(l.reloadHandler)return l.reloadHandler(),null;setTimeout(function(){u.dom.window.location.reload()},500)};if(u.logger&&u.logger.debug("run","window."+s+"(value)",o),"boolean"===c)!0===o||"1"===o||"true"===o?(u.FORCE_STORE.set(s,"1"),o=!0):!1===o||"0"===o||"false"===o?(u.FORCE_STORE.set(s,"0"),o=!1):n(!1);else if("string"===c)null!==o?u.FORCE_STORE.set(s,o):n("");else{if("object"!==c)throw new Error("Type '"+c+"' not implemented!");if(null!==o){if("string"==typeof o)try{o=u.JSON.parse(o);var i=u.JSON.stringify(o);u.FORCE_STORE.set(s,i)}catch(e){u.logger&&u.logger.error("Unable to parse: "+s,e),o=void 0}else if("object"===(void 0===o?"undefined":g(o)))try{i=u.JSON.stringify(o);u.FORCE_STORE.set(s,i)}catch(e){u.logger&&u.logger.error("Unable to stringify: "+s,e),o=void 0}}else n("")}r[a]=o,e||t()}else u.logger&&u.logger.debug("skip","window."+s+"()","due to","no change in setting")}l=l||{};var n={};if(void 0!==u.dom.window.location.search&&u.dom.window.location.search&&(n=d(u.dom.window.location.search)),n&&void 0!==n[s]?(u.logger&&u.logger.debug("set","config."+a,"due to","'"+s+"' url search variable"),e(n[s],!0)):void 0!==u.dom.window[s]&&"function"!=typeof u.dom.window[s]?(u.logger&&u.logger.debug("set","config."+a,"due to","'"+s+"' window variable"),e(u.dom.window[s],!0)):void 0!==u.FORCE_STORE.get(s)&&(u.logger&&u.logger.debug("set","config."+a,"due to","'"+s+"' cookie"),e(u.FORCE_STORE.get(s),!0)),"function"==typeof u.dom.window[s]){var o=u.dom.window[s];u.dom.window[s]=function(){e.apply(null,arguments),o.apply(null,arguments)}}else u.dom.window[s]=e}}},{"./parseQueryString":"lib/cti.sdk/lib/functions/parseQueryString.js"}],"lib/cti.sdk/lib/functions/parseQueryString.js":[function(e,n,o){"use strict";o.forLib=function(n){var o=e("querystring");return function(e){try{return e=e.replace(/^\?|\%\%/g,function(e){return"?"===e?"":"%"}),!0===n._bootOptions.useUnescape&&n.dom.window.unescape&&(e=n.dom.window.unescape(e)),o.parse(e)}catch(e){return n.logger.error(e),null}}}},{querystring:"lib/cti.tools/node_modules/querystring-es3/index.js"}],"lib/cti.sdk/lib/helpers/userInfo.js":[function(e,n,o){"use strict";o.forLib=function(s){return function(r){var e=s.FORCE_STORE.get("_ctz_uid");if(e)return s.logger.debug("[userInfo] using fingerPrint from cookie: ",e),s.config.options.userInfo.fingerPrint=e,new s.Promise(function(e){return e(!0)});s.logger.debug("[userInfo] generating new fingerprint"),s.logger.debug("[userInfo] version: ","1.1");var n=new s.FINGER_PRINT_JS2({excludeColorDepth:!0,excludeScreenResolution:!0,excludeAvailableScreenResolution:!0,excludeHasLiedLanguages:!0,excludeHasLiedResolution:!0,excludeHasLiedOs:!0,excludeHasLiedBrowser:!0,excludeTouchSupport:!0,excludePixelRatio:!0}),o=[r["#cti1"].endpoints.www.protocol,r["#cti1"].endpoints.www.hostUri,"/integrations/api/common/user_info.php"].join("");return s.endpoint.call({method:"JSONP",url:o}).then(function(i){return new s.Promise(function(e){n.get(e)}).then(function(e,n){s.logger.debug("[userInfo] (user_info.php) version: ",i.version);var o,t=i.fingerPrint+":"+e;return!1!==s.LODASH.get(r["#cti1"].options,"userInfo.saveInCookie",null)&&(s.logger.debug("[userInfo] storing fingerPrint in cookie: ",t),s.FORCE_STORE.set("_ctz_uid",t,s.LODASH.merge({expires:(o=new Date,o.setFullYear(o.getFullYear()+1),o)},s.LODASH.get(r["#cti1"].options,"userInfo.cookieOptions",{})))),s.logger.debug("[userInfo] setting fingerPrint on config: ",t),s.config.options.userInfo.fingerPrint=t,!0}).catch(function(e){throw new Error(e)})}).catch(function(e){if(s.logger.error("[userInfo] Caught Exception: ",e),!0===s.config.options.userInfo.byPassError)return!0})}}},{}],"lib/cti.sdk/lib/instances/browser-device-detection-util.js":[function(e,n,o){"use strict";function t(n){return{isAndroidTablet:function(){return/Android/i.test(n)&&!/Mobile/i.test(n)},isIpad:function(){return/iPad/i.test(n)},isMobileDevice:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB10|IEMobile|Opera Mini/i.test(n)},isChrome:function(){return this.isWebkit()&&-1<n.toLowerCase().indexOf("chrome")},isWebkit:function(){return/webkit/i.test(n)},isFF4Plus:function(){return void 0!==window.mozPaintCount},isSafari:function(){return this.isWebkit()&&!this.isChrome()&&!this.isFF4Plus()},isIE:function(){return-1<n.indexOf("MSIE ")||-1<n.indexOf("Trident/")||-1<n.indexOf("Edge/")},isIEEdge:function(){return-1<n.indexOf("Edge/")},getIEVersion:function(){var e=999;if(-1<n.indexOf("MSIE "))e=parseFloat(navigator.appVersion.split("MSIE")[1]);else if("Netscape"==navigator.appName){null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(n)&&(e=parseFloat(RegExp.$1))}return e},isDesktopOrTablet:function(){return!(this.isMobileDevice()&&!this.isIpad()&&!this.isAndroidTablet())},isVivaldi:function(){return/Vivaldi/i.test(n)},isWindows:function(){return-1<n.indexOf("Windows")},isMac:function(){return-1<n.indexOf("Mac")},isChromeOnIOS:function(){return-1<n.indexOf("CriOS")}}}var i="";"undefined"!=typeof window&&(i=window.navigator.userAgent),n.exports=t(i),n.exports.forAgentString=t},{}],"lib/cti.sdk/plugins/cti1/cti1lib.js~.normalized.js":[function(i,e,n){"use strict";n.forSDK=function(o){o.console;return function(e){o.LIB.ASSERT(!!e["#cti1"],!0,"The '#cti1' config properties must be set!");var n=o.LIB.LODASH.merge({},e,e["#cti1"]),t=i("lib/cti/lib/boot-full").makeLib(n,{endpoints:n.endpoints||{}},o);return t.BOOT.loadFullCommon().then(function(e){return e?(t.CT=o.LIB.CT_ADAPTER.forSDK(o),o.LIB.event.channels.page.on("comparison",function(e){var n,o={flight:"flights",car:"cars",vacation:"vacations","hotel-citywide":"city","hotel-specific":"hotel"}[n=e.config.vertical]||n;t.event.channels.lifecycle.emit("drawn",o,e.results.providers)}),{cti1lib:o.LIB.JSON.externalize(t)}):o.LIB.CONSTANTS.STOP})}}},{"lib/cti/lib/boot-full":"lib/cti/lib/boot-full.js"}],"lib/cti.tools/node_modules/querystring-es3/decode.js":[function(e,n,o){"use strict";n.exports=function(e,n,o,t){n=n||"&",o=o||"=";var i={};if("string"!=typeof e||0===e.length)return i;var r=/\+/g;e=e.split(n);var s=1e3;t&&"number"==typeof t.maxKeys&&(s=t.maxKeys);var a,c,l=e.length;0<s&&s<l&&(l=s);for(var u=0;u<l;++u){var d,g,f,p,b=e[u].replace(r,"%20"),m=b.indexOf(o);g=0<=m?(d=b.substr(0,m),b.substr(m+1)):(d=b,""),f=decodeURIComponent(d),p=decodeURIComponent(g),a=i,c=f,Object.prototype.hasOwnProperty.call(a,c)?h(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i};var h=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"lib/cti.tools/node_modules/querystring-es3/encode.js":[function(e,n,o){"use strict";function r(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}n.exports=function(o,t,i,e){return t=t||"&",i=i||"=",null===o&&(o=void 0),"object"==typeof o?a(c(o),function(e){var n=encodeURIComponent(r(e))+i;return s(o[e])?a(o[e],function(e){return n+encodeURIComponent(r(e))}).join(t):n+encodeURIComponent(r(o[e]))}).join(t):e?encodeURIComponent(r(e))+i+encodeURIComponent(r(o)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,n){if(e.map)return e.map(n);for(var o=[],t=0;t<e.length;t++)o.push(n(e[t],t));return o}var c=Object.keys||function(e){var n=[];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.push(o);return n}},{}],"lib/cti.tools/node_modules/querystring-es3/index.js":[function(e,n,o){"use strict";o.decode=o.parse=e("./decode"),o.encode=o.stringify=e("./encode")},{"./decode":"lib/cti.tools/node_modules/querystring-es3/decode.js","./encode":"lib/cti.tools/node_modules/querystring-es3/encode.js"}],"lib/cti/lib/api.js":[function(e,n,o){"use strict";o.forLib=function(o){o.console;var e={};return e.integration={LIB:o,SelectorListeners:function(){var e=o.ELEMENT.SelectorListeners({onRegister:function(e,n){o.elements.addBlocked(n)}});return o.event.channels.page.on("url.changed",function(){e.ensureAttached()}),e},SelectorWatchers:function(){var e=o.ELEMENT.SelectorWatchers();return o.event.channels.page.on("url.changed",function(){e.checkState()}),e}},e}},{}],"lib/cti/lib/boot-full.js":[function(o,e,n){"use strict";n.makeLib=function(e,n,t){var i=o("./boot").makeLib(e,n,t);return i.BOOT.loadFullCommon=function(){try{return i.UTIL=o("./util").forLib(i),i.ELEMENT=o("./element").forLib(i),i.elements=i.ELEMENT.elements,i.DEVUI={showNotification:function(e,n,o){return i.Promise.resolve(t.HEADUP.showNotification(e,n,o))}},i.CONFIG=o("./config").forLib(i),i.API=o("./api").forLib(i),i.PAGE=o("./page").forLib(i),i.page=i.PAGE.page,i.CONFIG.finalize(i.BOOT.getIntegrationConfig()).then(function(e){return!!(e=i.BOOT.postConfigFinalization(e))&&(i.BOOT.finalizeBoot(),!0)}).catch(i.logger.error)}catch(e){return i.logger.error(e),i.Promise.reject(e)}},i}},{"./api":"lib/cti/lib/api.js","./boot":"lib/cti/lib/boot.js","./config":"lib/cti/lib/config.js","./element":"lib/cti/lib/element.js","./page":"lib/cti/lib/page.js","./util":"lib/cti/lib/util.js"}],"lib/cti/lib/boot.js":[function(r,e,n){"use strict";var s=0;n.makeLib=function(n,e,o){if(!o||!o.LIB)throw new Error("cti lib must be used via 'require(\"cti.sdk\")'!");e=o.LIB.LODASH.merge(e,o.LIB._bootOptions);var t={};Object.keys(o.LIB).forEach(function(e){t[e]=o.LIB[e]});var i=o.LIB._makeLib(e);if(t.config=i.config,t.status=i.status,t.dom=i.dom,t.SDK=o,s+=1,t._bootOptions=e,t._index=s,t.dom.scopedEvent=function(e,n){return e+"._"+t._index+"_"+n},"function"==typeof n)try{n=n(t)}catch(e){return void t.logger.error(e)}return n=n||{},t.config.publisher=n.publisher||{},t.config.publisher.alias||(t.config.publisher.alias=o.build.vendorAlias),t.config.endpoints||(t.config.endpoints={}),t.config.endpoints.www||(t.config.endpoints.www={}),t.config.endpoints.www.hostUri||(t.config.endpoints.www.hostUri="//www.clicktripz.com"),t.config.endpoints.static||(t.config.endpoints.static={}),t.config.endpoints.static.hostUri||(t.config.endpoints.static.hostUri="//static.clicktripz.com"),t.BOOT={getIntegrationConfig:function(){return n},preConfigFinalization:function(){return t.config.expose&&(t.config.expose["window._CTI_LIB"]&&(t.dom.window._CTI_LIB=t),t.config.expose["window._CTZ_RELOAD"]&&(t.dom.window._CTZ_RELOAD=t.LODASH.debounce(function(){if(void 0===window._CTZ||!window._CTZ)throw new Error("'window._CTZ' not set! Set it first before calling 'window._CTZ_RELOAD()'.");t.event.channels.lifecycle.emit("window._CTZ",window._CTZ)},100)),t.config.expose["window.CTZ_Placement"]&&void 0===t.dom.window.CTZ_Placement&&(t.dom.window.CTZ_Placement=r("../../cti.helpers/CTZ_IFramePlacement")),t.config.expose["window.CTZ_IFramePlacement"]&&void 0===t.dom.window.CTZ_IFramePlacement&&(t.dom.window.CTZ_IFramePlacement=r("../../cti.helpers/CTZ_IFramePlacement"))),!t.CONFIG.loadAlternativeImplementation()&&(!0!==t.LODASH.get(t.config.options,"userInfo.activated",!1)||t.CONFIG.userInfo().then(function(e){return e}))},postConfigFinalization:function(e){return!!e&&(n.options&&n.options.bypassLoadOnce||!t.CONFIG.loadOnlyOnce()?(t.logger.debug("[boot]","config",t.config),!!t.config.enabled||(t.logger.debug("stop","[boot]","due to","!LIB.config.enabled"),t.DEVUI.showNotification("warning","Integration is disabled!").catch(t.logger.error),!1)):(t.DEVUI.showNotification("warning","Integration code already loaded! Reload page to reload integration code.").catch(t.logger.error),!1))},finalizeBoot:function(){t.config.debug,void 0!==t.dom.window.CTI_LOADED_REPLACEMENT&&t.DEVUI.showNotification("success","Loaded alternative code: "+t.dom.window.CTI_LOADED_REPLACEMENT.replace(/^.+\/([^\/]+)$/,"$1")+"!").catch(t.logger.error),t.event.channels.lifecycle.emit("booted")}},t}},{"../../cti.helpers/CTZ_IFramePlacement":"lib/cti.helpers/CTZ_IFramePlacement.js"}],"lib/cti/lib/config.js":[function(n,e,o){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o.forLib=function(a){a.console;var e={};return e.makeCookieOption=n("cti.sdk/lib/functions/makeCookieOption").forLib(a),e.finalize=function(r){function s(){return new a.Promise(function(e,n){try{var o=function(){i&&(clearInterval(i),i=null),t&&(clearTimeout(t),t=null)};if("object"===c(a.dom.window._CTZ)&&a.dom.window._CTZ)return a.logger.debug("found","waitForWindowConfig()","immediately"),e(a.dom.window._CTZ);if(!r.options||!r.options.waitForWindowCTZConfig)return!1===r.enabled&&a.DEVUI&&a.DEVUI.showNotification("warning","Integration is disabled by default and 'window._CTZ' (used to enable it) is not found.").catch(a.logger.error),a.logger.debug("skip","waitForWindowConfig()","due to","not found and not waiting"),e({});var t=setTimeout(function(){return o(),a.logger.debug("warning","waitForWindowConfig()","'window._CTZ' not found after "+(a.config.debug?5:15)+" seconds!"),a.logger.debug("schedule","waitForWindowConfig()","'window._CTZ' changed event to continue when first available"),a.logger.record.pending("window._CTZ"),new a.Promise(function(e,n){a.event.channels.lifecycle.once("window._CTZ",function(){return a.logger.debug("notified","waitForWindowConfig()","of 'window._CTZ' changed event so we try and fetch it again"),e(null)})}).then(s).then(e,n)},1e3*(a.config.debug?5:15)),i=setInterval(function(){if(a.logger.debug("poll","waitForWindowConfig()"),"object"===c(a.dom.window._CTZ)&&a.dom.window._CTZ)return a.logger.debug("found","waitForWindowConfig()","after interval"),o(),e(a.dom.window._CTZ)},100)}catch(e){return n(e)}}).then(function(e){return a.logger.debug("return","waitForWindowConfig()","_CTZ",e),e})}return a.Promise.try(function(){a.logger.debug("inspect","finalize()","integrationConfig",r),a.config=a.UTIL.merge({},a.config,r,a._bootOptions&&a._bootOptions["#cti1[ALWAYS]"]||{});var t={};return t.buildTime=a._build.buildTime,a.config.options||(a.config.options={}),a.SDK?a.config.options.dynamicCTZOverride=a.SDK.plugins.config["#cti1"].options.dynamicCTZOverride:a.config.options.dynamicCTZOverride={},a.config.compareTo||(a.config.compareTo={}),a.config.logger||(a.config.logger={}),void 0===a.config.debug?a.config.debug=a._build.debugEnabled:a.config.debug=!!a.config.debug,!0!==a.config.debug&&(e.makeCookieOption(a.config,"CTI_FORCE_DEBUG","debug","boolean"),t.debug=a.config.debug),a.config.debug&&(a.dom.window.CTI_DEBUG=!0,a.dom.window.CTI_DEBUG_ON_IWS=/^(192\.[0-9\.]+|localhost):/.test(a._build.iwsHostname)),a.config.charset=a.config.charset||null,e.makeCookieOption(a.config,"CTI_FORCE_CHARSET","charset","string"),t.charset=a.config.charset,a.config.replacementImplementationUrl=a.config.replacementImplementationUrl||null,e.makeCookieOption(a.config,"CTI_FORCE_INTEGRATION_URL","replacementImplementationUrl","string"),t.replacementImplementationUrl=a.config.replacementImplementationUrl,a.config.windowCTZOverride=a.config.windowCTZOverride||null,e.makeCookieOption(a.config,"CTI_FORCE_WINDOW_CTZ_OVERRIDE","windowCTZOverride","object"),t.windowCTZOverride=a.config.windowCTZOverride,a.config.forceNoCaps=a.config.forceNoCaps||!1,a.config.debug&&(a.config.forceNoCaps=!0),e.makeCookieOption(a.config,"CTI_FORCE_NO_CAPS","forceNoCaps","boolean"),t.forceNoCaps=a.config.forceNoCaps,a.config.debug&&(void 0===a.config.options.useTestAdvertisers&&(a.config.options.useTestAdvertisers=!0),void 0===a.config.logger.enableUncaughtErrorHandler&&(a.config.logger.enableUncaughtErrorHandler=!0)),e.makeCookieOption(a.config,"CTI_GATE","gates","object"),t.gates=a.config.gates,e.makeCookieOption(a.config,"CTI_FORCE_CTJS_URL","replacementCTjsUrl","string"),t.replacementCTjsUrl=a.config.replacementCTjsUrl||null,e.makeCookieOption(a.config,"CTI_FORCE_CLM_BLOCK","clmBlock","boolean"),t=a.UTIL.merge(t.windowCTZOverride||{},t),a.logger.debug("inspect","finalize()","stableConfig",t),a.config=a.UTIL.merge(a.config,t),a.Promise.try(function(){return a.BOOT.preConfigFinalization()}).then(function(e){return!0!==e?e:s().then(function(e){a.config=a.UTIL.merge(a.config,e,t);var n=a.UTIL.parseQueryString(a.dom.window.location.search);function o(){void 0===a.config.enabled&&(a.config.enabled=!0),a.config.enabled=!!a.config.enabled,a.config.options&&(a.config.options.useTestAdvertisers&&(a.config.publisher.id=4,a.config.publisher.apiKey="27cf95ce0eac63707d297e6248f24378",a.config.products&&Object.keys(a.config.products).forEach(function(e){a.config.products[e].apiKey=a.config.publisher.apiKey})),a.config.options.isPlacebo=a.config.options.isPlacebo||!1),a.config.gates&&(a.UTIL.isArray(a.config.gates)||(a.logger.debug("normalize","normalizeConfig()",a.config.gates,"to",[a.config.gates]),a.config.gates=[a.config.gates])),a.config.localization=a.config.localization||a.UA.getLanguage()}return n&&void 0!==n["ctz.options.useTestAdvertisers"]&&("true"===n["ctz.options.useTestAdvertisers"]||"1"===n["ctz.options.useTestAdvertisers"]?a.config.options.useTestAdvertisers=!0:a.config.options.useTestAdvertisers=!1),a.event.channels.message.on("request",function(e,n){n.ctz&&n.ctz.options&&(void 0!==n.ctz.options.useTestAdvertisers&&(a.config.options.useTestAdvertisers=!!n.ctz.options.useTestAdvertisers),void 0!==n.ctz.options.isPlacebo&&(a.config.options.isPlacebo=!!n.ctz.options.isPlacebo)),o()}),a.event.channels.lifecycle.on("window._CTZ",function(e){a.config=a.UTIL.merge(a.config,e,t),o(),a.event.channels.lifecycle.emit("config-reloaded")}),o(),a.event.channels.lifecycle.emit("configured"),!0})})})},e.loadAlternativeImplementation=function(){return n("../../cti.sdk/lib/functions/loadAlternativeImplementation").forLib(a)(a.config)},e.userInfo=function(){return n("../../cti.sdk/lib/helpers/userInfo").forLib(a)(a.config)},e.loadOnlyOnce=function(){return void 0!==a.dom.window.CTI_LOADED?(a.logger.debug("Integration code already loaded! Reload page to reload integration code."),!0):!(a.dom.window.CTI_LOADED=!0)},e}},{"../../cti.sdk/lib/functions/loadAlternativeImplementation":"lib/cti.sdk/lib/functions/loadAlternativeImplementation.js","../../cti.sdk/lib/helpers/userInfo":"lib/cti.sdk/lib/helpers/userInfo.js","cti.sdk/lib/functions/makeCookieOption":"lib/cti.sdk/lib/functions/makeCookieOption.js"}],"lib/cti/lib/element.js":[function(o,e,n){"use strict";n.forLib=function(n){if(n.runtime.isServer())return{};var e={};return e.SelectorWatchers=n.SelectorWatchers,e.SelectorListeners=n.SelectorListeners,e.ElementChildListObserver=n.ElementChildListObserver,e.isElementVisible=n.isElementVisible,e.onceSelectorVisible=n.onceSelectorVisible,o("./vendor/MutationObserver"),e.MutationObserver=n.dom.window.MutationObserver||n.dom.window.WebKitMutationObserver,e.elements={addBlocked:function(e){return n.bodyEvent.addBlockedSelector(e)},isClickBlocked:function(e){return n.bodyEvent.isEventBlocked(e)},ensureIDsReferencedAreUnique:function(){return n.bodyEvent.ensureIDsReferencedAreUnique()},removeBlocked:function(e){return n.bodyEvent.removeBlockedSelector(e)}},e}},{"./vendor/MutationObserver":"lib/cti/lib/vendor/MutationObserver.js"}],"lib/cti/lib/page.js":[function(o,e,n){"use strict";var t=0;n.forLib=function(u){var e=t+=1;if(u.runtime.isServer())return{};var d=u.console,s=(o("browser-device-detection-util"),{});s.TYPES=u.CONSTANTS.PAGE.TYPES;var g={isSinglePageApplication:!1,type:s.TYPES.UNKNOWN,elements:{}};function f(n){n=n||{};var o=null,t={};return Object.keys(n||{}).forEach(function(e){"function"==typeof t[e]?t[e]=function(){return n[e].apply(o,arguments)}:t[e]=n[e]}),o=u.$.extend(u.API.integration,t),function(){var e=Array.prototype.slice.call(arguments);return e.shift().apply(o,e)}}function p(){if(!u.config.enableFor)return u.Promise.resolve(null);if(u.config.enableFor.agents){var o=function(e){var n=e.match(/^([^\/]+)\/([^\/]+)\/([^:]+):([^\/]+)\/([^:]+):([^\/]+)\/([^\/:]+)$/);if(!n)throw new Error("Unable to parse agent string '"+e+"'!");return{device:{type:n[1],vendor:n[2],model:n[3]},os:{name:n[4],version:n[5]},browser:{name:n[6],version:n[7]}}},t=function(e,n){return"*"===e||e===n};if(!p._agents){if(p._agents=[],u.config.enableFor.agents.rules||(u.config.enableFor.agents.rules={}),"default"===u.config.enableFor.agents.whitelist){var e={"*/*/*:*/*:*/*":!0};u.config.enableFor.agents.rules=u.UTIL.merge(e,u.config.enableFor.agents.rules)}Object.keys(u.config.enableFor.agents.rules).forEach(function(e){var n=u.config.enableFor.agents.rules[e];if("boolean"!=typeof n)throw new Error("The value of the '"+e+"' agent rule for 'LIB.config.enableFor.agents.rules' must be set to a boolean value!");p._agents.push({rule:e,enabled:n,parts:o(e)})})}var n=u.UA.getNormalizedAgent(),i=o(n);u.logger.debug("inspect","ensureEnabledFor()","ourAgent",n,i);var r=!1,s=!1;if(p._agents.forEach(function(e){if((!r||!e.enabled)&&(!s||e.enabled)){var n=!0;n&&!t(e.parts.device.type,i.device.type)&&(n=!1),n&&!t(e.parts.device.vendor,i.device.vendor)&&(n=!1),n&&!t(e.parts.device.model,i.device.model)&&(n=!1),n&&!t(e.parts.os.name,i.os.name)&&(n=!1),n&&!t(e.parts.os.version,i.os.version)&&(n=!1),n&&!t(e.parts.browser.name,i.browser.name)&&(n=!1),n&&!t(e.parts.browser.version,i.browser.version)&&(n=!1),n&&(e.enabled?r=e.rule:s=e.rule)}}),s)return u.logger.debug("reject","ensureEnabledFor()","due to agent exclusion rule",s),u.Promise.resolve("AGENT");if(!r)return u.logger.debug("reject","ensureEnabledFor()","due to no agent whitelist rule found for agent",n),u.Promise.resolve("AGENT")}if(u.config.enableFor.hostnames){p._hostnames||(p._hostnames=[],Object.keys(u.config.enableFor.hostnames).forEach(function(e){var n=u.config.enableFor.hostnames[e];if("boolean"!=typeof n)throw new Error("The value of the '"+e+"' hostname rule for 'LIB.config.enableFor.hostnames' must be set to a boolean value!");p._hostnames.push({hostname:e,enabled:n,re:new RegExp(e+"$")})}));var a=[];if(p._hostnames.forEach(function(e){e.re.exec(u.dom.window.location.hostname)&&!0===e.enabled&&a.push(e.hostname)}),0===a.length)return u.Promise.resolve("HOSTNAME")}if(u.config.enableFor.pages){p._paths||(p._paths=[],Object.keys(u.config.enableFor.pages).forEach(function(o){Object.keys(u.config.enableFor.pages[o].paths).forEach(function(e){var n=u.config.enableFor.pages[o].paths[e];if("boolean"!=typeof n)throw new Error("The value of the '"+e+"' path rule for 'LIB.config.enableFor.pages["+o+"].paths' must be set to a boolean value!");p._paths.push({page:o,route:e,enabled:n,re:new RegExp("^"+e+"$")})})}));var c=!1,l=u.dom.window.location.pathname+(u.dom.window.location.search||"")+(u.dom.window.location.hash||"");if(u.logger.debug("inspect","ensureEnabledFor()","ourPath",l),p._paths.forEach(function(e){if(u.logger.debug("inspect","ensureEnabledFor()","match rule",e.re),e.re.exec(l)){if(c&&c!==e.page)throw new Error("The '"+c+"' page was matched as well as page '"+e.page+"'. Adjust your path rules to only every match one page for each possible URL!");c=e.page}}),!c)return u.logger.debug("return","ensureEnabledFor()","no page path rule matched"),u.Promise.resolve("URL");if(u.config.enableFor.pages[c].type)throw new Error("The page 'type' property is DEPRECATED! Use 'enableBackgroundClick' option when starting watcher.");return new u.Promise(function(t,e){if(0===Object.keys(u.config.enableFor.pages[c].elements).length)return t(!0);Object.keys(u.config.enableFor.pages[c].elements).forEach(function(e){!function(n,e){var i=[],r={};function o(e){t&&(!0===e&&(g.elements=r),u.logger.debug("matched","ensureEnabledFor()","element setAlias",n),t(e),t=null)}Object.keys(e).forEach(function(t){if("VISIBLE"===e[t]||"EXISTS"===e[t])i.push({selector:t,verify:e[t]});else if("function"==typeof e[t])i.push({alias:t,verify:e[t]});else if("ELEMENTS"===e[t]){if(!u.config.enableFor.elements||!u.config.enableFor.elements[t])throw new Error("Element set '"+t+"' for page element set '"+n+"' for page '"+c+"' not declared!");Object.keys(u.config.enableFor.elements[t]).forEach(function(e){var n=u.config.enableFor.elements[t][e];"string"==typeof n&&((n={})[u.config.enableFor.elements[t][e]]="VISIBLE");var o=Object.keys(n);if(1<o.length)throw new Error("Value for element alias '"+e+"' for element set '"+t+"' must be an object with only one key!");if("VISIBLE"!==n[o=o[0]]&&"EXISTS"!==n[o])throw new Error("Value for selector '"+o+"' for element alias '"+e+"' for element set '"+t+"' not supported!");i.push({selector:o,verify:n[o],alias:e})}),d.log("TODO: Implement wait for 'PLACEMENT'.")}else i.push({selector:e[t],verify:"VISIBLE",alias:t})}),d.log("TODO: Keep one timeout for all element sets."),d.log("TODO: Keep track of all timers for all sets and reset as soon as one set resolves.");var s=setTimeout(function(){return clearInterval(a),o("ELEMENT")},15e3),a=setInterval(function(){var t=!0;if(i.forEach(function(e){if(t)if("function"==typeof e.verify)try{var n=f()(e.verify);n?r[e.alias]=n:(t=!1,u.logger.debug("repeat","ensureEnabledFor()","function",e.alias,"returned false"))}catch(e){u.logger.error(e)}else if(e.selector){var o=u.$(e.selector);e.alias&&(r[e.alias]=o),"EXISTS"!==e.verify&&"VISIBLE"!==e.verify||0===u.$(e.selector).length&&(t=!1,u.logger.debug("repeat","ensureEnabledFor()","element",e.selector,"does not yet exist")),t&&"VISIBLE"===e.verify&&(u.ELEMENT.isElementVisible(o)||(t=!1,u.logger.debug("repeat","ensureEnabledFor()","element",e.selector,"is not yet visible")))}}),t)return clearTimeout(s),clearInterval(a),o(!0)},250)}(e,u.config.enableFor.pages[c].elements[e])})}).then(function(e){return!0!==e?e:"function"!=typeof u.config.enableFor.pages[c].always?e:u.Promise.try(function(){var e=f()(u.config.enableFor.pages[c].always,g.elements);return!0===e||e}).catch(function(e){return u.logger.error(e),"error calling enableFor.pages['"+c+"'].always()"})})}return u.Promise.resolve(!0)}var n=u.LODASH.memoize(function(){return u.LODASH.get(u.config,"on.enabled",function(){return!0}).call(u.API.integration)});return s.page={_instanceIndex:e,getWidth:function(){return u.dom.window.innerWidth},getUrlParam:function(e){try{var n=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),o=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(u.dom.window.location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}catch(e){u.logger.error(e)}},isFullScreen:function(){var e=!u.dom.window.screenTop&&!u.dom.window.screenY&&u.dom.window.outerHeight===u.dom.window.screen.height&&u.dom.window.outerWidth===u.dom.window.screen.width;return u.logger.debug("inspect","isFullScreen()","isFullScreen",e),e},setIsSinglePageApplication:function(){if(u.logger.debug("run","page.setIsSinglePageApplication()"),!g.isSinglePageApplication)if(g.isSinglePageApplication=!0,void 0!==u.dom.window.history&&void 0!==u.dom.window.history.pushState&&void 0!==u.dom.window.history.replaceState){var o=function(){u.logger.debug("inspect","notifyUrlChange()","window.location.href",window.location.href),u.logger.debug("url.changed"),s.page.events.emit("url.changed"),u.event.channels.page.emit("url.changed")};u.logger.debug("hook","window.history","change listener");var t=u.dom.window.history.pushState;u.dom.window.history.pushState=function(e){u.logger.debug("on","history.pushState",e);var n=t.apply(history,arguments);return o(),n};var i=u.dom.window.history.replaceState;u.dom.window.history.replaceState=function(e){u.logger.debug("on","history.replaceState",e);var n=i.apply(history,arguments);return o(),n},u.dom.window.addEventListener("popstate",function(e){u.logger.debug("on","window.onpopstate",e),o()})}else u.logger.debug("skip hook","window.history","change listener","due to","no minimum 'window.history.*' methods available.")},getIsSinglePageApplication:function(){return g.isSinglePageApplication},setType:function(){throw new Error("'page.setType' is DEPRECATED. Use 'enableBackgroundClick' option when starting watcher.")},getType:function(){throw new Error("'page.getType' is DEPRECATED.")},isType:function(){throw new Error("'page.isType' is DEPRECATED.")},getElements:function(){return g.elements},injectSourcingElement:o("cti.sdk/lib/functions/injectSourcingElement").forLib(u),init:function(e){return u.logger.debug("run","page.init()"),s.page.init._ran?u.Promise.resolve():(s.page.init._ran=!0,"function"==typeof u.config.on&&(u.config.on=f()(u.config.on)),u.Promise.try(function(){return u.config.on&&u.config.on.init?f(e)(u.config.on.init):null}))},run:function(r){if(u.logger.debug("run["+e+"]","page.run()"),s.page.run._ran)throw new Error("Can only run page once per load!");return s.page.run._ran=!0,s.page.init(r).then(function(){return u.config.on&&"function"==typeof u.config.on.reconfigure?u.Promise.try(function(){return f()(u.config.on.reconfigure,u.config)}).then(function(e){return u.logger.debug("return","reconfigure()",e),e&&u.event.channels.message.emit("config",e),null}):null}).then(function(){function i(n,o,e,t){return function(){if(!i._triggered){i._triggered=!0;try{s.page.isEnabled().then(function(e){return!0!==e?(u.logger.record.disabled(e),u.SDK.stop(e),u.logger.debug("disable","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration was disabled! Reason: "+e.join(", ")).catch(u.logger.error),null):u.Promise.try(function(){return u.logger.debug("trigger","*ready*","for type",n),f(r)(o)}).then(function(){return u.logger.debug("done","*ready*","for type",n),null})}).then(e,t)}catch(e){return t(e)}}}}if(u.config.enableFor){if(!u.config.on||!u.config.on.ready)throw new Error("You must specify 'LIB.config.on.ready' when 'LIB.config.enableFor' is specified!");if(u.config.on.pageReady)throw new Error("You cannot specify 'LIB.config.on.pageReady' when 'LIB.config.enableFor' is specified! Use 'LIB.config.on.ready'.");if(u.config.on.pageReadyish)throw new Error("You cannot specify 'LIB.config.on.pageReadyish' when 'LIB.config.enableFor' is specified! Use 'LIB.config.on.ready'.");return p().then(function(e){if(!0===e)return new u.Promise(function(e,n){i("ready",u.config.on.ready,e,n)()});if(null===e)throw new Error("Did not get valid 'ensureEnabledFor()' result. This should never happen.");if(!1===e)throw new Error("Integration is disabled with no reason! You must always return 'true' or a string expressing a reason as to why it was disabled.");if("AGENT"===e)return u.logger.record.disabled(e),u.SDK.stop(e),u.logger.debug("disabled","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration is disabled for agent (device/os/browser)").catch(u.logger.error),null;if("HOSTNAME"===e)return u.logger.record.disabled(e),u.SDK.stop(e),u.logger.debug("disabled","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration is disabled for hostname").catch(u.logger.error),null;if("URL"===e)return u.logger.record.disabled(e),u.SDK.stop(e),u.logger.debug("disabled","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration is disabled for URL").catch(u.logger.error),null;if("ELEMENT"===e)return u.logger.record.disabled(e),u.SDK.stop(e),u.logger.debug("disabled","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration is disabled because minimum required elements not found").catch(u.logger.error),null;if("string"==typeof e)return u.logger.record.disabled(e),u.SDK.stop(e),u.logger.debug("disable","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration was disabled! Reason: "+e).catch(u.logger.error),null;if(u.UTIL.isArray(e))return u.logger.record.disabled(e.join(", ")),u.SDK.stop(e.join(", ")),u.logger.debug("disable","integration","enabled !== true",e),u.DEVUI.showNotification("warning","Integration was disabled! Reason: "+e.join(", ")).catch(u.logger.error),null;throw new Error("'ensureEnabledFor()' result '"+e+"' not supported!")})}return new u.Promise(function(e,n){if(!u.config.on)return e(null);try{if(u.config.on.pageReady)u.$(u.dom.window.document).ready(i("pageReady",u.config.on.pageReady,e,n));else{if(!u.config.on.pageReadyish)throw new Error("No [page] ready handler found!");u.$(u.dom.window.document).ready(i("pageReadyish",u.config.on.pageReadyish,e,n)),setTimeout(i("pageReadyish",u.config.on.pageReadyish,e,n),3e3)}}catch(e){return n(e)}})})},isEnabled:function(){return u.logger.debug("run","page.isEnabled()"),u.Promise.try(function(){return n()}).then(function(e){return u.logger.debug("got response","LIB.config.on.enabled()",e),e?!0===e||u.UTIL.isArray(e)?e:[e]:["none given"]}).catch(u.logger.error)},events:new u.EventEmitter},s.page.events._instanceIndex=e,s}},{"browser-device-detection-util":"lib/cti.sdk/lib/instances/browser-device-detection-util.js","cti.sdk/lib/functions/injectSourcingElement":"lib/cti.sdk/lib/functions/injectSourcingElement.js"}],"lib/cti/lib/util.js":[function(o,e,n){"use strict";n.forLib=function(e){var n={hash:function(e){throw new Error("DEPRECATED: Use 'LIB.md5()'")},randomID8:function(){return(Math.random()+Math.PI).toString(36).substring(2,10)},merge:function(){return e.LODASH.merge.apply(null,arguments)}};return n.parseQueryString=o("cti.sdk/lib/functions/parseQueryString").forLib(e),n.isArray=function(e){return Array.isArray(e)},n}},{"cti.sdk/lib/functions/parseQueryString":"lib/cti.sdk/lib/functions/parseQueryString.js"}],"lib/cti/lib/vendor/MutationObserver.js":[function(e,n,o){"use strict";function t(){this.name="__st"+(1e9*Math.random()>>>0)+r+++"__"}var i,r;"undefined"==typeof WeakMap&&(i=Object.defineProperty,r=Date.now()%1e9,t.prototype={set:function(e,n){var o=e[this.name];return o&&o[0]===e?o[1]=n:i(e,this.name,{value:[e,n],writable:!0}),this},get:function(e){var n;return(n=e[this.name])&&n[0]===e?n[1]:void 0},delete:function(e){var n=e[this.name];return!(!n||n[0]!==e)&&(n[0]=n[1]=void 0,!0)},has:function(e){var n=e[this.name];return!!n&&n[0]===e}},window.WeakMap=t),function(e){if(!e.JsMutationObserver){var i,c=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))i=setTimeout;else if(window.setImmediate)i=window.setImmediate;else{var o=[],t=String(Math.random());window.addEventListener("message",function(e){if(e.data===t){var n=o;o=[],n.forEach(function(e){e()})}}),i=function(e){o.push(e),window.postMessage(t,"*")}}var d,g,r=!1,s=[],n=0;l.prototype={observe:function(e,n){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!n.childList&&!n.attributes&&!n.characterData||n.attributeOldValue&&!n.attributes||n.attributeFilter&&n.attributeFilter.length&&!n.attributes||n.characterDataOldValue&&!n.characterData)throw new SyntaxError;var o,t=c.get(e);t||c.set(e,t=[]);for(var i=0;i<t.length;i++)if(t[i].observer===this){(o=t[i]).removeListeners(),o.options=n;break}o||(o=new h(this,e,n),t.push(o),this.nodes_.push(e)),o.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var n=c.get(e),o=0;o<n.length;o++){var t=n[o];if(t.observer===this){t.removeListeners(),n.splice(o,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},h.prototype={enqueue:function(e){var n=this.observer.records_,o=n.length;if(0<n.length){var t=m(n[o-1],e);if(t)return void(n[o-1]=t)}else!function(e){s.push(e),r||(r=!0,i(a))}(this.observer);n[o]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var n=this.options;n.attributes&&e.addEventListener("DOMAttrModified",this,!0),n.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),n.childList&&e.addEventListener("DOMNodeInserted",this,!0),(n.childList||n.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var n=this.options;n.attributes&&e.removeEventListener("DOMAttrModified",this,!0),n.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),n.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(n.childList||n.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var n=c.get(e);n||c.set(e,n=[]),n.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var n=c.get(e),o=0;o<n.length;o++)if(n[o]===this){n.splice(o,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var n=e.attrName,o=e.relatedNode.namespaceURI,t=e.target;(r=new p("attributes",t)).attributeName=n,r.attributeNamespace=o;var i=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;f(t,function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(n)||-1!==e.attributeFilter.indexOf(o)))return e.attributeOldValue?b(i):r});break;case"DOMCharacterDataModified":var r=p("characterData",t=e.target);i=e.prevValue;f(t,function(e){if(e.characterData)return e.characterDataOldValue?b(i):r});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var s,a,c=e.target;a="DOMNodeInserted"===e.type?(s=[c],[]):(s=[],[c]);var l=c.previousSibling,u=c.nextSibling;(r=p("childList",e.target.parentNode)).addedNodes=s,r.removedNodes=a,r.previousSibling=l,r.nextSibling=u,f(e.relatedNode,function(e){if(e.childList)return r})}d=g=void 0}},e.JsMutationObserver=l,e.MutationObserver||((e.MutationObserver=l)._isPolyfilled=!0)}function a(){r=!1;var e=s;s=[],e.sort(function(e,n){return e.uid_-n.uid_});var o=!1;e.forEach(function(e){var n=e.takeRecords();!function(o){o.nodes_.forEach(function(e){var n=c.get(e);n&&n.forEach(function(e){e.observer===o&&e.removeTransientObservers()})})}(e),n.length&&(e.callback_(n,e),o=!0)}),o&&a()}function f(e,n){for(var o=e;o;o=o.parentNode){var t=c.get(o);if(t)for(var i=0;i<t.length;i++){var r=t[i],s=r.options;if(o===e||s.subtree){var a=n(s);a&&r.enqueue(a)}}}}function l(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++n}function u(e,n){this.type=e,this.target=n,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(e,n){return d=new u(e,n)}function b(e){return g||((g=function(e){var n=new u(e.type,e.target);return n.addedNodes=e.addedNodes.slice(),n.removedNodes=e.removedNodes.slice(),n.previousSibling=e.previousSibling,n.nextSibling=e.nextSibling,n.attributeName=e.attributeName,n.attributeNamespace=e.attributeNamespace,n.oldValue=e.oldValue,n}(d)).oldValue=e,g)}function m(e,n){return e===n?e:g&&function(e){return e===g||e===d}(e)?g:null}function h(e,n,o){this.observer=e,this.target=n,this.options=o,this.transientObservedNodes=[]}}(self)},{}]},{},["lib/cti.sdk/plugins/cti1/cti1lib.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/cti1lib.js~.normalized.js")});var n=window.module&&window.module.exports||r.exports;return window.module=void 0!==e?e:void 0,r=void 0!==t?t:void 0,_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/cti1lib"]=n}(),"#cti1":{"<-":"{$config/#cti1}"}},watcher:{_impl:function(){var e=window.module,t=r;!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(t.module={})).exports=e()}}(function(){return function a(i,s,l){function c(t,e){if(!s[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var n=s[t]={exports:{}};i[t][0].call(n.exports,function(e){return c(i[t][1][e]||e)},n,n.exports,a,i,s,l)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/DataProvider.class.js":[function(r,e,i){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=r("./Logger.util").Logger;i.forLib=function(n){var e=r("./MicroEventEmitter.class").MicroEventEmitter,a=r("./getObjectDiff.util"),t=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=window._cti_backfill_object_create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),l(o,[{key:"update",value:function(e,t){var r=n.LODASH.merge({},this.options,t),o=!0;return r.alwaysEmitChangedEvent||(e===this.data?o=!1:e&&"object"===(void 0===e?"undefined":s(e))&&this.data&&"object"===s(this.data)&&0===a(e,this.data).length&&(o=!1)),o?(r.debugLogChanges&&c.debug("emit","[DataProvider]","changed","due to","new data",e),this.data=e,this.emit("changed",e),this.emit("change",e),!0):(r.debugLogChanges&&c.debug("skip","[DataProvider]","notify changed","due to","new data",e,"is the same as existing data",this.data),!1)}}]),o);function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));r.data=e||null,r.setMaxListeners(50);return r.options=n.LODASH.merge({},{debugLogChanges:!1},t),r}return i.DataProvider=t,i}},{"./Logger.util":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Logger.util.js","./MicroEventEmitter.class":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/MicroEventEmitter.class.js","./getObjectDiff.util":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/getObjectDiff.util.js"}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Logger.util.js":[function(e,t,r){"use strict";var o={isDebugMode:!new Function("try {return this===window;}catch(e){ return false;}")()||/CTI_FORCE_DEBUG=true/.test(window.document.cookie),debug:function(){var e;this.isDebugMode&&(e=console).log.apply(e,arguments)},error:function(){var e;this.isDebugMode&&(e=console).error.apply(e,arguments)}};r.Logger=o},{}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/MicroEventEmitter.class.js":[function(e,t,r){"use strict";function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var n=(function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}(a,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];var n=this.listeners[e];return!!n&&(n.forEach(function(e){return e.apply(void 0,r)}),!0)}},{key:"on",value:function(e,t){return this.addEventListener.apply(this,arguments)}},{key:"off",value:function(e,t){return this.removeEventListener.apply(this,arguments)}},{key:"addEventListener",value:function(e,t){return this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this.maxListeners&&this.maxListeners<this.listeners[e].length&&this.warnMaxListenersExceeded(e,this.listeners[e].length),this}},{key:"removeEventListener",value:function(e,t){var r=this.listeners[e];if(r)for(var o=0;o<r.length;o++)r[o]===t&&r.splice(o,1);return this}},{key:"setMaxListeners",value:function(e){this.maxListeners=e}},{key:"warnMaxListenersExceeded",value:function(e,t){console.warn('[Event Emitter] maximum listeners exceeded for event "'+e+'" :: set '+t+" :: max "+this.maxListeners)}}]),a);function a(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),this.listeners={},this.maxListeners=10}r.MicroEventEmitter=n},{}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Probe.class.js":[function(i,e,s){"use strict";var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}s.forLib=function(n){var e=i("./DataProvider.class").forLib(n).DataProvider,a=i("./Trigger.class").Trigger,r=i("./Logger.util").Logger,t=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=window._cti_backfill_object_create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,e),c(o,[{key:"ensureInitializeData",value:function(e){if(!e)throw new Error("Error initializing data :: samplersLib arg missing");this.samplersLib=e,this.updateData()}},{key:"ensureActivateTriggers",value:function(e){var o=this;if(!e)throw new Error("Error activating probe :: trigger constructors missing");o.triggersLib=e,o.triggers=o.triggersConfig.reduce(function(e,t){var r=o.triggersLib[t.trigger];if(!r)throw new Error("requested trigger not available in triggerLib :: unable to activate trigger :: "+t.trigger);return e[t.trigger]=new a(t.trigger,r.activate,r.deactivate),o.activateTrigger(e[t.trigger]),e},{})}},{key:"activateTrigger",value:function(t){try{var e=n.LODASH.merge({},this.triggersConfig.find(function(e){return e.trigger===t.name}));"onChange"!==e.trigger&&e.node instanceof o&&(e.node=e.node.getData()),t.active=t.activate(e,window._cti_backfill_function_prototype_bind(this.updateData,this))}catch(e){r.error("Error activating triggers for probe :: "+e)}}},{key:"resolveProbesForData",value:function(e,t){if("object"===(void 0===e?"undefined":l(e)))for(var r in e)e[r]instanceof o?e[r]=e[r].getData():"object"===l(e[r])&&t.resolveProbesForData(e[r],t)}},{key:"updateData",value:function(){var o=this,e=void 0;try{e=o.samplersConfig.reduce(function(e,t){var r=n.LODASH.merge({},t);return o.resolveProbesForData(r,o),r=n.LODASH.assign({data:e},r),o.samplersLib[r.sampler](r)},Function("return this;")())}catch(e){return void r.error("Unable to update data for Probe :: "+e)}o.update(e)}},{key:"getData",value:function(){return this.data}},{key:"eachTrigger",value:function(e){for(var t in this.triggers)e(this.triggers[t])}},{key:"deactivateTrigger",value:function(e){e.deactivate(),e.active=!1}},{key:"deactivateTriggers",value:function(){this.eachTrigger(this.deactivateTrigger)}}]),o);function o(e,t){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),!Array.isArray(e.samplers)||!Array.isArray(e.triggers))throw new Error("sampler and trigger config must be an array!");var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,null,t));return r.samplersConfig=e.samplers,r.triggersConfig=e.triggers,r.updateData=window._cti_backfill_function_prototype_bind(r.updateData,r),r}return s.Probe=t,s}},{"./DataProvider.class":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/DataProvider.class.js","./Logger.util":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Logger.util.js","./Trigger.class":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Trigger.class.js"}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/ProbeRegistry.class.js":[function(l,e,c){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e};function o(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}c.forLib=function(i){var r=l("./Probe.class").forLib(i).Probe,s=l("./Logger.util").Logger,e=l("./DataProvider.class").forLib(i).DataProvider,t=l("./trigger.lib").forLib(i).triggersLib,o=l("./sampler.lib").forLib(i).samplersLib;function n(e,t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,null,r));return o.probes={},o.exposedDataProbeNames=[],o.triggersLib=e,o.samplersLib=t,o.updateExposeData=window._cti_backfill_function_prototype_bind(o.updateExposeData,o),o}var a=new(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=window._cti_backfill_object_create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e),d(n,[{key:"init",value:function(e,t){var r=1<arguments.length&&void 0!==t?t:{};s.debug("Initializing ProbeRegistry");try{JSON.stringify(e)}catch(e){throw new Error("ProbeRegistry config must be JSON")}this.debugLogChanges=r.debugLogChanges||this.debugLogChanges,this.exposeDataConfig=e.expose,this.triggersLib=i.LODASH.merge({},this.triggersLib,r.customTriggersLib||{}),this.samplersLib=i.LODASH.merge({},this.samplersLib,r.customSamplersLib||{}),this.registerProbes(e.probes),this.ensureConfigProbeReferencesResolved(),this.activateProbes(),this.updateExposeData(),this.ensureExposedDataListenersSet()}},{key:"registerProbe",value:function(e,t){s.debug("registering probe :: ",e),this.probes[e]=t}},{key:"registerProbes",value:function(e){try{for(var t in e)this.registerProbe(t,new r(e[t]))}catch(e){s.error("Error registering new probes ::",e)}}},{key:"resolveProbeReferences",value:function(e,t){var a=this;try{return function e(t,r){if("object"===(void 0===t?"undefined":u(t)))for(var o in t)if(i.LODASH.get(t,[o,"probe"])){var n=t[o].probe;a.probes[n]||s.debug("Unable to locate Probe for probeName ::",n),t[o]=r(n)}else"object"===u(t[o])&&e(t[o],r)}(e,t)}catch(e){s.error("Error resolving probe references :: ",e)}}},{key:"ensureConfigProbeReferencesResolved",value:function(){function t(e){return r.probes[e]}var r=this;this.eachProbe(function(e){e.triggersConfig.forEach(function(e){return r.resolveProbeReferences(e,t)}),e.samplersConfig.forEach(function(e){return r.resolveProbeReferences(e,t)})})}},{key:"activateProbes",value:function(){var r=this;try{this.eachProbe(function(e,t){e.ensureInitializeData(r.samplersLib)}),this.eachProbe(function(e,t){r.ensureTriggersActivatedForProbe(e,t),e.updateData()})}catch(e){s.error("Error activating probes :: ",e)}}},{key:"ensureTriggersActivatedForProbe",value:function(e,t){e.ensureActivateTriggers(this.triggersLib),e.eachTrigger(function(e){e.active||s.error("Inactive Trigger identified for Probe: "+t+" :: Trigger: "+e.name)})}},{key:"updateExposeData",value:function(){var t=this,e=i.LODASH.merge({},t.exposeDataConfig);t.resolveProbeReferences(e,function(e){return t.probes[e].getData()}),t.update(e)}},{key:"ensureExposedDataListenersSet",value:function(){var t=this;t.debouncedUpdateExposeData=window._cti_backfill_function_prototype_bind(i.LODASH.debounce(t.updateExposeData,500),t),t.resolveProbeReferences(t.exposeDataConfig,function(e){return t.probes[e].on("change",t.debouncedUpdateExposeData),{probe:e}})}},{key:"getProbeData",value:function(e){return this.probes[e].getData()}},{key:"deactivateProbes",value:function(){var t=this;try{this.eachProbe(function(e){e.deactivateTriggers(),e.off("change",t.debouncedUpdateExposeData)})}catch(e){s.error("Error deactivating probes",e)}}},{key:"destroy",value:function(){this.deactivateProbes(),this.probes={}}},{key:"getData",value:function(){return this.data}},{key:"eachProbe",value:function(e){for(var t in this.probes)e(this.probes[t],t)}}]),n)(t,o);return c.getInstance=function(){return a},c}},{"./DataProvider.class":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/DataProvider.class.js","./Logger.util":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Logger.util.js","./Probe.class":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Probe.class.js","./sampler.lib":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/sampler.lib.js","./trigger.lib":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/trigger.lib.js"}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Trigger.class.js":[function(e,t,r){"use strict";r.Trigger=function e(t,r,o){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"string"!=typeof t||"function"!=typeof r||"function"!=typeof o)throw new Error("Invalid Trigger instantiation :: Triggers must provide valid name property, activate method and deactivate method upon instantiation");this.name=t,this.activate=r,this.deactivate=o,this.active=!1}},{}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/getObjectDiff.util.js":[function(e,t,r){"use strict";var n=e("lodash/isEqual");t.exports=function(r,o){return Object.keys(r).reduce(function(e,t){return o.hasOwnProperty(t)?n(r[t],o[t])&&e.splice(e.indexOf(t),1):e.push(t),e},Object.keys(o))}},{"lodash/isEqual":"node_modules/lodash/isEqual.js"}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/sampler.lib.js":[function(e,t,r){"use strict";var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],o=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(e){n=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=e("./Logger.util").Logger;r.forLib=function(a){return r.samplersLib={getGlobal:function(){return Function("return this")()},querySelector:function(e){var t=e.data;return document.querySelector(t)},forceBoolean:function(e){var t=e.data;return Boolean(t)},domNodeValue:function(e){var t=e.data,r=void 0;if(t instanceof Node){switch(t.tagName){case"INPUT":r="checkbox"===t.getAttribute("type")?t.checked:t.value;break;case"SELECT":r=t.value;break;default:r=t.innerHTML}return r}l.error("domNodeValue() - sampler data value must be valid DOM Node")},valueAtPath:function(e){var t,r=e.data,o=e.path,n=a.LODASH.get(r,o,void 0);return-1<["boolean","string","number","undefined"].indexOf(void 0===(t=n)?"undefined":s(t))?n:a.LODASH.cloneDeep(n)},dateParse:function(e){var t=e.data,r=e.options,o=void 0===r?{}:r;if(t)try{var n=o.format;if(n||(/[0-9]{4}\-[01][0-9]\-[0-3][0-9]/.test(t)?n="YYYY-MM-DD":/[01][0-9][\/-][0-3][0-9][\/-][0-9]{4}/.test(t)&&(t=t.replace(/\-/g,"/"),n="MM/DD/YYYY")),!n)throw new Error("Invalid date format");return a.MOMENT(t,n).format("MM/DD/YYYY")}catch(e){return console.log("Error parsing date :: "+e),""}else l.debug("missing date data :: unable to parse")},queryStringValue:function(e){var t=e.data;try{return window.location.search.replace("?","").split("&").reduce(function(e,t){var r=t.split("="),o=i(r,2),n=o[0],a=o[1];return e[n]=a,e},{})[t]}catch(e){l.error("Error getting value from queryString",e)}},matchFromPattern:function(e){var t=e.regexp,r=e.matchIndex,o=e.data;if("string"==typeof o){var n=o.match(t);return n&&n[r]||void 0}},joinAll:function(e){var t=e.data,r=e.delimiter;if(Array.isArray(t))return t.filter(function(e){return!!e}).join(r)},addAll:function(e){var t=e.data,r=e.options;if(Array.isArray(t)){return window._cti_backfill_array_prototype_reduce(t,function(e,t){return e+(Number(t)||0)},0)||r.default||0}l.error("addAll() - sampler config must container sources array")},getLength:function(e){var t=e.data,r=e.options;try{return t&&t.length||r.default||0}catch(e){l.error("getLength() - error reading length property from data",e)}},conditional:function(e){var t=e.conditionIf,r=e.conditionThen,o=e.conditionElse;return Boolean(t)?r:o},logicalOr:function(e){var t=e.data;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){if(r===t.length-1)return t[r];if(Boolean(t[r]))return t[r]}},logicalAnd:function(e){var t=e.data;Array.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++){if(r===t.length-1)return t[r];if(!Boolean(t[r]))return t[r]}},jsonStringify:function(e){var t=e.data;return JSON.stringify(t)}},r}},{"./Logger.util":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Logger.util.js"}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/trigger.lib.js":[function(e,t,r){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=e("./Logger.util").Logger;r.forLib=function(i){return r.triggersLib={onInit:{activate:function(e,t){return t(),!0},deactivate:function(){}},onInterval:{activate:function(e,t){var r=e.interval;return this.intervalToken=setInterval(t,r),!0},deactivate:function(){clearInterval(this.intervalToken)}},onObjectChange:{activate:function(e,t){var r=e.propName,o=e.node,a=this,n=o||{};return a.cb=t,function e(t,r){var o=t[r];Object.defineProperty(t,r,{get:function(){return o},set:function(e){o=e,a.cb()}});if("object"===(void 0===o?"undefined":s(o)))for(var n in o)e(o,n)}(n,r),!0},deactivate:function(){this.cb=function(){}}},onChange:{activate:function(e,t){var r=e.node;return this.cb=t,this.node=r,this.node?(this.node.addEventListener("change",t),!0):(o.debug("Unable to set change event listener :: valid node missing"),!1)},deactivate:function(){this.node.removeEventListener("change",this.cb)}},addEventListener:{activate:function(e,t){var r=e.event,o=e.node,n=e.options,a=void 0===n?{}:n;return this.event=r,this.target=o,this.cb=a.debounceMs?i.LODASH.debounce(t,a.debounceMs):t,this.target.addEventListener(r,t),!0},deactivate:function(){this.target.removeEventListener(this.event,this.cb)}}},r}},{"./Logger.util":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/Logger.util.js"}],"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/watcher.js":[function(t,e,r){"use strict";r.forLib=function(e){return r.ProbeRegistry=t("./src/ProbeRegistry.class").forLib(e).getInstance(),r}},{"./src/ProbeRegistry.class":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/src/ProbeRegistry.class.js"}],"lib/cti.sdk/lib/classes/ConditionalSelectorMonitor.js":[function(e,t,r){"use strict";r.forLib=function(f){f.logger.scope("classes/ConditionalSelectorMonitor");function p(e){return"function"==typeof e?e():e||""}var h=function(){return(Math.random()+Math.PI).toString(36).substring(2,10)};function m(t,e){var r=this,o=(e=e||{}).instanceID||h();function n(){var e=f.$(t);return 0!==e.length&&f.isElementVisible(e.get(0))}f.logger.debug("start","ConditionalSelectorMonitorSet::isShowing()");var a=setInterval(function(){try{var e=n();f.logger.debug("check","ConditionalSelectorMonitorSet::isShowing()",e,"selector",t),e&&(f.logger.debug("stop","ConditionalSelectorMonitorSet::isShowing()",e,"selector",t),a&&(clearInterval(a),a=null),f.$(t).off(f.dom.scopedEvent("click","cti_monitor_container_"+o)).on(f.dom.scopedEvent("click","cti_monitor_container_"+o),function(){try{setTimeout(function(){try{r.emit("click")}catch(e){f.logger.error(e)}},100)}catch(e){f.logger.error(e)}}),r.emit("show"))}catch(e){f.logger.error(e)}},250);r.destroy=function(){return f.logger.debug("run","ConditionalSelectorMonitor:destroy()"),f.$(t).off(f.dom.scopedEvent("click","cti_monitor_container_"+o)),r.emit("hide"),!0},r.destroyIfNotShowing=function(){f.logger.debug("run","ConditionalSelectorMonitor:destroyIfNotShowing()");var e=n();return f.logger.debug("inspect","ConditionalSelectorMonitorSet.destroyIfDone()","showing",e),!e&&(a&&(f.logger.debug("stop","ConditionalSelectorMonitorSet::destroyIfNotShowing()","showingInterval"),clearInterval(a),a=null),f.$(t).off(f.dom.scopedEvent("click","cti_monitor_container_"+o)),r.emit("hide"),!0)}}return m.prototype=window._cti_backfill_object_create(f.EventEmitter.prototype),{ConditionalSelectorMonitor:m,ConditionalSelectorMonitorSet:function(){var d=this,g={};d.destroy=function(){f.logger.debug("run","ConditionalSelectorMonitorSet:destroy()"),d.destroy.once.forEach(function(e){e()}),Object.keys(g).forEach(function(e){g[e].destroyIfNotShowing()&&delete g[e]})},d.destroy.once=[],d.monitorWhileVisible=function(e,o){var n=e;f.logger.debug("start","[ConditionalSelectorMonitorSet]","monitorWhileVisible(fieldName, monitorConfig)",n,o);var a=h();g[o.whileVisible]||(g[o.whileVisible]=new m(o.whileVisible,{instanceID:a}));var i=new f.EventEmitter,t=function(e){return"string"==typeof(e=p(e))&&(e=[e]),e.map(p)}(o.monitor),s={};function r(){t.forEach(function(e){s[e]&&s[e].off(f.dom.scopedEvent("click","cti_monitor_"+a)),delete s[e]})}d.destroy.once.push(function(){r()});var l=f.LODASH.debounce(function(){f.logger.debug("reattach","[ConditionalSelectorMonitorSet]","conditional monitor for selectors",t),r(),u()},100);function c(r){f.logger.debug("[ConditionalSelectorMonitorSet]","reattachIfNeeded(specificSelector)",r,"conditional monitor for selectors",t);var o=!1;return t.forEach(function(e){if(!(r&&e!==r||o)){var t=f.$(e).get(0);t&&t._cti_monitor_attached||(o=!0)}}),!!o&&(l(),!0)}function u(){f.logger.debug("attach","[ConditionalSelectorMonitorSet]","click","listener for",n,"to monitor selectors",t);var r=f.LODASH.debounce(function(e){i.emit("click",{domEvent:e})},100);t.forEach(function(t){s[t]=f.$(t),f.logger.debug("found","[ConditionalSelectorMonitorSet]","elements for selector",t,s[t]);var e=s[t].get(0);e?(s[t].off(f.dom.scopedEvent("click","cti_monitor_"+a)).on(f.dom.scopedEvent("click","cti_monitor_"+a),function(e){try{f.logger.debug("event","[ConditionalSelectorMonitorSet]","click","for",n,"on monitor selector",t),setTimeout(function(){try{if(r(e),o.destroyOnClick)return f.logger.debug("trigger","[ConditionalSelectorMonitorSet]","destroy()","due to","monitorConfig.destroyOnClick"),d.destroy(),void i.emit("destroyed");setTimeout(function(){try{c(t)&&f.logger.debug("trigger","[ConditionalSelectorMonitorSet]","reattach()","for",n,"and monitor selector",t)}catch(e){f.logger.error(e)}},1e3)}catch(e){f.logger.error(e)}},100)}catch(e){f.logger.error(e)}}),e._cti_monitor_attached=!0):f.logger.debug("warning","[ConditionalSelectorMonitorSet]","attach()","no elements matched for selector",t)})}return g[o.whileVisible].on("click",function(){try{c()}catch(e){f.logger.error(e)}}),g[o.whileVisible].on("show",function(){try{u()}catch(e){f.logger.error(e)}}),g[o.whileVisible].on("hide",function(){try{f.logger.debug("remove","[ConditionalSelectorMonitorSet]","click","listener for",n,"from monitor selectors",t),r()}catch(e){f.logger.error(e)}}),f.logger.debug("end","[ConditionalSelectorMonitorSet]","monitorWhileVisible()"),i}}}}},{}],"lib/cti.sdk/plugins/cti1/page-type.js":[function(e,t,r){"use strict";r.forSDK=function(t){t.console;return function(e){var r=new t.LIB.DataProvider;r.on("changed",function(e){t.LIB.event.channels.page.emit("page-type",e)});var o=t.LIB.JSON.internalize(e["#cti1lib"]);return o&&t.LIB.LODASH.assign(o.API.integration,{startWatcher:function(e,t){return r.update({name:e,watcherConfig:t}),o.watcher.getActive()},stopActiveWatcher:function(){r.update(void 0)}}),void 0===o&&t.LIB.logger.debug("page-type plugin config must have #cti1lib for CTI1.startWatcher in orchestration to work"),{pageType:t.LIB.JSON.externalize(r)}}}},{}],"lib/cti.sdk/plugins/cti1/probeRegistry.js":[function(t,e,r){"use strict";r.forLib=function(e){return t("../../../../../../digital/plugins/Watcher2/watcher").forLib(e)}},{"../../../../../../digital/plugins/Watcher2/watcher":"/Users/abigwonderful/Clicktripz/repos/cti.integrations/digital/plugins/Watcher2/watcher.js"}],"lib/cti.sdk/plugins/cti1/watcher.js~.normalized.js":[function(r,e,t){"use strict";t.forSDK=function(t){t.console;return function(e){return r("lib/cti/lib/watcher").forSDK(t)(e)}}},{"lib/cti/lib/watcher":"lib/cti/lib/watcher.js"}],"lib/cti/lib/watcher.js":[function(_,e,t){"use strict";t.forSDK=function(t){return function(e){return r(t,e)}};var r=function(s,r){var a=new s.LIB.DataProvider,i=new s.LIB.DataProvider([]),l=new s.LIB.DataProvider,c=r["#cti1lib"]&&s.LIB.JSON.internalize(r["#cti1lib"]),u=s.LIB.LODASH.get(c,"API.integration");if(r.pageType||(r.pageType=_("cti.sdk/plugins/cti1/page-type").forSDK(s)({"#cti1lib":c}).pageType),!s.LIB.LODASH.get(r,"on.loadWatchers",{}))throw new Error("Watcher plugin config must include on.loadWatchers");function d(e,t,r){var o=s.LIB.LODASH.get(e,r);o&&t&&s.LIB.LODASH.set(e,r,window._cti_backfill_function_prototype_bind(o,t))}var o=s.LIB.JSON.internalize(r.pageType);["on.enabled","on.prepop","on.submit","on.loadWatchers"].forEach(function(e){return d(r,u,e)});var g=s.LIB,f=(g.console,{});g.runtime.isBrowser()&&(f.WATCHERS={SearchForm:_("./watchers/SearchForm").forSDKWatcherPluginConfig(s,r).Watcher,CTZ:_("./watchers/CTZ").forSDKWatcherPluginConfig(s,r).Watcher,UCO:_("./watchers/UCO").forSDKWatcherPluginConfig(s,r).Watcher});function e(e){var t=s.LIB.LODASH.get(e,"name"),r=s.LIB.LODASH.get(e,"watcherConfig"),o=s.LIB.LODASH.get(e,"watcher.name")||t,n=s.LIB.LODASH.get(e,"watcher")||r;if(b){p.debug("trigger","stop()","for active watcher"),b.stop();b.watcherPluginInterface={reportSearchEvent:function(){},reportSearch:function(){},reportWatcherConfig:function(){}},b=null}o?(s.LIB.config.debug&&g.$("#_clicktripz_forms_container FORM[ct_strip_type]").css("background","rgb(246, 255, 6)"),(b=m(o,function(e){e.on(e.name+"_added",function(e){g.event.channels.lifecycle.emit("watcher",e)})},n)).watcherPluginInterface={reportSearchEvent:function(e){var t=i.data.concat([e]);i.update(t)},reportSearch:function(e){a.update(e)},reportWatcherConfig:function(e){return l.update(e)}},s.LIB.status.currentWatcher={name:b.name,vertical:s.LIB.CONSTANTS.VERTICAL.toText(b.config.type)},s.LIB.status.activeWatcher=b.name,c&&c.page.events.emit("watcher.changed",b)):s.LIB.status.activeWatcher=null}var p=g.logger.scope("lib/watcher"),h={},m=f.getWatcher=function n(a,e,t){if(!n._loadedWatchers){if("function"!=typeof r.on.loadWatchers)throw new Error("watcher plugin: config.loadWatchers is not a function!");n._loadedWatchers=r.on.loadWatchers()}if(h[a])t&&h[a].updateConfig(t),setTimeout(function(){try{p.debug("emit","getWatcher()","reinit","for name",a),h[a].emit(a+"_reinit")}catch(e){p.error(e)}},0);else{if(p.debug("set","watchers[name]","name",a),!n._loadedWatchers[a])throw new Error("Watcher with name '"+a+"' not declared/loaded!");var i=function(t){var e=Object.keys(s.LIB.LODASH.get(t,"elements.fields",{})),r=e.map(function(e){return'elements.fields["'+e+'"].on.reformat'}),o=e.map(function(e){return'elements.fields["'+e+'"].on.getValue'});return["on.prepop","on.submit","on.enabled"].concat(r).concat(o).forEach(function(e){return d(t,u,e)}),t};h[a]=n._loadedWatchers[a].call(s.LIB.LODASH.merge({},u,{WATCHERS:{SearchForm:function(e){Boolean(e.cityFallbackWatcher)&&g.config.debug&&g.console.error("In watcher '"+a+"', 'cityFallbackWatcher' is deprecated. Specify a 'city' field instead.");var t=Boolean(e.cityFallbackWatcher)&&"NO_FALLBACK"!==e.cityFallbackWatcher&&Boolean(n._loadedWatchers[e.cityFallbackWatcher])?e.cityFallbackWatcher:void 0;if(t){var r=s.LIB.LODASH.merge({},u,{WATCHERS:{SearchForm:function(e){return e}}}),o=n._loadedWatchers[t].call(r);e.elements.fields.city=o.elements.fields.city}return f.WATCHERS.SearchForm(i(e))},CTZ:function(e){return f.WATCHERS.CTZ(i(e))},UCO:function(e){return f.WATCHERS.UCO(i(e))}}})),h[a].name=a,t&&h[a].updateConfig(t),e(h[a]),setTimeout(function(){try{p.debug("emit","getWatcher()","added","for name",a),h[a].emit(a+"_added",h[a]),h[a].on(a+"_setupComplete",function(){p.debug("emit","getWatcher()","init","for name",a),h[a].emit(a+"_init",h[a])})}catch(e){p.error(e)}},0)}return h[a]},b=null;o.on("changed",e),e(o.data);var t={"#cti1":{searchEvents:s.LIB.JSON.externalize(i),search:s.LIB.JSON.externalize(a),watcherConfig:s.LIB.JSON.externalize(l)}};if(s._debugDataProviders.watcher={searchEvents:i,search:a,watcherConfig:l},c){var n={getActive:function(){return b},stopActive:function(){o.update(void 0)},start:function(e,t){return o.update({name:e,watcherConfig:t}),b}},v=g.LODASH.merge({},t,f,{watcher:n});c.WATCHER=v,c.watcher=v.watcher}return t}},{"./watchers/CTZ":"lib/cti/lib/watchers/CTZ.js","./watchers/SearchForm":"lib/cti/lib/watchers/SearchForm.js","./watchers/UCO":"lib/cti/lib/watchers/UCO.js","cti.sdk/plugins/cti1/page-type":"lib/cti.sdk/plugins/cti1/page-type.js"}],"lib/cti/lib/watchers/CTZ.js":[function(a,e,t){"use strict";t.forSDKWatcherPluginConfig=function(S,e){function A(e){return Promise.all(Object.values(e)).then(function(o){return Object.keys(e).reduce(function(e,t,r){return e[t]=o[r],e},{})})}var T=S.LIB,k=T.LODASH,D=T.logger.scope("watchers/CTZ"),t={},r=a("./Default").forSDKWatcherPluginConfig(S,e).Watcher,o=t.Watcher=function(e){if(!(this instanceof o))return new o(e);r.call(this,e)};o.prototype=window._cti_backfill_object_create(r.prototype);var n;return o.prototype.init=(n=function(){window.CTI_CTZ_VALIDATOR||S.HEADUP.showNotification("warning","Add the ctz-validator plugin to this integration!");var r=this;r.on(r.name+"_stop",function(){l.forEach(function(e){T.event.channels.page.removeListener("interfaceDefinition",e)})});function o(e,t){return k.get(e,t,"").replace(/-/g,"/")}function n(e){return k.get(e,"search.rooms",[]).reduce(function(e,t){return e+T.dom.window.parseInt(k.get(t,"adults",0),10)+T.dom.window.parseInt(k.get(t,"children",0),10)},0)||2}function t(e){return T.dom.window.parseInt(k.get(e,"search.adults",0),10)+T.dom.window.parseInt(k.get(e,"search.children",0),10)||1}function a(e){return 0<k.get(e,"search.rooms",[]).length?k.get(e,"search.rooms",[]).length:1}function e(r){return T.Promise.try(function(){var e=u.filter(function(e){return k.get(r,["verticals",e,"active"])});if(0===e.length)throw new Error("No active vertical in window._CTZ");var t=e[0];return 1<e.length&&T.console.info("WARNING: More than one _CTZ vertical enabled. Choosing vertical "+t),e[0]})}function i(r){return e(r).then(function(e){if("hotel"!==e)return e;var t=k.get(r,"verticals.hotel.property");return g(t).then(function(e){return e?"hotel":"city"})}).then(function(e){return d[e]||e})}function s(t){return e(t).then(function(e){return k.get(t,["verticals",e])})}var l=[],c={city:function(t){return function(o){return T.Promise.try(function(){var e=void 0!==k.get(o,"search.city")?k.get(o,"search.city").split(", "):"",t=k.get(o,"search.countryCode")||(k.get(o,"search.country")?k.get(o,"search.country").split(", "):""),r=k.get(o,"search.province")?k.get(o,"search.province").split(", "):"";if(t&&!Array.isArray(t)&&(t=[t]),t[0]){if(e[0].length<1&&0<t[0].length&&0<r[0].length){if(S.plugins["validate-city"])return S.plugins["validate-city"]({city:r[0]+", "+t[0],mapCountryToCity:!0}).then(function(e){return e||""});T.logger.debug("skipping validate-city on province because validate-city plugin is not present.")}return t[0].length<1&&e[0].length<1&&r[0].length<1?T.Promise.resolve(""):T.Promise.resolve(e[0]+", "+t[0])}return 1<e.length?(e=""+e.join(", "),T.Promise.resolve(e)):T.Promise.resolve("string"!=typeof e?e.toString():e)})}(t).then(function(e){return{city:e,checkInDate:o(t,"search.checkInDate"),checkOutDate:o(t,"search.checkOutDate"),guests:n(t),rooms:a(t)}})},hotel:function(t){var e=k.get(t,"search.property");return g(e).then(function(e){return{hotelID:e,checkInDate:o(t,"search.checkInDate"),checkOutDate:o(t,"search.checkOutDate"),guests:n(t),rooms:a(t)}})},cars:function(e){return{pickUpDate:k.get(e,"search.pickUpDate"),pickUpTime:k.get(e,"search.pickUpTime"),pickUpLoc:k.get(e,"search.pickUpLocIATA")||k.get(e,"search.pickUpLoc"),dropOffDate:k.get(e,"search.dropOffDate"),dropOffTime:k.get(e,"search.dropOffTime"),dropOffLoc:k.get(e,"search.dropOffLocIATA")||k.get(e,"search.dropOffLoc")}},flights:function(e){return{airportFrom:k.get(e,"search.airportFromIATA")||k.get(e,"search.airportFrom"),airportTo:k.get(e,"search.airportToIATA")||k.get(e,"search.airportTo"),departureDate:k.get(e,"search.departureDate"),returnDate:k.get(e,"search.returnDate"),numTravelers:t(e),oneWay:k.get(e,"search.oneWay")}},vacations:function(e){return{departureDate:k.get(e,"search.departureDate"),returnDate:k.get(e,"search.returnDate"),origin:k.get(e,"search.originIATA")||k.get(e,"search.origin"),destination:k.get(e,"search.destinationIATA")||k.get(e,"search.destination"),numTravelers:t(e)}}},u=["flight","hotel","vacation","car"],d={vacation:"vacations",hotel:"hotel",flight:"flights",car:"cars",city:"city"},g=k.memoize(function(e){var t=k.get(e,"id");if(t){return new T.Promise.resolve(null)}return T.Promise.resolve(void 0)},function(e){return T.JSON.stringify(e)}),f={};r.getFieldValues=function(){return f};function p(e){r.canPrepop(e)?r.watcherPluginInterface.reportSearchEvent({searchEventType:"prepop",domEvent:r.domEventToPlainObject(e)}):D.debug("skip CT.prepop() for [ct-datepicker], due to prepop handler returning false")}var h=function(e){A({vertical:i(e),search:function(e){return A({vertical:i(e),ctzSearch:s(e)}).then(function(e){return c[e.vertical](e.ctzSearch)})}(e),ctzSearch:s(e)}).then(function(e){return r.type=e.vertical,f=e.search,e.ctzSearch,r.watcherPluginInterface.reportSearch({reformatted:T.LODASH.merge({},e.search,{type:e.vertical}),raw:T.LODASH.merge({},e.ctzSearch,{type:e.vertical}),_internal_watcher:{watcherName:r.name}}),null}).catch(function(e){D.error(e)})},m=k.debounce(function(e,t){try{r.canSubmit({domEvent:t})&&(D.debug("emit","Watcher/form","submit"),r.watcherPluginInterface.reportSearchEvent({searchEventType:"launch",submitType:e,domEvent:r.domEventToPlainObject(t)}))}catch(e){D.error(e)}},1e3,{leading:!0,trailing:!1});T.event.channels.page.on("body.event",function(e){if(e.blocked)T.logger.debug("skip","CTZ:on:body.event","due to","target is blocked element");else{var t=e.event;r.config.enableBackgroundClick?(T.logger.debug("trigger","launchForType()"),m("Background",t)):T.logger.debug("skip","launchForType()","due to","watcher.config.enableBackgroundClick != true")}});var b,v,_,y,j=function(e){k.get(e,"prepop.domEventTypes",[]).forEach(function(e){var t=e+"._ctz";T.$("[ct-datepicker]").off(t).on(t,p)}),k.get(e,"launch.domEventTypes",[]).forEach(function(e){var t=e+"._ctz";T.$("[ct-submit]").off(t).on(t,function(e){m("Submit",e)})}),T.bodyEvent.setLaunchStrategyInterfaceDefinition(e)},C=T.CONSTANTS.DEFAULT_INTERFACE_DEFINITION;function w(){function r(e,t){var r=e[t];Object.defineProperty(e,t,{get:function(){return r},set:function(e){r=e,window._CTZ_RELOAD()}})}window._CTZ.verticals&&Object.keys(window._CTZ.verticals).forEach(function(e){if(k.get(window._CTZ,"verticals["+e+"].active",null)){r(window._CTZ.verticals[e],"active");var t=k.get(window._CTZ,"verticals["+e+"].search",null);t&&Object.keys(t).forEach(function(e){return r(t,e)})}})}b=function(e){j(C=e)},l.push(b),T.event.channels.page.on("interfaceDefinition",b),v=!1,_=0,y=setInterval(function(){if(window&&window._CTZ){var t=window._CTZ;Object.defineProperty(window,"_CTZ",{get:function(){return t},set:function(e){t=e,w()}}),w(),v=!0}if(v)return T.Promise.delay(10).then(function(){h(T.dom.window._CTZ),j(C)}),void clearInterval(y);20<=_?clearInterval(y):_++},500),T.event.channels.lifecycle.on("window._CTZ",function(e){h(e),j(C)})},function(){try{n.apply(this,arguments)}catch(e){D.error(e)}}),t}},{"./Default":"lib/cti/lib/watchers/Default.js"}],"lib/cti/lib/watchers/Default.js":[function(e,t,r){"use strict";r.forSDKWatcherPluginConfig=function(a,i){var s=a.LIB,e=(s.console,{}),l=s.logger.scope("watchers/Default"),t=e.Watcher=function(o){var n=this;if(!(n instanceof t))return new t(o);function e(){return l.debug("run","confirmEnabled()"),s.Promise.try(function(){return s.LODASH.get(i,"on.enabled",function(){return!0})()}).then(function(e){return!0===e&&o.on&&o.on.enabled?function(e){return l.debug("call","watcherConfig.on.enabled()"),s.Promise.try(function(){return e()}).then(function(e){return l.debug("got response","watcherConfig.on.enabled()",e),!0===(e=e||"none given")||s.LODASH.isArray(e)||(e=[e]),e}).catch(l.error)}(o.on.enabled):e}).then(function(e){return!0!==e?e:(l.debug("skip","confirmEnabled()","due to","no watcher nor global handler set"),!0)})}l.debug("new","Watcher()",o),n.config=o,n.updateConfig=function(e){n.config=s.LODASH.merge(n.config,e)},n.stop=function(){l.debug("run","Watcher.stop()"),n.emit(n.name+"_stop"),l.debug("done","Watcher.stop()")},setTimeout(function(){n.preinit(),e().then(function(e){if(!0!==e){l.record.disabled(e),a.stop(e),l.debug("disable","new","Watcher()","due to","enabled !== true",e);var t=s.LODASH.isArray(e)?e:[e];return a.HEADUP.showNotification("warning","Integration was disabled dynamically! Reason: "+t.join(", ")).catch(l.error),null}function r(e,t,r){try{l.debug("call","[integrationConfig|watcherConfig].on."+e+"()");var o=t(r||{});if("submit"===e&&o&&"function"==typeof o.then)throw new Error("Cannot return Promise from 'on.submit()' callback!");return l.debug("got response","[integrationConfig|watcherConfig].on."+e+"()",o),!0===(o=o||"none given")||s.LODASH.isArray(o)||(o=[o]),o}catch(e){l.error(e)}}n.canSubmit=function(e){l.debug("run","canSubmit()","for",o.type);var t=function(e){l.debug("run","confirmSubmit()");var t=null;return i.on&&i.on.submit&&(t=r("submit",i.on.submit,e)),null!==t&&!0!==t||o.on&&o.on.submit&&(t=r("submit",o.on.submit,e)),null!==t?t:(l.debug("skip","confirmSubmit()","due to","no watcher nor global handler set"),!0)}(e);return!0!==t?(l.record.disabled(t),a.stop(t),l.debug("return","canSubmit()","false","due to","submittable !== true"),a.HEADUP.showNotification("warning","Blocked submit! Reason: "+t.join(", ")).catch(l.error),!1):(l.debug("return","canSubmit()","true"),!0)},n.canPrepop=function(e){l.debug("run","canPrepop()","for",o.type);var t=function(e){l.debug("run","confirmPrepop()");var t=null;return i.on&&i.on.prepop?t=r("prepop",i.on.prepop,e):i.on&&i.on.submit&&(t=r("submit",i.on.submit,e)),null!==t&&!0!==t||(o.on&&o.on.prepop?t=r("prepop",o.on.prepop,e):o.on&&o.on.submit&&(t=r("submit",o.on.submit,e))),null!==t?t:(l.debug("skip","confirmPrepop()","due to","no watcher nor global handler set"),!0)}(e);if(!0===t)return l.debug("return","canPrepop()","true"),!0;if(l.debug("return","canPrepop()","false","due to","prepoppable !== true"),null==t)throw new Error("'confirmPrepop' must return 'true' or a string reason as to why disabled!");return a.HEADUP.showNotification("warning","Blocked prepop! Reason: "+t.join(", ")).catch(l.error),!1},l.debug("trigger","init()","on watcher"),setTimeout(function(){n.init()},0)}).catch(l.error)},0)};return t.prototype=window._cti_backfill_object_create(s.EventEmitter.prototype),t.prototype.preinit=function(){},t.prototype.init=function(e){throw new Error("You must subclass the 'init()' method!")},t.prototype.on("error",function(e){l.error(e)}),t.prototype.domEventToPlainObject=function(e){function t(e){return e?{nodeName:e.nodeName,nodeType:e.nodeType,isConnected:e.isConnected}:null}return{type:e.type,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,timeStamp:e.timeStamp,isTrusted:e.isTrusted,target:t(e.target),currentTarget:t(e.target)}},e}},{}],"lib/cti/lib/watchers/SearchForm.js":[function(n,e,t){"use strict";var W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.forSDKWatcherPluginConfig=function(P,e){var I=P.LIB,t=(I.console,{}),x=n("cti.sdk/lib/classes/ConditionalSelectorMonitor").forLib(I).ConditionalSelectorMonitorSet,F=I.logger.scope("watchers/SearchForm"),N=F,r=n("./Default").forSDKWatcherPluginConfig(P,e).Watcher,o=t.Watcher=function(e){if(!(this instanceof o))return new o(e);r.call(this,e)};return o.prototype=window._cti_backfill_object_create(r.prototype),o.prototype.init=function(){try{var e,y=function(e){return"function"==typeof e&&(e=e()),"object"===(void 0===e?"undefined":W(e))&&e.selector&&(e=e.selector),e||""},j=function(e){return"string"==typeof(e=y(e))&&(e=[e]),e.map(y)},C=function(e){n.push(e)},w=function(){try{n.forEach(function(e){e()}),n=[],D.unregisterAll()}catch(e){throw N.error("Error while stopping internal watcher listeners:",e),e}},S=function(){return T.name+":"+k.type},A=function(){if(T.watcherPluginInterface.reportWatcherConfig(k),w(),"object"===W(k.elements.form)&&"string"==typeof k.elements.form.selector&&!0!==k.elements.form.selectorFound){if("number"==typeof k.elements.form.pollDuration)return N.debug("init","Polling for form element :: watcherConfig.elements.form",k.elements.form),O.register(k.elements.form.type||"visible",y(k.elements.form.selector),function(e){e?(k.elements.form.selectorFound=!0,A()):I.logger.error("[waitForForm] typeCheckIsTruthy is false for form found at selector '"+y(k.elements.form.selector)+"'!")},null,{pollDuration:k.elements.form.pollDuration,missingHandler:function(){L?("function"==typeof k.elements.form.missingHandler?k.elements.form.missingHandler():I.logger.error("[waitForForm] No form found at selector '"+y(k.elements.form.selector)+"'!"),T.emit(T.name+"_stop")):N.debug("skip waitForForm","missingHandler","due to","not active")}}),null;I.logger.debug("watcherConfig.elements.form.pollDuration must be an integer in order to enforce polling")}var l=null,n=null;if(void 0!==k.elements.form){if(l=y(k.elements.form),!(n=I.$(l)).get(0))throw new Error("No form found at selector '"+l+"'!");if(!I.config.options.multiForm&&1<n.length)throw new Error("Form selector '"+l+"' matched "+n.length+" elements. It may only match one.")}else n=I.$("BODY");var a={},c={},u={},d={},g={},f=null;function p(r,e){return void 0===e&&(e=""),I.Promise.try(function(){return e}).then(function(e){return function(t){return p._reformatCache||(p._reformatCache={}),p._reformatCache[S()+r+t]||(p._reformatCache[S()+r+t]=I.Promise.try(function(){var e=t;return k.elements.fields[r].on&&"function"==typeof k.elements.fields[r].on.reformat&&(N.debug("trigger","on.reformat()","for field",r,"with value",e,d),e=k.elements.fields[r].on.reformat(e,d)),e}).then(function(e){return N.debug("continue after","on.reformat()","for field",r,"given value",e,d),e})),p._reformatCache[S()+r+t]}(d[r]=e).then(function(e){if(e&&I.SCHEMA.verticalsFields[k.type][r]&&"date"===I.SCHEMA.verticalsFields[k.type][r].type&&void 0!==k.elements.fields[r].format&&(e=I.DATE.convertUsingFormatStrings(k.elements.fields[r].format,I.SCHEMA.verticalsFields[k.type][r].format,e)),N.debug("run","setFieldValue()",r,e),u[r]!==e)return u[r]=e,k.elements.fields[r].alsoSync&&k.elements.fields[r].alsoSync.forEach(function(e){c[e]&&(N.debug("trigger","syncFieldValue(fieldName)",e,"due to","alsoSync"),h(e))}),T.notifyFieldValuesChanged(),null}).catch(N.error)})}function h(n,e,t){if(L){setTimeout(function(){if(L)try{D.ensureAttached(),f&&f.destroy()}catch(e){N.error(e)}},100);var r=!1;if(k.elements.fields[n].monitor&&(r=e=!0),void 0!==k.elements.fields[n].poll&&(e=k.elements.fields[n].poll),void 0!==k.elements.fields[n].pollFullDuration&&(r=k.elements.fields[n].pollFullDuration),N.debug("run","syncFieldValue(fieldName, poll, valueOverride)",n,e,t),N.debug("inspect","syncFieldValue()","pollFullDuration",r),h._valueOverrides||(h._valueOverrides={}),null!=t&&(h._valueOverrides[n]=t),e){var o=null,a=0;o=setInterval(s,500),s()}else p(n,i())}function i(){var e=F.scope("getFieldValue"),t=null;if(k.elements.fields[n].on&&k.elements.fields[n].on.getValue){var r={};if(r.previous=g[n]||{},t=k.elements.fields[n].on.getValue(u,d,r),e.debug("got","getFieldValue()","for field",n,"value >>>",t,"<<< from watcherConfig.elements.fields[fieldName].on.getValue()"),"string"!=typeof t&&"boolean"!=typeof t&&"number"!=typeof t&&void 0!==t&&"object"===(void 0===t?"undefined":W(t))&&"function"!=typeof t.then){if(e.debug("inspect","getFieldValue()","for field",n,"keep as previous value",t),void 0===t.value)throw new Error("If returning an object for 'on.getValue()' it must contain a 'value' property to be used as the field value!");t=(g[n]=t).value}}else if(void 0!==h._valueOverrides[n])t=h._valueOverrides[n],e.debug("got","getFieldValue()","for field",n,"value",t,"from _valueOverrides");else{var o=c[n]&&c[n].element||null;if(o&&0!==o.length||(e.error("get","getFieldValue()","No element found for field '"+n+"'","fieldElements",'"'+o.selector+'"'),t="",o=null),o){if(k.elements.fields[n].valueSelector){if(l=y(c[n].selector)+" "+y(k.elements.fields[n].valueSelector),e.debug("get","getFieldValue()","for field",n,"using","valueSelector",l),!(o=I.$(l))||0===o.length)return e.error("fieldElements:",c),void e.error("No value element found for selector '"+l+"' for field '"+n+"'");if(1<o.length)return e.error("element:",o),void e.error("Multiple elements found for selector '"+l+"' for field '"+n+"'. The selector must only match ONE element!")}"INPUT"===o.get(0).tagName?"checkbox"===o.attr("type")?(t=o.prop("checked"),e.debug("got","getFieldValue()","for field",n,"value",t,"from INPUT[type=checkbox]")):(t=o.val(),e.debug("got","getFieldValue()","for field",n,"value",t,"from INPUT")):"SELECT"===o.get(0).tagName?(t=o.val(),e.debug("got","getFieldValue()","for field",n,"value",t,"from SELECT")):(t=o.html(),e.debug("got","getFieldValue()","for field",n,"value",t,"from "+o.get(0).tagName+" using .html()"))}}return"&nbsp;"===t&&(t=""),e.debug("return","getFieldValue()","for field",n,"value",t),t}function s(){try{if(!L)return void clearInterval(o);var e=i();if(N.debug("poll","syncFieldValue()",n,e),e!==u[n]&&(p(n,e),!0!==r))return void clearInterval(o);6<++a&&(N.debug("abort","syncFieldValue()","due to","no changed detected for '"+n+"' after 2 seconds so we assume it will not change."),clearInterval(o))}catch(e){N.error(e)}}}k.blocked&&j(k.blocked).forEach(function(e){a["blocked:"+e]=e}),T.getFieldValues=function(){return u},T.notifyFieldValuesChanged=function e(t){function r(){if(L){N.debug("emit","notifyFieldValuesChanged()","change",u);var e=I.LODASH.merge({},u,{type:T.type}),t=I.LODASH.merge({},d,{type:T.type}),r="hotel"===T.type&&!Boolean(u.hotelID),o=r?E(e):e,n=r?E(t):t;T.watcherPluginInterface.reportSearch({reformatted:o,raw:n,_internal_watcher:{watcherName:T.name}})}else N.debug("skip","notifyFieldValuesChanged()","due to","not active")}!0,N.debug("run","notifyFieldValuesChanged(force)",t),t?r():(e.__debounced||(e.__debounced=I.LODASH.debounce(r,100)),e.__debounced())},T.syncFieldValues=function e(t){function r(){Object.keys(k.elements.fields).forEach(function(e){h(e)}),T.notifyFieldValuesChanged(t)}N.debug("run","syncFieldValues()"),t?r():(e.__debounced||(e.__debounced=I.LODASH.debounce(r,100)),e.__debounced())},T.syncFieldValue=h;var i={};N.debug("run","init()","select all field elements for watcher",T.name,"watcherConfig.elements.fields",k.elements.fields),Object.keys(k.elements).forEach(function(r){"fields"===r?Object.keys(k.elements.fields).forEach(function(t){"string"==typeof k.elements.fields[t]&&(k.elements.fields[t]={selector:k.elements.fields[t]});var e=k.elements.fields[t];if(void 0!==I.LODASH.get(I.SCHEMA.verticalsFields[k.type][t],"triggerPrepop")&&void 0===e.triggerPrepop&&(e.triggerPrepop=I.SCHEMA.verticalsFields[k.type][t].triggerPrepop),void 0!==I.LODASH.get(I.SCHEMA.verticalsFields[k.type][t],"alsoSync")&&(e.alsoSync=(e.alsoSync||[]).concat(I.SCHEMA.verticalsFields[k.type][t].alsoSync)),e.on=I.$.extend({},I.LODASH.get(I.SCHEMA.verticalsFields[k.type][t],"on",{}),e.on||{}),I.SCHEMA.verticalsFields[k.type][t]&&"date"===I.SCHEMA.verticalsFields[k.type][t].type&&!e.format&&(!e.on||!e.on.reformat))throw new Error("Field '"+t+"' for type '"+k.type+"' must specify property 'format' to indicate what format the date is found in.");if(e.selector){var r=y(e.selector);if(a[t]=y(k.elements.form)+" "+r,c[t]={selector:r,element:I.$(r,n)},N.debug("Ran selector '"+a[t]+"' for fieldName '"+t+"' and got element:",c[t].element),c[t].selector&&c[t].element.length,I.isElementVisible(c[t].element)||setTimeout(function(){try{I.onceSelectorVisible(r,function(){h(t)})}catch(e){N.error(e)}},100),e.valueSelector){var o=y(e.valueSelector);I.isElementVisible(I.$(o).get(0))||setTimeout(function(){try{I.onceSelectorVisible(o,function(){h(t)})}catch(e){N.error(e)}},100)}}h(t),e.monitor&&j(e.monitor).forEach(function(e){"string"!=typeof e&&(e=e.whileVisible),0===I.$(e).length&&I.console.info("WARNING: Monitor selector",e,"not yet found. In many cases this is normal. The element may only show up once the user interacts with the owning field."),I.bodyEvent.addBlockedSelector(e),i[e]||(i[e]=[]),i[e].push(t)})}):j(k.elements[r]).forEach(function(e,t){e&&(/^\/\s/.test(e)||"form"===r?a[S()+r+t]=e.replace(/^\/\s/,""):a[S()+r+t]=y(k.elements.form)+" "+e)})}),N.debug("inspect","init()","fieldElements",c),I.bodyEvent.addBlockedSelector(a),I.config.debug&&I.bodyEvent.ensureIDsReferencedAreUnique(),f=new x,C(f.destroy),Object.keys(k.elements.fields).forEach(function(a){var t=[];function r(e){try{N.debug("handle","syncHandler(valueOverride)",e,"for field",a),h(a,!1,e)}catch(e){N.error(e)}}k.elements.fields[a].monitor&&k.elements.fields[a].monitor.forEach(function(e){"string"!=typeof e&&"object"===(void 0===e?"undefined":W(e))&&"string"==typeof e.whileVisible&&t.push(e)});var i=[],o=[];function n(e,t){o.sort().join(",")===e.sort().join(",")||(i.forEach(function(e){D.unregisterHandler(e.domEventType,e.selector,e.handler)}),i=[],function(n,e){e.forEach(function(r){var e=I.$(r),t=1<=e.length&&"INPUT"===e.get(0).tagName&&"text"===e.attr("type"),o=1<=e.length&&"SELECT"===e.get(0).tagName;(t||o)&&!k.elements.fields[a].triggerPrepop||n.forEach(function(e){N.debug("attach",e+":prepop listener to",a);function t(e){!function(e){if(N.debug("start","notifyTriggerPrepop(ctiEvent)",e),P.state.searchWindowLaunchBlocked)N.debug("skip","CT.prepop()","for field",a,"due to","SDK.state.searchWindowLaunchBlocked");else if(k.elements.fields[a].triggerPrepop){if(I.LODASH.isObject(k.elements.fields[a].triggerPrepop)){if(!k.elements.fields[a].triggerPrepop.enabled)return N.debug("skip","CT.prepop()","for field",a,"due to","triggerPrepop.enabled !== true");if(!I.$(e.domEvent.currentTarget).is(k.elements.fields[a].triggerPrepop.selector||""))return N.debug("skip","CT.prepop()","for field",a,"due to","event target not matching triggerPrepop.selector",k.elements.fields[a].triggerPrepop.selector)}T.canPrepop(e)?(N.debug("trigger","CT.prepop()"),T.watcherPluginInterface.reportSearchEvent({searchEventType:"prepop",domEvent:T.domEventToPlainObject(e)})):N.debug("skip","CT.prepop()","for field",a,"due to","canPrepop() === false"),N.debug("end","notifyTriggerPrepop()")}else N.debug("skip","CT.prepop()","for field",a,"due to","triggerPrepop not set")}({domEvent:e})}D.register(e,r,t),i.push({selector:r,domEventType:e,handler:t})})})}(e,t),o=e)}0<t.length&&(N.debug("attach","click:monitor listener to",a),D.register("click",k.elements.fields[a].selector,function(){try{N.debug("handle","monitorHandler()","for field",a),t.forEach(function(e){f.monitorWhileVisible(a,e).on("click",function(){I.logger.debug("handle","monitorHandler() : monitorWhileVisible()","click","for field",a),h(a,!0)})})}catch(e){N.error(e)}}));var e=k.elements.fields[a].selector?[y(k.elements.fields[a].selector)]:[],s=k.elements.fields[a].monitor?j(k.elements.fields[a].monitor).map(function(e){return"string"!=typeof e?e.whileVisible:e}):[],l=e.concat(s);function c(e){n(I.LODASH.get(e,"prepop.domEventTypes",[]),l)}n(I.CONSTANTS.DEFAULT_INTERFACE_DEFINITION.prepop.domEventTypes,l),I.event.channels.page.on("interfaceDefinition",c),C(function(){I.event.channels.page.removeListener("interfaceDefinition",c)}),l.forEach(function(e){!function(e,t){t.forEach(function(t){N.debug("attach",t+":sync listener to",a),D.register(t,e,function(e){r("change"===t?I.$(this).val():null)})})}(e,["click","blur","change"])})});var o=I.LODASH.debounce(function(e){try{if(!L)return void N.debug("skip","emit","Watcher/form","submit","due to","not active");if(T.canSubmit({domEvent:e})){if(T.config.forcePageSync){var t={};I.LODASH.each(Object.keys(T.config.forcePageSync),function(e){t[e]=T.config.forcePageSync[e]()});var r=I.LODASH.merge({},d,t),o=I.LODASH.merge({},r,{type:T.type}),n=I.LODASH.merge({},r,{type:T.type}),a="hotel"===T.type&&!Boolean(r.hotelID),i=a?E(o):o,s=a?E(n):n;T.watcherPluginInterface.reportSearch({reformatted:i,raw:s,_internal_watcher:{watcherName:T.name}})}N.debug("emit","Watcher/form","submit"),T.watcherPluginInterface.reportSearchEvent({searchEventType:"launch",submitType:"Submit",domEvent:T.domEventToPlainObject(e)})}}catch(e){N.error(e)}},1e3,{leading:!0,trailing:!1});T.submit=o;var t=j(k.elements.submit),s=[],r=[];function m(e,t){r.sort().join(",")===e.sort().join(",")||(s.forEach(function(e){D.unregisterHandler(e.domEventType,e.selector,e.handler)}),s=[],function(e,r){-1!==e.indexOf("submit")&&"FORM"===n.get(0).tagName&&(N.debug("attach","form:submit listener to",y(k.elements.form)),D.register("submit",y(k.elements.form),o),s.push({domEventType:"submit",selector:y(k.elements.form),handler:o}));e.filter(function(e){return"submit"!==e}).forEach(function(t){r.forEach(function(e){N.debug("attach",t+":submit listener to",e),D.register(t,e,o),s.push({domEventType:t,selector:e,handler:o})})})}(e,t),r=e)}function e(e){I.bodyEvent.setLaunchStrategyInterfaceDefinition(e)}I.event.channels.page.on("interfaceDefinition",e),C(function(){I.event.channels.page.removeListener("interfaceDefinition",e)});function b(e){if(e.blocked)I.logger.debug("skip","SearchForm:on:body.event","due to","target is blocked element");else{var t=e.event;if(I.logger.debug("inspect","SearchForm:on:body.event","event",t),T.canSubmit)if(T.config.enableBackgroundClick)T.canSubmit({domEvent:t})?(I.logger.debug("trigger","launchForType()"),T.watcherPluginInterface.reportSearchEvent({searchEventType:"launch",submitType:"Background",domEvent:T.domEventToPlainObject(t)})):I.logger.debug("skip","launchForType()","due to","activeWatcher.canSubmit() === false");else I.logger.debug("skip","launchForType()","due to","watcher.config.enableBackgroundClick != true");else I.logger.debug("skip","launchForType()","due to","no watcher.canSubmit() callback")}}function v(e){m(I.LODASH.get(e,"launch.domEventTypes",[]),t)}function _(e){try{e.blocked&&(i[e.blocked]?i[e.blocked].forEach(function(e){N.debug("trigger","syncFieldValue() based on monitored declaration","due to","Watcher/body:event","for field",e),h(e,!0)}):N.debug("ignore","Watcher/body:event","due to","blocked element",e.blocked))}catch(e){N.error(e)}}I.event.channels.page.on("body.event",b),C(function(){I.event.channels.page.removeListener("body.event",b)}),m(I.CONSTANTS.DEFAULT_INTERFACE_DEFINITION.launch.domEventTypes,t),I.event.channels.page.on("interfaceDefinition",v),C(function(){I.event.channels.page.removeListener("interfaceDefinition",v)}),I.event.channels.page.on("body.event",_),C(function(){I.event.channels.page.removeListener("body.event",_)}),T.emit(T.name+"_setupComplete")},T=this,k=T.config,t=(a(e={},I.CONSTANTS.VERTICAL.HOTEL_CITYWIDE,"city"),a(e,I.CONSTANTS.VERTICAL.HOTEL,"hotel"),a(e,I.CONSTANTS.VERTICAL.FLIGHT,"flights"),a(e,I.CONSTANTS.VERTICAL.CAR_RENTAL,"cars"),a(e,I.CONSTANTS.VERTICAL.VACATION,"vacations"),a(e,I.CONSTANTS.VERTICAL.CRUISE,"cruise"),a(e,I.CONSTANTS.VERTICAL.NON_TRAVEL,"non-travel"),e);!t[k.type]&&I.config.debug&&I.console.error("'"+k.type+"' is no longer a supported watcher type. Use SDK.LIB.CONSTANTS.VERTICAL.*"),T.type=k.type=t[k.type]||k.type;var r="hotel"===k.type&&!k.isHotelWatcherWithoutCityFallback,o=k.elements.fields.city;r&&!o&&I.config.debug&&I.console.error("In watcher '"+T.name+"', you must have a 'city' or indicate that no city fallback will be provided with 'isHotelWatcherWithoutCityFallback: true'");var D=I.SelectorListeners(),O=I.SelectorWatchers(),L=!0;if(k.trigger&&k.trigger.reload)try{N.debug("hook","trigger.reload()"),k.trigger.reload(I.LODASH.debounce(function(){L?(N.debug("run","trigger.reload()"),T.emit(T.name+"_reinit")):N.debug("skip run","trigger.reload()","due to","not active")},1e3))}catch(e){N.error(e)}"city"===k.type&&k.elements.fields.guests&&!k.elements.fields.rooms&&(k.elements.fields.rooms={monitor:k.elements.fields.guests.monitor,on:{getValue:function(){var e=T.getFieldValues().guests;return Math.ceil(e/2)||1}}});var n=[],E=function(e){return P.LIB.LODASH.merge({},P.LIB.LODASH.omitBy(e,function(e,t){return"hotelID"===t}),{type:"city"})};T.on(T.name+"_init",function(){L=!0,N.debug("schedule","event:init"),setTimeout(function(){try{N.debug("run","event:init"),T.syncFieldValues()}catch(e){T.emit("error",e)}},0)}),T.on(T.name+"_reinit",function(){try{L=!0,A(),T.syncFieldValues(!0)}catch(e){T.emit("error",e)}}),T.on(T.name+"_stop",function(){L=!1,w()}),A()}catch(e){N.error(e)}},t}},{"./Default":"lib/cti/lib/watchers/Default.js","cti.sdk/lib/classes/ConditionalSelectorMonitor":"lib/cti.sdk/lib/classes/ConditionalSelectorMonitor.js"}],"lib/cti/lib/watchers/UCO.js":[function(n,e,a){"use strict";function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}a.forSDKWatcherPluginConfig=function(p,e){var h=p.LIB,m=h.LODASH,b=h.logger.scope("watchers/UCO"),v=n("../../../cti.sdk/plugins/cti1/probeRegistry").forLib(h).ProbeRegistry,t=n("./Default").forSDKWatcherPluginConfig(p,e).Watcher,r=a.Watcher=function(e){if(!(this instanceof r))return new r(e);t.call(this,e)};r.prototype=window._cti_backfill_object_create(t.prototype);var o;return r.prototype.init=(o=function(){var e;window.CTI_CTZ_VALIDATOR||p.HEADUP.showNotification("warning","Add the ctz-validator plugin to this integration!");var a=this;a.on(a.name+"_stop",function(){r.forEach(function(e){h.event.channels.page.removeListener("interfaceDefinition",e)})});function t(e){try{var t=function(t){var e=n.filter(function(e){return m.get(t,[e,"active"])});if(0===e.length)return"";var r=e[0];return 1<e.length&&h.console.info("WARNING: More than one _CTZ vertical enabled. Choosing vertical "+r),e[0]}(e);if("hotel"!==t)return h.Promise.resolve(t);var r=m.get(e,["hotel","property"]);return i(r).then(function(e){return e?"hotel":"city"})}catch(e){return h.logger.error("Error getting active vertical :: "+e),null}}var r=[],o={probes:{window:{samplers:[{sampler:"getGlobal"}],triggers:[{trigger:"onInit"}]},euUseContext:{samplers:[{sampler:"valueAtPath",data:{probe:"window"},path:"_CTZG.bootloader.constrain.data.products.exit_unit.useContext"}],triggers:[{trigger:"onChange",node:{probe:"window"}}]},lbUseContext:{samplers:[{sampler:"valueAtPath",data:{probe:"window"},path:"_CTZG.bootloader.constrain.data.products.lightbox.useContext"}],triggers:[{trigger:"onChange",node:{probe:"window"}}]},useContext:{samplers:[{sampler:"logicalOr",data:[{probe:"euUseContext"},{probe:"lbUseContext"}]}],triggers:[{trigger:"onChange",node:{probe:"euUseContext"}},{trigger:"onChange",node:{probe:"lbUseContext"}}]},audiences:{samplers:[{sampler:"valueAtPath",data:{probe:"window"},path:"_CTZG.bootloader.constrain.data.audiences"},{sampler:"jsonStringify"}],triggers:[{trigger:"onChange",node:{probe:"window"}}]},ctz:{samplers:[{sampler:"valueAtPath",path:"_CTZ",data:{probe:"window"}}],triggers:[{trigger:"onChange",node:{probe:"window"}},{trigger:"onObjectChange",propName:"_CTZ",node:{probe:"window"}}]},enabled:{samplers:[{sampler:"valueAtPath",data:{probe:"ctz"},path:"enabled"}],triggers:[{trigger:"onChange",node:{probe:"ctz"}}]},verticals:{samplers:[{sampler:"valueAtPath",data:{probe:"ctz"},path:"verticals"}],triggers:[{trigger:"onChange",node:{probe:"ctz"}}]},cityFull:{samplers:[{sampler:"joinAll",data:[{probe:"city"},{probe:"province"},{probe:"country"},{probe:"countryCode"}],delimiter:", "}],triggers:[{trigger:"onChange",node:{probe:"city"}},{trigger:"onChange",node:{probe:"province"}},{trigger:"onChange",node:{probe:"country"}},{trigger:"onChange",node:{probe:"countryCode"}}]},city:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.city"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},country:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.country"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},countryCode:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.countryCode"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},province:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.province"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},hotelID:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.property.id"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},guests:{samplers:[{sampler:"addAll",data:[{probe:"roomsAdults"},{probe:"roomsChildren"}],options:{default:1}}],triggers:[{trigger:"onChange",node:{probe:"roomsAdults"}},{trigger:"onChange",node:{probe:"roomsChildren"}}]},rooms:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.rooms"},{sampler:"getLength",options:{default:1}}],triggers:[{trigger:"onChange",node:{probe:"roomsAdults"}},{trigger:"onChange",node:{probe:"roomsChildren"}}]},roomsAdults:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.rooms[0].adults"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},roomsChildren:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.rooms[0].children"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},checkInDate:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.checkInDate"},{sampler:"dateParse"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},checkOutDate:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"hotel.search.checkOutDate"},{sampler:"dateParse"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},departureDateFlights:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.departureDate"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},returnDateFlights:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.returnDate"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},airportFromCity:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.airportFrom"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},airportToCity:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.airportTo"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},airportFromIATA:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.airportFromIATA"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},airportToIATA:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.airportToIATA"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},airportTo:{samplers:[{sampler:"logicalOr",data:[{probe:"airportToIATA"},{probe:"airportToCity"}]}],triggers:[{trigger:"onChange",node:{probe:"airportToIATA"}},{trigger:"onChange",node:{probe:"airportToCity"}}]},airportFrom:{samplers:[{sampler:"logicalOr",data:[{probe:"airportFromIATA"},{probe:"airportFromCity"}]}],triggers:[{trigger:"onChange",node:{probe:"airportFromIATA"}},{trigger:"onChange",node:{probe:"airportFromCity"}}]},oneWay:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.oneWay"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},flightAdults:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.adults"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},flightChildren:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"flight.search.children"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},flightNumTravelers:{samplers:[{sampler:"addAll",data:[{probe:"flightAdults"},{probe:"flightChildren"}],options:{default:1}}],triggers:[{trigger:"onChange",node:{probe:"flightAdults"}},{trigger:"onChange",node:{probe:"flightChildren"}}]},departureDateVacations:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"vacation.search.departureDate"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},returnDateVacations:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"vacation.search.returnDate"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},departureDate:{samplers:[{sampler:"logicalOr",data:[{probe:"departureDateFlights"},{probe:"departureDateVacations"}]},{sampler:"dateParse"}],triggers:[{trigger:"onChange",node:{probe:"departureDateFlights"}},{trigger:"onChange",node:{probe:"departureDateVacations"}}]},returnDate:{samplers:[{sampler:"logicalOr",data:[{probe:"returnDateFlights"},{probe:"returnDateVacations"}]},{sampler:"dateParse"}],triggers:[{trigger:"onChange",node:{probe:"returnDateFlights"}},{trigger:"onChange",node:{probe:"returnDateVacations"}}]},origin:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"vacation.search.originIATA"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},destination:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"vacation.search.destinationIATA"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},vacationAdults:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"vacation.search.adults"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},vacationChildren:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"vacation.search.children"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},vacationNumTravelers:{samplers:[{sampler:"addAll",data:[{probe:"vacationAdults"},{probe:"vacationChildren"}],options:{default:1}}],triggers:[{trigger:"onChange",node:{probe:"vacationAdults"}},{trigger:"onChange",node:{probe:"vacationChildren"}}]},numTravelers:{samplers:[{sampler:"logicalOr",data:[{probe:"flightNumTravelers"},{probe:"vacationNumTravelers"}]}],triggers:[{trigger:"onChange",node:{probe:"flightNumTravelers"}},{trigger:"onChange",node:{probe:"vacationNumTravelers"}}]},pickUpLocCity:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.pickUpLoc"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},dropOffLocCity:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.dropOffLoc"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},pickUpLoc:{samplers:[{sampler:"logicalOr",data:[_({probe:"pickUpLocIATA"},"probe","pickUpLocCity")]}],triggers:[{trigger:"onChange",node:{probe:"pickUpLocIATA"}},{trigger:"onChange",node:{probe:"pickUpLocCity"}}]},dropOffLoc:{samplers:[{sampler:"logicalOr",data:[{probe:"dropOffLocIATA"},{probe:"dropOffLocCity"}]}],triggers:[{trigger:"onChange",node:{probe:"dropOffLocCity"}},{trigger:"onChange",node:{probe:"dropOffLocIATA"}}]},pickUpDate:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.pickUpDate"},{sampler:"dateParse"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},dropOffDate:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.dropOffDate"},{sampler:"dateParse"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},pickUpLocIATA:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.pickUpLocIATA"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},dropOffLocIATA:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.dropOffLocIATA"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},dropOffTime:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.dropOffTime"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]},pickUpTime:{samplers:[{sampler:"valueAtPath",data:{probe:"verticals"},path:"car.search.pickUpTime"}],triggers:[{trigger:"onChange",node:{probe:"verticals"}}]}},expose:{enabled:{probe:"enabled"},verticals:{probe:"verticals"},useContext:{probe:"useContext"},search:(e={airportTo:{probe:"airportTo"},airportFrom:{probe:"airportFrom"},departureDate:{probe:"departureDate"},returnDate:{probe:"returnDate"},oneWay:{probe:"oneWay"},city:{probe:"cityFull"},checkInDate:{probe:"checkInDate"},checkOutDate:{probe:"checkOutDate"},guests:{probe:"guests"},rooms:{probe:"rooms"},hotelID:{probe:"hotelID"}},_(e,"guests",{probe:"guests"}),_(e,"origin",{probe:"origin"}),_(e,"destination",{probe:"destination"}),_(e,"numTravelers",{probe:"numTravelers"}),_(e,"pickUpLoc",{probe:"pickUpLoc"}),_(e,"dropOffLoc",{probe:"dropOffLoc"}),_(e,"pickUpDate",{probe:"pickUpDate"}),_(e,"dropOffDate",{probe:"dropOffDate"}),_(e,"pickUpTime",{probe:"pickUpTime"}),_(e,"dropOffTime",{probe:"dropOffTime"}),_(e,"audiences",{probe:"audiences"}),e)}},n=["flight","hotel","vacation","car"],i=m.memoize(function(e){var t=m.get(e,"id");if(t){return new h.Promise.resolve(null)}return h.Promise.resolve(void 0)},function(e){return h.JSON.stringify(e)}),s={};a.getFieldValues=function(){return s};function l(e){a.canPrepop(e)?a.watcherPluginInterface.reportSearchEvent({searchEventType:"prepop",domEvent:a.domEventToPlainObject(e)}):b.debug("skip CT.prepop() for [ct-datepicker], due to prepop handler returning false")}var c=m.debounce(function(e,t){try{a.canSubmit({domEvent:t})&&(b.debug("emit","Watcher/form","submit"),a.watcherPluginInterface.reportSearchEvent({searchEventType:"launch",submitType:e,domEvent:a.domEventToPlainObject(t)}))}catch(e){b.error(e)}},1e3,{leading:!0,trailing:!1});h.event.channels.page.on("body.event",function(e){if(e.blocked)h.logger.debug("skip","CTZ:on:body.event","due to","target is blocked element");else{var t=e.event;a.config.enableBackgroundClick?(h.logger.debug("trigger","launchForType()"),c("Background",t)):h.logger.debug("skip","launchForType()","due to","watcher.config.enableBackgroundClick != true")}});function u(e){m.get(e,"prepop.domEventTypes",[]).forEach(function(e){var t=e+"._ctz";h.$("[ct-datepicker]").off(t).on(t,l)}),m.get(e,"launch.domEventTypes",[]).forEach(function(e){var t=e+"._ctz";h.$("[ct-submit]").off(t).on(t,function(e){c("Submit",e)})}),h.bodyEvent.setLaunchStrategyInterfaceDefinition(e)}var d,g=h.CONSTANTS.DEFAULT_INTERFACE_DEFINITION;d=function(e){u(g=e)},r.push(d),h.event.channels.page.on("interfaceDefinition",d);var f={vacation:"vacations",hotel:"hotel",flight:"flights",car:"cars",city:"city"};v.on("change",m.debounce(function(n){t(n.verticals).then(function(e){if(e||!n.useContext){var t=void 0,r=n.search;e&&(t=f[e]);var o=n.useContext?t:"non-travel";s=m.merge({},r||{}),m.merge({},{}),a.type=o,a.watcherPluginInterface.reportSearch({reformatted:h.LODASH.merge({},r,{type:o}),raw:h.LODASH.merge({},void 0,{type:e}),_internal_watcher:{watcherName:a.name}})}else p.LIB.logger.debug("No active vertical found!")})},500)),v.init(o,{debugLogChanges:!0}),h.event.channels.lifecycle.on("window._CTZ",function(e){u(g)}),h.Promise.delay(10).then(function(){u(g)})},function(){try{o.apply(this,arguments)}catch(e){b.error(e)}}),a}},{"../../../cti.sdk/plugins/cti1/probeRegistry":"lib/cti.sdk/plugins/cti1/probeRegistry.js","./Default":"lib/cti/lib/watchers/Default.js"}],"node_modules/lodash/_DataView.js":[function(e,t,r){var o=e("./_getNative")(e("./_root"),"DataView");t.exports=o},{"./_getNative":"node_modules/lodash/_getNative.js","./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_Hash.js":[function(e,t,r){var o=e("./_hashClear"),n=e("./_hashDelete"),a=e("./_hashGet"),i=e("./_hashHas"),s=e("./_hashSet");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,t.exports=l},{"./_hashClear":"node_modules/lodash/_hashClear.js","./_hashDelete":"node_modules/lodash/_hashDelete.js","./_hashGet":"node_modules/lodash/_hashGet.js","./_hashHas":"node_modules/lodash/_hashHas.js","./_hashSet":"node_modules/lodash/_hashSet.js"}],"node_modules/lodash/_ListCache.js":[function(e,t,r){var o=e("./_listCacheClear"),n=e("./_listCacheDelete"),a=e("./_listCacheGet"),i=e("./_listCacheHas"),s=e("./_listCacheSet");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,t.exports=l},{"./_listCacheClear":"node_modules/lodash/_listCacheClear.js","./_listCacheDelete":"node_modules/lodash/_listCacheDelete.js","./_listCacheGet":"node_modules/lodash/_listCacheGet.js","./_listCacheHas":"node_modules/lodash/_listCacheHas.js","./_listCacheSet":"node_modules/lodash/_listCacheSet.js"}],"node_modules/lodash/_Map.js":[function(e,t,r){var o=e("./_getNative")(e("./_root"),"Map");t.exports=o},{"./_getNative":"node_modules/lodash/_getNative.js","./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_MapCache.js":[function(e,t,r){var o=e("./_mapCacheClear"),n=e("./_mapCacheDelete"),a=e("./_mapCacheGet"),i=e("./_mapCacheHas"),s=e("./_mapCacheSet");function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}l.prototype.clear=o,l.prototype.delete=n,l.prototype.get=a,l.prototype.has=i,l.prototype.set=s,t.exports=l},{"./_mapCacheClear":"node_modules/lodash/_mapCacheClear.js","./_mapCacheDelete":"node_modules/lodash/_mapCacheDelete.js","./_mapCacheGet":"node_modules/lodash/_mapCacheGet.js","./_mapCacheHas":"node_modules/lodash/_mapCacheHas.js","./_mapCacheSet":"node_modules/lodash/_mapCacheSet.js"}],"node_modules/lodash/_Promise.js":[function(e,t,r){var o=e("./_getNative")(e("./_root"),"Promise");t.exports=o},{"./_getNative":"node_modules/lodash/_getNative.js","./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_Set.js":[function(e,t,r){var o=e("./_getNative")(e("./_root"),"Set");t.exports=o},{"./_getNative":"node_modules/lodash/_getNative.js","./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_SetCache.js":[function(e,t,r){var o=e("./_MapCache"),n=e("./_setCacheAdd"),a=e("./_setCacheHas");function i(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new o;++t<r;)this.add(e[t])}i.prototype.add=i.prototype.push=n,i.prototype.has=a,t.exports=i},{"./_MapCache":"node_modules/lodash/_MapCache.js","./_setCacheAdd":"node_modules/lodash/_setCacheAdd.js","./_setCacheHas":"node_modules/lodash/_setCacheHas.js"}],"node_modules/lodash/_Stack.js":[function(e,t,r){var o=e("./_ListCache"),n=e("./_stackClear"),a=e("./_stackDelete"),i=e("./_stackGet"),s=e("./_stackHas"),l=e("./_stackSet");function c(e){var t=this.__data__=new o(e);this.size=t.size}c.prototype.clear=n,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=s,c.prototype.set=l,t.exports=c},{"./_ListCache":"node_modules/lodash/_ListCache.js","./_stackClear":"node_modules/lodash/_stackClear.js","./_stackDelete":"node_modules/lodash/_stackDelete.js","./_stackGet":"node_modules/lodash/_stackGet.js","./_stackHas":"node_modules/lodash/_stackHas.js","./_stackSet":"node_modules/lodash/_stackSet.js"}],"node_modules/lodash/_Symbol.js":[function(e,t,r){var o=e("./_root").Symbol;t.exports=o},{"./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_Uint8Array.js":[function(e,t,r){var o=e("./_root").Uint8Array;t.exports=o},{"./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_WeakMap.js":[function(e,t,r){var o=e("./_getNative")(e("./_root"),"WeakMap");t.exports=o},{"./_getNative":"node_modules/lodash/_getNative.js","./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_arrayFilter.js":[function(e,t,r){t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length,n=0,a=[];++r<o;){var i=e[r];t(i,r,e)&&(a[n++]=i)}return a}},{}],"node_modules/lodash/_arrayLikeKeys.js":[function(e,t,r){var u=e("./_baseTimes"),d=e("./isArguments"),g=e("./isArray"),f=e("./isBuffer"),p=e("./_isIndex"),h=e("./isTypedArray"),m=Object.prototype.hasOwnProperty;t.exports=function(e,t){var r=g(e),o=!r&&d(e),n=!r&&!o&&f(e),a=!r&&!o&&!n&&h(e),i=r||o||n||a,s=i?u(e.length,String):[],l=s.length;for(var c in e)!t&&!m.call(e,c)||i&&("length"==c||n&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||p(c,l))||s.push(c);return s}},{"./_baseTimes":"node_modules/lodash/_baseTimes.js","./_isIndex":"node_modules/lodash/_isIndex.js","./isArguments":"node_modules/lodash/isArguments.js","./isArray":"node_modules/lodash/isArray.js","./isBuffer":"node_modules/lodash/isBuffer.js","./isTypedArray":"node_modules/lodash/isTypedArray.js"}],"node_modules/lodash/_arrayPush.js":[function(e,t,r){t.exports=function(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}},{}],"node_modules/lodash/_arraySome.js":[function(e,t,r){t.exports=function(e,t){for(var r=-1,o=null==e?0:e.length;++r<o;)if(t(e[r],r,e))return!0;return!1}},{}],"node_modules/lodash/_assocIndexOf.js":[function(e,t,r){var o=e("./eq");t.exports=function(e,t){for(var r=e.length;r--;)if(o(e[r][0],t))return r;return-1}},{"./eq":"node_modules/lodash/eq.js"}],"node_modules/lodash/_baseGetAllKeys.js":[function(e,t,r){var n=e("./_arrayPush"),a=e("./isArray");t.exports=function(e,t,r){var o=t(e);return a(e)?o:n(o,r(e))}},{"./_arrayPush":"node_modules/lodash/_arrayPush.js","./isArray":"node_modules/lodash/isArray.js"}],"node_modules/lodash/_baseGetTag.js":[function(e,t,r){var o=e("./_Symbol"),n=e("./_getRawTag"),a=e("./_objectToString"),i=o?o.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?n(e):a(e)}},{"./_Symbol":"node_modules/lodash/_Symbol.js","./_getRawTag":"node_modules/lodash/_getRawTag.js","./_objectToString":"node_modules/lodash/_objectToString.js"}],"node_modules/lodash/_baseIsArguments.js":[function(e,t,r){var o=e("./_baseGetTag"),n=e("./isObjectLike");t.exports=function(e){return n(e)&&"[object Arguments]"==o(e)}},{"./_baseGetTag":"node_modules/lodash/_baseGetTag.js","./isObjectLike":"node_modules/lodash/isObjectLike.js"}],"node_modules/lodash/_baseIsEqual.js":[function(e,t,r){var i=e("./_baseIsEqualDeep"),s=e("./isObjectLike");t.exports=function e(t,r,o,n,a){return t===r||(null==t||null==r||!s(t)&&!s(r)?t!=t&&r!=r:i(t,r,o,n,e,a))}},{"./_baseIsEqualDeep":"node_modules/lodash/_baseIsEqualDeep.js","./isObjectLike":"node_modules/lodash/isObjectLike.js"}],"node_modules/lodash/_baseIsEqualDeep.js":[function(e,t,r){var h=e("./_Stack"),m=e("./_equalArrays"),b=e("./_equalByTag"),v=e("./_equalObjects"),_=e("./_getTag"),y=e("./isArray"),j=e("./isBuffer"),C=e("./isTypedArray"),w="[object Arguments]",S="[object Array]",A="[object Object]",T=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o,n,a){var i=y(e),s=y(t),l=i?S:_(e),c=s?S:_(t),u=(l=l==w?A:l)==A,d=(c=c==w?A:c)==A,g=l==c;if(g&&j(e)){if(!j(t))return!1;u=!(i=!0)}if(g&&!u)return a=a||new h,i||C(e)?m(e,t,r,o,n,a):b(e,t,l,r,o,n,a);if(!(1&r)){var f=u&&T.call(e,"__wrapped__"),p=d&&T.call(t,"__wrapped__");if(f||p)return n(f?e.value():e,p?t.value():t,r,o,a=a||new h)}return g&&(a=a||new h,v(e,t,r,o,n,a))}},{"./_Stack":"node_modules/lodash/_Stack.js","./_equalArrays":"node_modules/lodash/_equalArrays.js","./_equalByTag":"node_modules/lodash/_equalByTag.js","./_equalObjects":"node_modules/lodash/_equalObjects.js","./_getTag":"node_modules/lodash/_getTag.js","./isArray":"node_modules/lodash/isArray.js","./isBuffer":"node_modules/lodash/isBuffer.js","./isTypedArray":"node_modules/lodash/isTypedArray.js"}],"node_modules/lodash/_baseIsNative.js":[function(e,t,r){var o=e("./isFunction"),n=e("./_isMasked"),a=e("./isObject"),i=e("./_toSource"),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,g=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||n(e))&&(o(e)?g:s).test(i(e))}},{"./_isMasked":"node_modules/lodash/_isMasked.js","./_toSource":"node_modules/lodash/_toSource.js","./isFunction":"node_modules/lodash/isFunction.js","./isObject":"node_modules/lodash/isObject.js"}],"node_modules/lodash/_baseIsTypedArray.js":[function(e,t,r){var o=e("./_baseGetTag"),n=e("./isLength"),a=e("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&n(e.length)&&!!i[o(e)]}},{"./_baseGetTag":"node_modules/lodash/_baseGetTag.js","./isLength":"node_modules/lodash/isLength.js","./isObjectLike":"node_modules/lodash/isObjectLike.js"}],"node_modules/lodash/_baseKeys.js":[function(e,t,r){var o=e("./_isPrototype"),n=e("./_nativeKeys"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!o(e))return n(e);var t=[];for(var r in Object(e))a.call(e,r)&&"constructor"!=r&&t.push(r);return t}},{"./_isPrototype":"node_modules/lodash/_isPrototype.js","./_nativeKeys":"node_modules/lodash/_nativeKeys.js"}],"node_modules/lodash/_baseTimes.js":[function(e,t,r){t.exports=function(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}},{}],"node_modules/lodash/_baseUnary.js":[function(e,t,r){t.exports=function(t){return function(e){return t(e)}}},{}],"node_modules/lodash/_cacheHas.js":[function(e,t,r){t.exports=function(e,t){return e.has(t)}},{}],"node_modules/lodash/_coreJsData.js":[function(e,t,r){var o=e("./_root")["__core-js_shared__"];t.exports=o},{"./_root":"node_modules/lodash/_root.js"}],"node_modules/lodash/_equalArrays.js":[function(e,t,r){var m=e("./_SetCache"),b=e("./_arraySome"),v=e("./_cacheHas");t.exports=function(e,t,r,o,n,a){var i=1&r,s=e.length,l=t.length;if(s!=l&&!(i&&s<l))return!1;var c=a.get(e);if(c&&a.get(t))return c==t;var u=-1,d=!0,g=2&r?new m:void 0;for(a.set(e,t),a.set(t,e);++u<s;){var f=e[u],p=t[u];if(o)var h=i?o(p,f,u,t,e,a):o(f,p,u,e,t,a);if(void 0!==h){if(h)continue;d=!1;break}if(g){if(!b(t,function(e,t){if(!v(g,t)&&(f===e||n(f,e,r,o,a)))return g.push(t)})){d=!1;break}}else if(f!==p&&!n(f,p,r,o,a)){d=!1;break}}return a.delete(e),a.delete(t),d}},{"./_SetCache":"node_modules/lodash/_SetCache.js","./_arraySome":"node_modules/lodash/_arraySome.js","./_cacheHas":"node_modules/lodash/_cacheHas.js"}],"node_modules/lodash/_equalByTag.js":[function(e,t,r){var o=e("./_Symbol"),d=e("./_Uint8Array"),g=e("./eq"),f=e("./_equalArrays"),p=e("./_mapToArray"),h=e("./_setToArray"),n=o?o.prototype:void 0,m=n?n.valueOf:void 0;t.exports=function(e,t,r,o,n,a,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new d(e),new d(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return g(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=p;case"[object Set]":var l=1&o;if(s=s||h,e.size!=t.size&&!l)return!1;var c=i.get(e);if(c)return c==t;o|=2,i.set(e,t);var u=f(s(e),s(t),o,n,a,i);return i.delete(e),u;case"[object Symbol]":if(m)return m.call(e)==m.call(t)}return!1}},{"./_Symbol":"node_modules/lodash/_Symbol.js","./_Uint8Array":"node_modules/lodash/_Uint8Array.js","./_equalArrays":"node_modules/lodash/_equalArrays.js","./_mapToArray":"node_modules/lodash/_mapToArray.js","./_setToArray":"node_modules/lodash/_setToArray.js","./eq":"node_modules/lodash/eq.js"}],"node_modules/lodash/_equalObjects.js":[function(e,t,r){var _=e("./_getAllKeys"),y=Object.prototype.hasOwnProperty;t.exports=function(e,t,r,o,n,a){var i=1&r,s=_(e),l=s.length;if(l!=_(t).length&&!i)return!1;for(var c=l;c--;){var u=s[c];if(!(i?u in t:y.call(t,u)))return!1}var d=a.get(e);if(d&&a.get(t))return d==t;var g=!0;a.set(e,t),a.set(t,e);for(var f=i;++c<l;){var p=e[u=s[c]],h=t[u];if(o)var m=i?o(h,p,u,t,e,a):o(p,h,u,e,t,a);if(!(void 0===m?p===h||n(p,h,r,o,a):m)){g=!1;break}f=f||"constructor"==u}if(g&&!f){var b=e.constructor,v=t.constructor;b!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v)&&(g=!1)}return a.delete(e),a.delete(t),g}},{"./_getAllKeys":"node_modules/lodash/_getAllKeys.js"}],"node_modules/lodash/_freeGlobal.js":[function(e,r,t){(function(e){var t="object"==typeof e&&e&&e.Object===Object&&e;r.exports=t}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"node_modules/lodash/_getAllKeys.js":[function(e,t,r){var o=e("./_baseGetAllKeys"),n=e("./_getSymbols"),a=e("./keys");t.exports=function(e){return o(e,a,n)}},{"./_baseGetAllKeys":"node_modules/lodash/_baseGetAllKeys.js","./_getSymbols":"node_modules/lodash/_getSymbols.js","./keys":"node_modules/lodash/keys.js"}],"node_modules/lodash/_getMapData.js":[function(e,t,r){var o=e("./_isKeyable");t.exports=function(e,t){var r=e.__data__;return o(t)?r["string"==typeof t?"string":"hash"]:r.map}},{"./_isKeyable":"node_modules/lodash/_isKeyable.js"}],"node_modules/lodash/_getNative.js":[function(e,t,r){var o=e("./_baseIsNative"),n=e("./_getValue");t.exports=function(e,t){var r=n(e,t);return o(r)?r:void 0}},{"./_baseIsNative":"node_modules/lodash/_baseIsNative.js","./_getValue":"node_modules/lodash/_getValue.js"}],"node_modules/lodash/_getRawTag.js":[function(e,t,r){var o=e("./_Symbol"),n=Object.prototype,a=n.hasOwnProperty,i=n.toString,s=o?o.toStringTag:void 0;t.exports=function(e){var t=a.call(e,s),r=e[s];try{var o=!(e[s]=void 0)}catch(e){}var n=i.call(e);return o&&(t?e[s]=r:delete e[s]),n}},{"./_Symbol":"node_modules/lodash/_Symbol.js"}],"node_modules/lodash/_getSymbols.js":[function(e,t,r){var o=e("./_arrayFilter"),n=e("./stubArray"),a=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(t){return null==t?[]:(t=Object(t),o(i(t),function(e){return a.call(t,e)}))}:n;t.exports=s},{"./_arrayFilter":"node_modules/lodash/_arrayFilter.js","./stubArray":"node_modules/lodash/stubArray.js"}],"node_modules/lodash/_getTag.js":[function(e,t,r){var o=e("./_DataView"),n=e("./_Map"),a=e("./_Promise"),i=e("./_Set"),s=e("./_WeakMap"),l=e("./_baseGetTag"),c=e("./_toSource"),u="[object Map]",d="[object Promise]",g="[object Set]",f="[object WeakMap]",p="[object DataView]",h=c(o),m=c(n),b=c(a),v=c(i),_=c(s),y=l;(o&&y(new o(new ArrayBuffer(1)))!=p||n&&y(new n)!=u||a&&y(a.resolve())!=d||i&&y(new i)!=g||s&&y(new s)!=f)&&(y=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,o=r?c(r):"";if(o)switch(o){case h:return p;case m:return u;case b:return d;case v:return g;case _:return f}return t}),t.exports=y},{"./_DataView":"node_modules/lodash/_DataView.js","./_Map":"node_modules/lodash/_Map.js","./_Promise":"node_modules/lodash/_Promise.js","./_Set":"node_modules/lodash/_Set.js","./_WeakMap":"node_modules/lodash/_WeakMap.js","./_baseGetTag":"node_modules/lodash/_baseGetTag.js","./_toSource":"node_modules/lodash/_toSource.js"}],"node_modules/lodash/_getValue.js":[function(e,t,r){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],"node_modules/lodash/_hashClear.js":[function(e,t,r){var o=e("./_nativeCreate");t.exports=function(){this.__data__=o?o(null):{},this.size=0}},{"./_nativeCreate":"node_modules/lodash/_nativeCreate.js"}],"node_modules/lodash/_hashDelete.js":[function(e,t,r){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],"node_modules/lodash/_hashGet.js":[function(e,t,r){var o=e("./_nativeCreate"),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(o){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return n.call(t,e)?t[e]:void 0}},{"./_nativeCreate":"node_modules/lodash/_nativeCreate.js"}],"node_modules/lodash/_hashHas.js":[function(e,t,r){var o=e("./_nativeCreate"),n=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return o?void 0!==t[e]:n.call(t,e)}},{"./_nativeCreate":"node_modules/lodash/_nativeCreate.js"}],"node_modules/lodash/_hashSet.js":[function(e,t,r){var o=e("./_nativeCreate");t.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=o&&void 0===t?"__lodash_hash_undefined__":t,this}},{"./_nativeCreate":"node_modules/lodash/_nativeCreate.js"}],"node_modules/lodash/_isIndex.js":[function(e,t,r){var o=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&o.test(e))&&-1<e&&e%1==0&&e<t}},{}],"node_modules/lodash/_isKeyable.js":[function(e,t,r){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],"node_modules/lodash/_isMasked.js":[function(e,t,r){var o,n=e("./_coreJsData"),a=(o=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||""))?"Symbol(src)_1."+o:"";t.exports=function(e){return!!a&&a in e}},{"./_coreJsData":"node_modules/lodash/_coreJsData.js"}],"node_modules/lodash/_isPrototype.js":[function(e,t,r){var o=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||o)}},{}],"node_modules/lodash/_listCacheClear.js":[function(e,t,r){t.exports=function(){this.__data__=[],this.size=0}},{}],"node_modules/lodash/_listCacheDelete.js":[function(e,t,r){var o=e("./_assocIndexOf"),n=Array.prototype.splice;t.exports=function(e){var t=this.__data__,r=o(t,e);return!(r<0)&&(r==t.length-1?t.pop():n.call(t,r,1),--this.size,!0)}},{"./_assocIndexOf":"node_modules/lodash/_assocIndexOf.js"}],"node_modules/lodash/_listCacheGet.js":[function(e,t,r){var o=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,r=o(t,e);return r<0?void 0:t[r][1]}},{"./_assocIndexOf":"node_modules/lodash/_assocIndexOf.js"}],"node_modules/lodash/_listCacheHas.js":[function(e,t,r){var o=e("./_assocIndexOf");t.exports=function(e){return-1<o(this.__data__,e)}},{"./_assocIndexOf":"node_modules/lodash/_assocIndexOf.js"}],"node_modules/lodash/_listCacheSet.js":[function(e,t,r){var n=e("./_assocIndexOf");t.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},{"./_assocIndexOf":"node_modules/lodash/_assocIndexOf.js"}],"node_modules/lodash/_mapCacheClear.js":[function(e,t,r){var o=e("./_Hash"),n=e("./_ListCache"),a=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new o,map:new(a||n),string:new o}}},{"./_Hash":"node_modules/lodash/_Hash.js","./_ListCache":"node_modules/lodash/_ListCache.js","./_Map":"node_modules/lodash/_Map.js"}],"node_modules/lodash/_mapCacheDelete.js":[function(e,t,r){var o=e("./_getMapData");t.exports=function(e){var t=o(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":"node_modules/lodash/_getMapData.js"}],"node_modules/lodash/_mapCacheGet.js":[function(e,t,r){var o=e("./_getMapData");t.exports=function(e){return o(this,e).get(e)}},{"./_getMapData":"node_modules/lodash/_getMapData.js"}],"node_modules/lodash/_mapCacheHas.js":[function(e,t,r){var o=e("./_getMapData");t.exports=function(e){return o(this,e).has(e)}},{"./_getMapData":"node_modules/lodash/_getMapData.js"}],"node_modules/lodash/_mapCacheSet.js":[function(e,t,r){var n=e("./_getMapData");t.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},{"./_getMapData":"node_modules/lodash/_getMapData.js"}],"node_modules/lodash/_mapToArray.js":[function(e,t,r){t.exports=function(e){var r=-1,o=Array(e.size);return e.forEach(function(e,t){o[++r]=[t,e]}),o}},{}],"node_modules/lodash/_nativeCreate.js":[function(e,t,r){var o=e("./_getNative")(Object,"create");t.exports=o},{"./_getNative":"node_modules/lodash/_getNative.js"}],"node_modules/lodash/_nativeKeys.js":[function(e,t,r){var o=e("./_overArg")(Object.keys,Object);t.exports=o},{"./_overArg":"node_modules/lodash/_overArg.js"}],"node_modules/lodash/_nodeUtil.js":[function(e,t,r){var o=e("./_freeGlobal"),n="object"==typeof r&&r&&!r.nodeType&&r,a=n&&"object"==typeof t&&t&&!t.nodeType&&t,i=a&&a.exports===n&&o.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();t.exports=s},{"./_freeGlobal":"node_modules/lodash/_freeGlobal.js"}],"node_modules/lodash/_objectToString.js":[function(e,t,r){var o=Object.prototype.toString;t.exports=function(e){return o.call(e)}},{}],"node_modules/lodash/_overArg.js":[function(e,t,r){t.exports=function(t,r){return function(e){return t(r(e))}}},{}],"node_modules/lodash/_root.js":[function(e,t,r){var o=e("./_freeGlobal"),n="object"==typeof self&&self&&self.Object===Object&&self,a=o||n||Function("return this")();t.exports=a},{"./_freeGlobal":"node_modules/lodash/_freeGlobal.js"}],"node_modules/lodash/_setCacheAdd.js":[function(e,t,r){t.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},{}],"node_modules/lodash/_setCacheHas.js":[function(e,t,r){t.exports=function(e){return this.__data__.has(e)}},{}],"node_modules/lodash/_setToArray.js":[function(e,t,r){t.exports=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}},{}],"node_modules/lodash/_stackClear.js":[function(e,t,r){var o=e("./_ListCache");t.exports=function(){this.__data__=new o,this.size=0}},{"./_ListCache":"node_modules/lodash/_ListCache.js"}],"node_modules/lodash/_stackDelete.js":[function(e,t,r){t.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},{}],"node_modules/lodash/_stackGet.js":[function(e,t,r){t.exports=function(e){return this.__data__.get(e)}},{}],"node_modules/lodash/_stackHas.js":[function(e,t,r){t.exports=function(e){return this.__data__.has(e)}},{}],"node_modules/lodash/_stackSet.js":[function(e,t,r){var n=e("./_ListCache"),a=e("./_Map"),i=e("./_MapCache");t.exports=function(e,t){var r=this.__data__;if(r instanceof n){var o=r.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(o)}return r.set(e,t),this.size=r.size,this}},{"./_ListCache":"node_modules/lodash/_ListCache.js","./_Map":"node_modules/lodash/_Map.js","./_MapCache":"node_modules/lodash/_MapCache.js"}],"node_modules/lodash/_toSource.js":[function(e,t,r){var o=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},{}],"node_modules/lodash/eq.js":[function(e,t,r){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],"node_modules/lodash/isArguments.js":[function(e,t,r){var o=e("./_baseIsArguments"),n=e("./isObjectLike"),a=Object.prototype,i=a.hasOwnProperty,s=a.propertyIsEnumerable,l=o(function(){return arguments}())?o:function(e){return n(e)&&i.call(e,"callee")&&!s.call(e,"callee")};t.exports=l},{"./_baseIsArguments":"node_modules/lodash/_baseIsArguments.js","./isObjectLike":"node_modules/lodash/isObjectLike.js"}],"node_modules/lodash/isArray.js":[function(e,t,r){var o=Array.isArray;t.exports=o},{}],"node_modules/lodash/isArrayLike.js":[function(e,t,r){var o=e("./isFunction"),n=e("./isLength");t.exports=function(e){return null!=e&&n(e.length)&&!o(e)}},{"./isFunction":"node_modules/lodash/isFunction.js","./isLength":"node_modules/lodash/isLength.js"}],"node_modules/lodash/isBuffer.js":[function(e,t,r){var o=e("./_root"),n=e("./stubFalse"),a="object"==typeof r&&r&&!r.nodeType&&r,i=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===a?o.Buffer:void 0,l=(s?s.isBuffer:void 0)||n;t.exports=l},{"./_root":"node_modules/lodash/_root.js","./stubFalse":"node_modules/lodash/stubFalse.js"}],"node_modules/lodash/isEqual.js":[function(e,t,r){var o=e("./_baseIsEqual");t.exports=function(e,t){return o(e,t)}},{"./_baseIsEqual":"node_modules/lodash/_baseIsEqual.js"}],"node_modules/lodash/isFunction.js":[function(e,t,r){var o=e("./_baseGetTag"),n=e("./isObject");t.exports=function(e){if(!n(e))return!1;var t=o(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},{"./_baseGetTag":"node_modules/lodash/_baseGetTag.js","./isObject":"node_modules/lodash/isObject.js"}],"node_modules/lodash/isLength.js":[function(e,t,r){t.exports=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991}},{}],"node_modules/lodash/isObject.js":[function(e,t,r){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],"node_modules/lodash/isObjectLike.js":[function(e,t,r){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],"node_modules/lodash/isTypedArray.js":[function(e,t,r){var o=e("./_baseIsTypedArray"),n=e("./_baseUnary"),a=e("./_nodeUtil"),i=a&&a.isTypedArray,s=i?n(i):o;t.exports=s},{"./_baseIsTypedArray":"node_modules/lodash/_baseIsTypedArray.js","./_baseUnary":"node_modules/lodash/_baseUnary.js","./_nodeUtil":"node_modules/lodash/_nodeUtil.js"}],"node_modules/lodash/keys.js":[function(e,t,r){var o=e("./_arrayLikeKeys"),n=e("./_baseKeys"),a=e("./isArrayLike");t.exports=function(e){return a(e)?o(e):n(e)}},{"./_arrayLikeKeys":"node_modules/lodash/_arrayLikeKeys.js","./_baseKeys":"node_modules/lodash/_baseKeys.js","./isArrayLike":"node_modules/lodash/isArrayLike.js"}],"node_modules/lodash/stubArray.js":[function(e,t,r){t.exports=function(){return[]}},{}],"node_modules/lodash/stubFalse.js":[function(e,t,r){t.exports=function(){return!1}},{}]},{},["lib/cti.sdk/plugins/cti1/watcher.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/watcher.js~.normalized.js")});var n=window.module&&window.module.exports||r.exports;return window.module=void 0!==e?e:void 0,r=void 0!==t?t:void 0,_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/watcher"]=n}(),"#cti1lib":"{$cti1lib/cti1lib}",pageType:"{$policy-engine/pageType}",on:{enabled:function(){return!0},prepop:function(){return!0},submit:function(){return!0},loadWatchers:function(){return{UCO:function(){return this.WATCHERS.UCO({})}}}}},"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config": {
    _impl: ((function () {
return _CTI_PLUGIN_IMPL["live_preview/plugins/cti1/config"];
})()),
    "isAdSlotEligible": "{$policy-engine/isAdSlotEligible}"
},
"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/campaigns');
/*<PLUGIN uri="live_preview/plugins/cti1/campaigns">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;((i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(i.module={})).exports=e()}}(function(){return function a(n,o,c){function l(i,e){if(!o[i]){if(!n[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(u)return u(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var s=o[i]={exports:{}};n[i][0].call(s.exports,function(e){return l(n[i][1][e]||e)},s,s.exports,a,n,o,c)}return o[i].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({"lib/cti.helpers/CTZ_DDUSessionRecorder.js":[function(e,i,t){"use strict";function r(){try{var t=function(e,i){e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.requestTags&&(i.ud||(i.ud={}),i.ud.tags=e["#cti1"].endpoints.www.requestTags)},r=function(e,i){var t;a?(n.location.protocol,(t=new n.XDomainRequest).onprogress=function(){},t.ontimeout=function(){},t.onerror=function(){},t.onload=function(){var e=this.responseText||"{}";n.CTI_METRIC&&n.CTI_METRIC("response",{event:"Endpoint Response",response:e})}):(t=new n.XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&200===t.status&&n.CTI_METRIC&&n.CTI_METRIC("response",{event:"DDU Session Recorder Response",url:e.ctPostData.referralURL.domain+e.ctPostData.referralURL.path,data:t.responseText})},e.ctPostData.referralURL.alias=i.impression&&i.impression.alias||i.click&&i.click.alias||i.publisher&&i.publisher.alias||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.alias||"",e.ctPostData.referralURL.publisherID=i.impression&&i.impression.publisherID||i.click&&i.click.publisherID||i.publisher&&i.publisher.id||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.id||"";var r=s(i);t.open("POST",r,!0),a||(t.setRequestHeader("Content-type","application/json;charset=UTF-8"),t.withCredentials=!0),n.CTI_METRIC&&n.CTI_METRIC("request",{event:"DDU Session Recorder Request",url:r,data:e}),t.send(JSON.stringify(e))},s=function(e){return(e.server&&(e.server&&e.server.ssl?"https:":n.location.protocol)+"//"+(e.server&&e.server.api||"www.clicktripz.com")||e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.protocol+e["#cti1"].endpoints.www.hostUri||"https://www.clicktripz.com")+"/publisher/sessions/record_session_hotel_city.php"},e={},a=n.XDomainRequest&&n.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;e.recordImpression=function(e){e.impression.protocol=n.location.protocol,e.impression.domain=n.location.host,e.impression.path=n.location.pathname,e.impression.search=n.location.search,e.impression.hash=n.location.hash,t(e,e.impression);var i={ctPostData:{publisherID:2474,referralURL:e.impression,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)},e.recordClick=function(e){t(e,e.click);var i={ctPostData:{publisherID:2475,referralURL:e.click,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)}}catch(e){throw e}return e}var n;n=window,r.version="0.0.1",void 0!==i?i.exports=r():void 0!==n&&(n.CTZ_DDUSessionRecorder=r())},{}],"lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js":[function(e,i,t){"use strict";t.forSDK=function(I){var t=I.console,a=(e("lib/cti.helpers/CTZ_DDUSessionRecorder"),0);return function(d){I.LIB.ASSERT(!!d["#cti1"],!0,"The '#cti1' config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher,!0,"The ['#cti1'].publisher config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher.alias,!0,"The ['#cti1'].publisher.alias config properties must be set!"),I.LIB.ASSERT(Boolean(d["#cti1"].publisher.id)||Boolean(I.LIB.LODASH.get(d,"#cti1.adslot.@id")),!0,"The ['#cti1'].publisher.id or ['#cti1'].adslot properties must be set!"),void 0===d["#cti1"].inheritComparison&&(d["#cti1"].inheritComparison="ddu");var h={};I.LIB.LODASH.assign(h,I.LIB),h.config=d["#cti1"];var f=++a,g=new I.LIB.DataProvider,i=new I.LIB.DataProvider,m=new I.LIB.DataProvider,L=new I.LIB.DataProvider,e=d.search&&I.LIB.JSON.internalize(d.search);e&&e.on("changed",function(e){var i=I.LIB.LODASH.omitBy(e.reformatted,function(e,i){return"type"===i});r.search(e.reformatted.type,i)});var r={"#cti1":{search:I.LIB.JSON.externalize(g),campaigns:I.LIB.JSON.externalize(i),interfaceDefinition:I.LIB.JSON.externalize(m),comparison:I.LIB.JSON.externalize(L)}},s=function(e,i){return d&&!0!==d.usePubTargeting?I.LIB.Promise.resolve(!0):I.API.TARGETING.forConfig(I.LIB.LODASH.cloneDeep(d)).getPubTargetingProductStatus(e,i,d.pubTargetingType||"ddu")};return r.setSearch=function(e){t.log("Set search data:",e),g.update(e)},r.setCampaigns=function(e){t.log("Set campaign data:",e),i.update(e)},r.setPublisherId=function(e){d["#cti1"].publisher.id=e},r.search=function(i,e){if(r.search._last={search:e,vertical:i},I.LIB.LODASH.get(d,["#cti1","isAdSlotEligible"],!0)){var t=I.LIB.SCHEMA.validateVerticalFields(i,e);I.LIB.logger.debug(d["@id"],"validation","search()","fieldErrors",t);return function i(u,p){return I.LIB.logger.debug(d["@id"],"start","doSearch(vertical, search)",u,p),I.LIB.Promise.try(function(){var e=I.LIB.JSON.stringify(p);return e===i._searchCacheKey?(I.LIB.logger.debug(d["@id"],"skip","doSearch()","due to","search criteria has not changed"),null):(i._searchCacheKey=e,s(!1,p).then(function(e){if(!e)return!1;var i=I.LIB.CT_ADAPTER.forSDK(I),t={publisherID:d["#cti1"].publisher.id,adSlotId:I.LIB.LODASH.get(d,"#cti1.adslot.@id"),adSlot:I.LIB.LODASH.get(d,"#cti1.adslot")},r={ddu:{openNewWindowsInTabs:!(!I.LIB.UA.legacy.isAndroidTablet()&&!I.LIB.UA.legacy.isIpad())||void 0,maxChecked:0,maxAdvertisers:7,popUnder:!1,rotationStrategy:"ddu",productType:"ddu",maxSearchesPerPageview:9999,maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400},exit_unit:{popUnder:!0,maxSearchesPerDay:48,hardLimitSearchCap:2,hardLimitSearchCapSeconds:86400}}[d["#cti1"].inheritComparison]||{},s=d["#cti1"].comparison||i.compareToToComparisonConfig(d["#cti1"].compareTo),a=d["#cti1"].forceNoCaps?{maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400,notifyNoCaps:!0}:{notifyNoCaps:!1},n=I.LIB.LODASH.merge({},t,r,s,a),o=i.parseReferralData(n.referralURL),c={type:u,search:p,comparisonConfig:I.LIB.LODASH.merge({},n,{referralData:o.data,referralURL:I.LIB.dom.window.location.href})},l=I.LIB.LODASH.get(d,"#cti1.adslot.@id","campaigns_"+f);return i.loadComparison(l,c).then(function(e){var i=I.LIB.LODASH.get(e,"results.campaigns",[]),t=I.LIB.LODASH.get(e,"results.strategy.aurl",!1),r=0<i.length;if(I.LIB.logger.debug(d["@id"],"end","doSearch()","returned campaigns",i),!t&&!r)return I.LIB.logger.debug(d["@id"],"Comparison is not actionable:",e),null;var s=I.LIB.LODASH.get(e,"results.strategy.searchParams",{}),a=I.LIB.LODASH.merge({},p,s);return g.comparison=L,g.update(a),L.update(e),m.update(h.LODASH.get(e,"launchStrategy.interfaceDefinition")),i})}))})}(i,e).then(function(e){return e?(e.vertical=i,r.setCampaigns(e),e):null}).catch(function(e){I.LIB.logger.error(e)})}I.LIB.logger.debug(d["@id"],"AdServer request skipped. AdSlot disabled.",I.LIB.LODASH.get(d,["#cti1","adslot"]))},I.API.WINDOW.on.changed("url",function(e){return void 0!==r.search._last&&r.search(r.search._last.vertical,r.search._last.search),null}),I.LIB.Promise.try(function(){return d.on&&d.on.init?d.on.init({}):null}).then(function(){return r}).catch(function(e){throw t.error("Error in campaigns.js: "+e),e})}}},{"lib/cti.helpers/CTZ_DDUSessionRecorder":"lib/cti.helpers/CTZ_DDUSessionRecorder.js"}]},{},["lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/campaigns');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/campaigns"] = exports;
return exports;
})()),
    "search": "{$watcher/#cti1/search}",
    "#cti1": "{$__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config/#cti1}"
},
"__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-popunder": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/popunder');
/*<PLUGIN uri="live_preview/plugins/cti1/popunder">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;((n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(n.module={})).exports=e()}}(function(){return function r(d,u,c){function a(n,e){if(!u[n]){if(!d[n]){var o="function"==typeof require&&require;if(!e&&o)return o(n,!0);if(s)return s(n,!0);var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}var i=u[n]={exports:{}};d[n][0].call(i.exports,function(e){return a(d[n][1][e]||e)},i,i.exports,r,d,u,c)}return u[n].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)a(c[e]);return a}({"lib/cti.sdk/plugins/cti1/popunder.js~.normalized.js":[function(e,n,o){"use strict";o.forSDK=function(c){if(!c.LIB._bootOptions.isSelfOrchestrated)throw new Error("FATAL: popunder asssumes container script is self-orchestrated. Add bootOptions.isSelfOrchestrated: true");return function(u){return c.LIB.Promise.try(function(){var t=c.LIB.CT_ADAPTER.forSDK(c),i=u.comparison&&c.LIB.JSON.internalize(u.comparison),e=u.searchEvents&&c.LIB.JSON.internalize(u.searchEvents),n=c.LIB.LODASH.get(u,["#cti1","adslot"]),o=c.LIB.LODASH.get(n,"launchTriggers",[]).filter(function(e){return"backgroundclick"===e.type})[0],r=c.LIB.LODASH.get(o,"excluding",[]);c.LIB.LODASH.get(u,["#cti1","adslot","@id"],"exit_unit");c.LIB.ASSERT(Boolean(u["#cti1"]),!0,"The '#cti1' config properties must be set!"),c.LIB.ASSERT(Boolean(e),!0,'popunder must be provided searchEvents. Add "searchEvents": "{$watcher/#cti1/searchEvents}"'),c.LIB.ASSERT(Boolean(i),!0,'popunder must be provided comparison. Add "comparison": "{$popunder-campaigns/#cti1/comparison}",'),r.forEach(function(e){return c.LIB.bodyEvent.addBlockedSelector(e)});var d=void 0;return c.LIB.event.channels.adhoc.on("solution",function(e){"exit_unit"!==(d=e)&&t.closePrepops()}),e.on("changed",function(e){var n=e[e.length-1];i.data?"exit_unit"===d||"Background"===n.submitType?o||"Background"!==n.submitType?"prepop"===n.searchEventType?function(e){t.prepopForName(i.data.config.obj,{domEvent:e.domEvent})}(n.domEvent):"launch"===n.searchEventType?function(e,n){try{if(c.LIB.logger.debug(u["@id"],"launch","launching. Look for launched event or blocked reason."),c.state.submitType=e,c.LIB.status&&c.LIB.status.pubTargeting&&c.LIB.status.pubTargeting.exit_unit&&"yes"===c.LIB.status.pubTargeting.exit_unit.excluded)return c.LIB.logger.debug(u["@id"],"launch","blocked due to Pub-Targeting");if(c.state.searchWindowLaunchBlocked)return c.LIB.logger.debug(u["@id"],"launch","blocked due to SDK.state.searchWindowLaunchBlocked"),t.closePrepops();var o=!1;if(c.LIB.LODASH.get(u["#cti1"],"options.isMobileEnabled")&&(o=!0,c.LIB.logger.debug(u["@id"],"launch","enabled for mobile device. isMobileEnabled:"+o)),c.LIB.UA.isMobileDevice()&&!o)return c.LIB.logger.debug(u["@id"],"launch","disabled for mobile device. isMobileEnabled:"+o);0,c.LIB.logger.debug(u["@id"],"launch","launched"),t.showForName(i.data.config.obj,{domEvent:n}),c.LIB.event.channels.adhoc.emit("solution","exit_unit")}catch(e){e.message+=" (while in launch handler in "+u["@id"]+")",e.stack+="\n(while in launch handler in "+u["@id"]+")",c.LIB.logger.error(e)}}(n.submitType,n.domEvent):c.LIB.logger.error(u["@id"]+": unrecognized search event of type '"+n.searchEventType+"'"):c.LIB.logger.debug(u["@id"],"background event blocked: no BackgroundClickLaunchTrigger",n):c.LIB.logger.debug(u["@id"],"event ignored: exit_unit solution not allowed",n):c.LIB.logger.debug(u["@id"],"event ignored: no Comparison",n)}),{}}).catch(function(e){c.LIB.logger.error(u["@id"],e)})}}},{}]},{},["lib/cti.sdk/plugins/cti1/popunder.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/popunder.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/popunder');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/popunder"] = exports;
return exports;
})()),
    "#cti1": "{$__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-config/#cti1}",
    "comparison": "{$__adslot-1d9488e1-76e1-4d4c-b0a5-8143b92c6b63_desktop_popunder-campaigns/#cti1/comparison}",
    "searchEvents": "{$watcher/#cti1/searchEvents}"
},
"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config": {
    _impl: ((function () {
return _CTI_PLUGIN_IMPL["live_preview/plugins/cti1/config"];
})()),
    "isAdSlotEligible": "{$policy-engine/isAdSlotEligible}"
},
"__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/campaigns');
/*<PLUGIN uri="live_preview/plugins/cti1/campaigns">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;((i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(i.module={})).exports=e()}}(function(){return function a(n,o,c){function l(i,e){if(!o[i]){if(!n[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(u)return u(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var s=o[i]={exports:{}};n[i][0].call(s.exports,function(e){return l(n[i][1][e]||e)},s,s.exports,a,n,o,c)}return o[i].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({"lib/cti.helpers/CTZ_DDUSessionRecorder.js":[function(e,i,t){"use strict";function r(){try{var t=function(e,i){e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.requestTags&&(i.ud||(i.ud={}),i.ud.tags=e["#cti1"].endpoints.www.requestTags)},r=function(e,i){var t;a?(n.location.protocol,(t=new n.XDomainRequest).onprogress=function(){},t.ontimeout=function(){},t.onerror=function(){},t.onload=function(){var e=this.responseText||"{}";n.CTI_METRIC&&n.CTI_METRIC("response",{event:"Endpoint Response",response:e})}):(t=new n.XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&200===t.status&&n.CTI_METRIC&&n.CTI_METRIC("response",{event:"DDU Session Recorder Response",url:e.ctPostData.referralURL.domain+e.ctPostData.referralURL.path,data:t.responseText})},e.ctPostData.referralURL.alias=i.impression&&i.impression.alias||i.click&&i.click.alias||i.publisher&&i.publisher.alias||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.alias||"",e.ctPostData.referralURL.publisherID=i.impression&&i.impression.publisherID||i.click&&i.click.publisherID||i.publisher&&i.publisher.id||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.id||"";var r=s(i);t.open("POST",r,!0),a||(t.setRequestHeader("Content-type","application/json;charset=UTF-8"),t.withCredentials=!0),n.CTI_METRIC&&n.CTI_METRIC("request",{event:"DDU Session Recorder Request",url:r,data:e}),t.send(JSON.stringify(e))},s=function(e){return(e.server&&(e.server&&e.server.ssl?"https:":n.location.protocol)+"//"+(e.server&&e.server.api||"www.clicktripz.com")||e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.protocol+e["#cti1"].endpoints.www.hostUri||"https://www.clicktripz.com")+"/publisher/sessions/record_session_hotel_city.php"},e={},a=n.XDomainRequest&&n.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;e.recordImpression=function(e){e.impression.protocol=n.location.protocol,e.impression.domain=n.location.host,e.impression.path=n.location.pathname,e.impression.search=n.location.search,e.impression.hash=n.location.hash,t(e,e.impression);var i={ctPostData:{publisherID:2474,referralURL:e.impression,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)},e.recordClick=function(e){t(e,e.click);var i={ctPostData:{publisherID:2475,referralURL:e.click,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)}}catch(e){throw e}return e}var n;n=window,r.version="0.0.1",void 0!==i?i.exports=r():void 0!==n&&(n.CTZ_DDUSessionRecorder=r())},{}],"lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js":[function(e,i,t){"use strict";t.forSDK=function(I){var t=I.console,a=(e("lib/cti.helpers/CTZ_DDUSessionRecorder"),0);return function(d){I.LIB.ASSERT(!!d["#cti1"],!0,"The '#cti1' config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher,!0,"The ['#cti1'].publisher config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher.alias,!0,"The ['#cti1'].publisher.alias config properties must be set!"),I.LIB.ASSERT(Boolean(d["#cti1"].publisher.id)||Boolean(I.LIB.LODASH.get(d,"#cti1.adslot.@id")),!0,"The ['#cti1'].publisher.id or ['#cti1'].adslot properties must be set!"),void 0===d["#cti1"].inheritComparison&&(d["#cti1"].inheritComparison="ddu");var h={};I.LIB.LODASH.assign(h,I.LIB),h.config=d["#cti1"];var f=++a,g=new I.LIB.DataProvider,i=new I.LIB.DataProvider,m=new I.LIB.DataProvider,L=new I.LIB.DataProvider,e=d.search&&I.LIB.JSON.internalize(d.search);e&&e.on("changed",function(e){var i=I.LIB.LODASH.omitBy(e.reformatted,function(e,i){return"type"===i});r.search(e.reformatted.type,i)});var r={"#cti1":{search:I.LIB.JSON.externalize(g),campaigns:I.LIB.JSON.externalize(i),interfaceDefinition:I.LIB.JSON.externalize(m),comparison:I.LIB.JSON.externalize(L)}},s=function(e,i){return d&&!0!==d.usePubTargeting?I.LIB.Promise.resolve(!0):I.API.TARGETING.forConfig(I.LIB.LODASH.cloneDeep(d)).getPubTargetingProductStatus(e,i,d.pubTargetingType||"ddu")};return r.setSearch=function(e){t.log("Set search data:",e),g.update(e)},r.setCampaigns=function(e){t.log("Set campaign data:",e),i.update(e)},r.setPublisherId=function(e){d["#cti1"].publisher.id=e},r.search=function(i,e){if(r.search._last={search:e,vertical:i},I.LIB.LODASH.get(d,["#cti1","isAdSlotEligible"],!0)){var t=I.LIB.SCHEMA.validateVerticalFields(i,e);I.LIB.logger.debug(d["@id"],"validation","search()","fieldErrors",t);return function i(u,p){return I.LIB.logger.debug(d["@id"],"start","doSearch(vertical, search)",u,p),I.LIB.Promise.try(function(){var e=I.LIB.JSON.stringify(p);return e===i._searchCacheKey?(I.LIB.logger.debug(d["@id"],"skip","doSearch()","due to","search criteria has not changed"),null):(i._searchCacheKey=e,s(!1,p).then(function(e){if(!e)return!1;var i=I.LIB.CT_ADAPTER.forSDK(I),t={publisherID:d["#cti1"].publisher.id,adSlotId:I.LIB.LODASH.get(d,"#cti1.adslot.@id"),adSlot:I.LIB.LODASH.get(d,"#cti1.adslot")},r={ddu:{openNewWindowsInTabs:!(!I.LIB.UA.legacy.isAndroidTablet()&&!I.LIB.UA.legacy.isIpad())||void 0,maxChecked:0,maxAdvertisers:7,popUnder:!1,rotationStrategy:"ddu",productType:"ddu",maxSearchesPerPageview:9999,maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400},exit_unit:{popUnder:!0,maxSearchesPerDay:48,hardLimitSearchCap:2,hardLimitSearchCapSeconds:86400}}[d["#cti1"].inheritComparison]||{},s=d["#cti1"].comparison||i.compareToToComparisonConfig(d["#cti1"].compareTo),a=d["#cti1"].forceNoCaps?{maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400,notifyNoCaps:!0}:{notifyNoCaps:!1},n=I.LIB.LODASH.merge({},t,r,s,a),o=i.parseReferralData(n.referralURL),c={type:u,search:p,comparisonConfig:I.LIB.LODASH.merge({},n,{referralData:o.data,referralURL:I.LIB.dom.window.location.href})},l=I.LIB.LODASH.get(d,"#cti1.adslot.@id","campaigns_"+f);return i.loadComparison(l,c).then(function(e){var i=I.LIB.LODASH.get(e,"results.campaigns",[]),t=I.LIB.LODASH.get(e,"results.strategy.aurl",!1),r=0<i.length;if(I.LIB.logger.debug(d["@id"],"end","doSearch()","returned campaigns",i),!t&&!r)return I.LIB.logger.debug(d["@id"],"Comparison is not actionable:",e),null;var s=I.LIB.LODASH.get(e,"results.strategy.searchParams",{}),a=I.LIB.LODASH.merge({},p,s);return g.comparison=L,g.update(a),L.update(e),m.update(h.LODASH.get(e,"launchStrategy.interfaceDefinition")),i})}))})}(i,e).then(function(e){return e?(e.vertical=i,r.setCampaigns(e),e):null}).catch(function(e){I.LIB.logger.error(e)})}I.LIB.logger.debug(d["@id"],"AdServer request skipped. AdSlot disabled.",I.LIB.LODASH.get(d,["#cti1","adslot"]))},I.API.WINDOW.on.changed("url",function(e){return void 0!==r.search._last&&r.search(r.search._last.vertical,r.search._last.search),null}),I.LIB.Promise.try(function(){return d.on&&d.on.init?d.on.init({}):null}).then(function(){return r}).catch(function(e){throw t.error("Error in campaigns.js: "+e),e})}}},{"lib/cti.helpers/CTZ_DDUSessionRecorder":"lib/cti.helpers/CTZ_DDUSessionRecorder.js"}]},{},["lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/campaigns');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/campaigns"] = exports;
return exports;
})()),
    "#cti1": "{$__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-config/#cti1}",
    "search": "{$watcher/#cti1/search}"
},
"__adslot-containers": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/helper/PlacementContainer');
/*<PLUGIN uri="live_preview/plugins/helper/PlacementContainer">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;((n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(n.module={})).exports=e()}}(function(){return function i(a,c,l){function d(n,e){if(!c[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(s)return s(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var r=c[n]={exports:{}};a[n][0].call(r.exports,function(e){return d(a[n][1][e]||e)},r,r.exports,i,a,c,l)}return c[n].exports}for(var s="function"==typeof require&&require,e=0;e<l.length;e++)d(l[e]);return d}({"lib/cti.helpers/CTZ_PlacementContainer.js":[function(e,n,t){"use strict";function s(r,t){try{var i=!1;(t=t||{}).show&&(t.showContainer=t.show),t.hide&&(t.hideContainer=t.hide),t.expand&&(t.expandContainer=t.expand),t.collapse&&(t.collapseContainer=t.collapse);var a={showControls:"optional",hideControls:"optional",showContainer:"required",hideContainer:"required",expandContainer:"optional",collapseContainer:"optional"};Object.keys(a).forEach(function(e){if("required"===a[e]&&"function"!=typeof t[e])throw new Error("No event handler for '"+e+"' found! You must pass in a function.");if(void 0!==t[e]&&"function"!=typeof t[e])throw new Error("Event handler for '"+e+"' must be a function!")});var c=u.document.getElementById(r);if(!c)throw new Error("Could not find DOM element with id '"+r+"'!");var l={},d=!1;return s.containers[r]={domId:r,domEl:c,eventHandlers:t,api:l,controllable:!0},Object.keys(a).forEach(function(e){"function"==typeof t[e]&&(l[e]=function(n){return function(e){if(!e)throw new Error(["You must specify a reason for why you are changing the state via '"+n+"()'.","The reasons must be unique for each different event/code path.","e.g. 'button clicked' or 'hover over compare text'"].join(" "));if(d&&d("#CTZ_PlacementContainer_DevTools__"+r+" button").prop("disabled",!s.containers[r].controllable),!0===s.containers[r].controllable||/^hide/.test(n)){i&&console.log("[CTZ_PlacementContainer] Running '"+n+"' for placement '"+r+"' due to '"+e+"'!");try{t[n](r)}catch(e){u.console.error(e.stack)}}else i&&console.log("[CTZ_PlacementContainer] Ignoring '"+n+"' because placement '"+r+"' is set to be uncontrollable!")}}(e))}),l.showContainer&&(l.show=l.showContainer),l.hideContainer&&(l.hide=l.hideContainer),l.showDevTools=function(){i=!0,function n(e){if(n._cache)return e(n._cache);if(n._callbacks||(n._callbacks=[]),n._callbacks.push(e),!(1<n._callbacks.length)){var t=u.document.createElement("script");t.type="text/javascript",t.async=!1,t.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js",t.onload=function(){n._cache=u.$.noConflict(!0),n._callbacks.forEach(function(e){e(n._cache)})},u.document.getElementsByTagName("head")[0].appendChild(t)}}(function(o){function n(){var n=o("div#CTZ_PlacementContainer_DevTools__"+r);if(!n.length){var e=function(){var e=o("div#CTZ_PlacementContainer_DevTools");return e.length||(e=o(['<div id="CTZ_PlacementContainer_DevTools" style="position: fixed; top: 0px; padding: 2px; border: 1px solid black; background-color: white; display: block; z-index: 1000;">',"</div>"].join("\n")).appendTo(o("body"))),e}(),t=Object.keys(a).filter(function(e){return!!l[e]});n=o(['<div id="CTZ_PlacementContainer_DevTools__'+r+'" style="display: block;">',"<span>CTZ PlacementContainer (<b>"+r+"</b>):</span>",t.map(function(e){return'<button action="'+e+'">'+e+"</button>"}).join("\n"),"</div>"].join("\n")).appendTo(e),o("button",n).prop("disabled",!s.containers[r].controllable);o(c);t.forEach(function(e){o('button[action="'+e+'"]',n).click(function(){i&&console.log("[CTZ_PlacementContainer] Triggered '"+e+"' for container: "+r);try{l[e]("dev tools button clicked")}catch(e){u.console.error(e.stack)}})}),i&&console.log("[CTZ_PlacementContainer] Dev Tools loaded for placement '"+r+"'!")}return n}(d=o)(u.document).ready(function(e){try{n()}catch(e){u.console.error(e.stack)}})})},l}catch(e){throw u.console.error(e.stack),e}}var u;u=window,s.containers={},s.version="0.4",s.showDevTools=function(){Object.keys(s.containers).forEach(function(e){s.containers[e].api.showDevTools()})},void 0===u.CTZ_PlacementContainer&&(u.CTZ_PlacementContainer=s),void 0!==n&&(n.exports=s)},{}],"lib/cti.sdk/plugins/helper/PlacementContainer.js~.normalized.js":[function(e,n,t){"use strict";t.forSDK=function(l){var d=l.console,i=e("lib/cti.helpers/CTZ_PlacementContainer");return function(n){var e=new l.LIB.DataProvider;function t(c){return l.LIB.Promise.try(function(){function r(e){return l.LIB.$("<ins id="+e+"></ins>")}var a={PREPEND:function(e,n,t){if(t){if(!e[0].firstChild._ctz_domElementInstanceId){var o=t.detach();e.prepend(o[0])}}else e.prepend(r(n))},APPEND:function(e,n,t){if(t){if(!e[0].lastChild._ctz_domElementInstanceId){var o=t.detach();e.append(o[0])}}else e.append(r(n))},AFTER:function(e,n,t){if(t){if(!e.next()[0]._ctz_domElementInstanceId){var o=t.detach();e.after(o[0])}}else e.after(r(n))},BEFORE:function(e,n,t){if(t){if(!e.prev()[0]._ctz_domElementInstanceId){var o=t.detach();e.before(o[0])}}else e.before(r(n))}};return Object.keys(c).reduce(function(e,n,t){var o,r;if(c[n].anchorSelector)if((o="function"==typeof c[n].anchorSelector?l.LIB.$(c[n].anchorSelector(l.LIB.$("#"+c[n].domId))):l.LIB.$(c[n].anchorSelector)).length){var i=c[n].anchorRelation;r=l.LIB.$("#"+c[n].domId),l.LIB.$.contains(document.documentElement,r[0])?a[i](o,c[n].domId,r):a[i](o,c[n].domId),(r=l.LIB.$("#"+c[n].domId))[0]._ctz_domElementInstanceId||(r[0]._ctz_domElementInstanceId=l.LIB.CRYPTO.generateUUID()),e[n]={domId:c[n].domId,data:c[n].data||{},domElementInstanceId:r[0]._ctz_domElementInstanceId,placementGroup:c[n].placement}}else d.error("containers",n,"No element found for anchorSelector "+c[n].anchorSelector);else d.log("***DEPRECATION WARNING*** - using container plugin in this way will be deprecated. See container plugin documentation to use preprocess containers helper."),e[n]=c[n];return e},{})}).catch(function(e){d.error(e)})}function o(){return d.log("[PlacementContainer] Init"),l.LIB.Promise.try(function(){var e=l.LIB.LODASH.get(n,"on.create",{});return"function"==typeof e?e(n):e}).then(t).then(function(r){return Object.keys(r).forEach(function(t){r[t].domElementInstanceId=r[t].domElementInstanceId||l.LIB.CRYPTO.generateUUID(),r[t].type=r[t].type||"placement",r[t].instanceDomId=r[t].domId+"_instance";var o=r[t].instanceDomId;0===l.LIB.$("#"+o).length&&l.LIB.$('<ins id="'+o+'"></ins>').appendTo("BODY"),r[t].autoEmpty&&function e(n){if(e._ids||(e._ids={}),!e._ids[n]){e._ids[n]=!0;var t=0,o=setInterval(function(){try{if(40<(t+=1))return void clearInterval(o);l.LIB.$("#"+n).children().each(function(){var e=l.LIB.$(this);/^UIC_/.test(e.get(0).tagName)||(l.LIB.logger.debug("action","PlacementContainer","remove element from container with domId",n),e.remove())})}catch(e){d.error(e)}},250)}}(r[t].domId),l.LIB.$("#"+r[t].domId).css("text-decoration","none"),l.LIB.$("#"+o).css("text-decoration","none"),r[t].CTZ_PlacementContainer=l.LIB.JSON.externalize(i(o,{show:function(){var e=l.LIB.$("#"+o),n=l.LIB.$("#"+r[t].domId);0!==n.length&&(e.parent().get(0)!==n.get(0)&&(e.detach(),r[t].autoEmpty&&n.html(""),e.appendTo(n)),e.show(),n.show())},hide:function(e){l.LIB.$("#"+e).hide()},collapse:function(){throw new Error("TODO: Implement")},expand:function(){throw new Error("TODO: Implement")}})),r[t].instanceId=r[t].domElementInstanceId}),e.update(r),null})}return o().then(function(){if(n.trigger&&n.trigger.reload)try{l.LIB.logger.debug("hook","trigger.reload()"),n.trigger.reload(l.LIB.LODASH.debounce(function(){l.LIB.logger.debug("run","trigger.reload()"),o().catch(l.console.error)},1e3))}catch(e){l.LIB.logger.error(e)}return{"#cti1":{containers:l.LIB.JSON.externalize(e)}}})}}},{"lib/cti.helpers/CTZ_PlacementContainer":"lib/cti.helpers/CTZ_PlacementContainer.js"}]},{},["lib/cti.sdk/plugins/helper/PlacementContainer.js~.normalized.js"])("lib/cti.sdk/plugins/helper/PlacementContainer.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/helper/PlacementContainer');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/helper/PlacementContainer"] = exports;
return exports;
})())
},
"__adslot-config": {
    _impl: ((function () {
return _CTI_PLUGIN_IMPL["live_preview/plugins/cti1/config"];
})())
},
"__adslot-creatives": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/creatives');
/*<PLUGIN uri="live_preview/plugins/cti1/creatives">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;((i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(i.module={})).exports=e()}}(function(){return function r(s,c,f){function u(i,e){if(!c[i]){if(!s[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(d)return d(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var o=c[i]={exports:{}};s[i][0].call(o.exports,function(e){return u(s[i][1][e]||e)},o,o.exports,r,s,c,f)}return c[i].exports}for(var d="function"==typeof require&&require,e=0;e<f.length;e++)u(f[e]);return u}({"lib/cti.sdk/plugins/cti1/creatives.js~.normalized.js":[function(e,i,t){"use strict";t.forSDK=function(e){e.console;return function(i){return i["#cti1"]||(i["#cti1"]={}),i["#cti1"].creatives=i.creatives,Object.keys(i["#cti1"].creatives).some(function(e){return i["#cti1"].creatives[e].options&&i["#cti1"].creatives[e].options.hasOwnProperty("noFrequencyCaps")})&&e.HEADUP.showNotification("warning",'Use of the options.noFrequencyCaps setting for creatives is now deprecated. Set config["#cti1"].forceNoCaps within the ddu-config plugin if you wish to override frequency caps for creatives'),i}}},{}]},{},["lib/cti.sdk/plugins/cti1/creatives.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/creatives.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/creatives');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/creatives"] = exports;
return exports;
})())
},
"__adslot-placements": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/helper/InsertPlacement');
/*<PLUGIN uri="live_preview/plugins/helper/InsertPlacement">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(t.module={})).exports=e()}}(function(){var define,module,exports;return function i(a,c,s){function l(t,e){if(!c[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=c[t]={exports:{}};a[t][0].call(o.exports,function(e){return l(a[t][1][e]||e)},o,o.exports,i,a,c,s)}return c[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({"creatives/data/defaultAdvertiserSkins.json":[function(e,t,r){t.exports={"lightbox-sa-searchform":{default:{width:"100%",backgroundColor:"white",textColor:"#A4CE00",accentColor:"#a5cc00",buttonTextColor:"#fff",buttonTextColorHover:"#fff",accentColorLight:"#dbe99d",vertical:"hotel",fontFamily:"'Open Sans', Helvetica, sans-serif",headerText:"searchAndCompareTravelDeals",header2Text:"verticalHeader",SearchText:"searchDeals",header1Size:"24px",header2Size:"16px",cityColor:"#666666",buttonMinWidth:"160px",marginTopBottom:"auto",logoHeight:"60px",dateFormat:"ll",multiImageHeight:"24px",multiImageWidth:"96px",accentColorAlt:"unset",advertiserFontWeight:"400",headerAdvertiserCursor:"unset",mobile:{dateFormat:"ll",dateFontSize:"4vw"}},trivago:{textColor:"#A4CE00",accentColor:"#a5cc00",accentColorLight:"#dbe99d",headerText:"planningATrip",header2Text:"verticalHeader",SearchText:"searchDeals",header1Size:"24px",header2Size:"16px",cityColor:"#666666",buttonMinWidth:"160px",marginTopBottom:"auto",logoHeight:"60px"},TripAdvisor:{buttonTextColor:"white",buttonTextColorHover:"white",buttonColor:"#00A680",advertiserDisplayName:"Tripadvisor",buttonHoverColor:"#00A680",useGenericDetailText:"true",logoURL:"//static.clicktripz.com/r/cs/ebad7b0/_resources/tripadvisor_360x88.png",headerText:"travelingToLocation",header2Text:"latestDeals",SearchText:"showDeals"},Priceline:{buttonTextColor:"white",buttonTextColorHover:"white",buttonColor:"#00AA00",buttonHoverColor:"#00AA00",logoURL:"//static.clicktripz.com/r/cs/ebad7b0/_resources/priceline-logo.png"},"TripAdvisor Experiences":{logoURL:"//static.clicktripz.com/r/cs/ebad7b0/_resources/ta-120x60.png",headerText:"findThings",header2Text:"searchLatest",SearchText:"exploreNow",buttonTextColor:"#333333",buttonTextColorHover:"#333333",buttonMinWidth:"94%",seeAllText:"Show Deals",buttonColor:"#fecb2f",buttonHoverColor:"#fecb2f",cityColor:"#9d9d9d",header1Size:"26px",header2Size:"18px",buttonBorderRadius:"0px"},Viator:{headerText:"findThings",header2Text:"searchLatest",SearchText:"exploreNow",buttonTextColor:"#ffffff",buttonTextColorHover:"#ffffff",buttonMinWidth:"94%",seeAllText:"Show Deals",buttonColor:"#d14629",buttonHoverColor:"#d14629",cityColor:"#9d9d9d",header1Size:"26px",header2Size:"18px",logoHeight:"48px",marginTopBottom:"10px",buttonBorderRadius:"0px"},"United Airlines":{singleAdvertiser:"true",logoURL:"//static.clicktripz.com/r/assets/united_airlines_logo.png"}},"lightbox-ma-searchform":{default:{width:"100%",backgroundColor:"white",accentColor:"#a5cc00",accentColorAlt:"#098eba",buttonTextColor:"#fff",buttonTextColorHover:"#fff",accentColorLight:"#dbe99d",vertical:"hotel",fontFamily:"'Open Sans', Helvetica, sans-serif",headerText:"travelingToLocation",header2Text:"searchAndCompare",SearchText:"searchDeals",header1Size:"26px",header2Size:"18px",cityColor:"#666666",buttonMinWidth:"160px",marginTopBottom:"auto",logoHeight:"60px",dateFormat:"ll",multiImageHeight:"24px",multiImageWidth:"96px",dateFontSize:"16px",cityFontSize:"16px",tabMode:"true",advertiserFontWeight:"600",headerAdvertiserLink:!0,advertiserCursor:"pointer",mobile:{dateFormat:"ll",cityFontSize:"16px",dateFontSize:"4vw",header1Size:"25px",header2Size:"18px",tabMode:"true",multiImageWidth:"92%"},tablet:{header1Size:"25px",header2Size:"18px",tabMode:"true"},desktop:{tabMode:"true"}},Expedia:{header2Text:"searchAndCompare",en:{header2Text:"Search and compare deals.  Start with {advertiser}."},mobile:{en:{header2Text:" Start with {advertiser}."}},desktop:{tabMode:"true"}},"United Airlines":{singleAdvertiser:"true",logoURL:"//static.clicktripz.com/r/assets/united_airlines_logo.png"}},"lightbox-ma-searchform-expedia":{default:{width:"100%",backgroundColor:"white",accentColor:"#0065b8",accentColorAlt:"#0065b8",buttonColor:"#0065b8",buttonHoverColor:"#0065b8",buttonTextColor:"#fff",buttonTextColorHover:"#fff",accentColorLight:"#dbe99d",vertical:"hotel",languageCode:"en",fontFamily:"'Open Sans', Helvetica, sans-serif",headerText:"travelingToLocation",header2Text:"searchAndCompare",SearchText:"searchDeals",header1Size:"26px",header2Size:"18px",cityColor:"#666666",buttonMinWidth:"160px",marginTopBottom:"auto",logoHeight:"60px",dateFormat:"ll",multiImageHeight:"24px",multiImageWidth:"96px",dateFontSize:"16px",cityFontSize:"16px",tabMode:"true",advertiserFontWeight:"600",headerAdvertiserLink:!0,advertiserCursor:"pointer",mobile:{dateFormat:"ll",cityFontSize:"16px",dateFontSize:"4vw",header1Size:"23px",header2Size:"18px",tabMode:"true",multiImageWidth:"92%"},tablet:{header1Size:"25px",header2Size:"18px",tabMode:"true"},desktop:{tabMode:"true"}},Expedia:{header2Text:"searchAndCompare",en:{header2Text:"Search and compare deals.  Start with {advertiser}."},mobile:{en:{header2Text:" Start with {advertiser}"}},desktop:{tabMode:"true"}}}}},{}],"lib/cti.helpers/CTZ_CreativePlacement.js":[function(require,module,exports){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(window){var console=window.console,VERSION="0.1";function debounce(n,o,i){var a;return function(){var e=this,t=arguments,r=i&&!a;clearTimeout(a),a=setTimeout(function(){a=null,i||n.apply(e,t)},o),r&&n.apply(e,t)}}function ensureStyle(t,e){if(ensureStyle._cache||(ensureStyle._cache={}),ensureStyle._cache[t]&&ensureStyle._cache[t].loaded)e&&e(ensureStyle._cache[t].result);else if(ensureStyle._cache[t]||(ensureStyle._cache[t]={loaded:!1,callbacks:[]}),e&&ensureStyle._cache[t].callbacks.push(e),!(1<ensureStyle._cache[t].callbacks.length)){var r=new XMLHttpRequest;r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?(ensureStyle._cache[t].result=r.responseText,ensureStyle._cache[t].loaded=!0,ensureStyle._cache[t].callbacks.forEach(function(e){e(ensureStyle._cache[t].result)})):console.error("Error loading creative style from:",t))},r.open("GET",t,!0),r.send()}}function factory(domId,options){try{var onCreativeEvent=function(e){try{if(!options.on[e.data.type])throw new Error("CTZ_CreativePlacement for id '"+domId+"' does not declare 'on' event handler '"+e.data.type+"'!");var t=e.data.type;return delete e.data.type,void options.on[t](e)}catch(e){throw console.error(e.stack),e}},RIOT=options&&options.LIB&&options.LIB.RIOT||window.riot||null,VERBOSE=options&&options.LIB&&options.LIB.VERBOSE||!1;console=options&&options.LIB&&options.LIB.console||console;var domEl=window.document.getElementById(domId);if(!domEl)throw new Error("Could not find DOM element with id '"+domId+"'!");var exports={};factory.containers[domId]={domId:domId,domEl:domEl,api:exports},window.addEventListener("message",function(e){if("string"!=typeof e.data||!/^\{/.test(e.data))return null;var t=null;try{t=JSON.parse(e.data)}catch(e){return}t.event&&"CTZ_CreativePlacement"===t.event.to&&t.event.placementId===domId&&onCreativeEvent(t.event)},!1);var creativeSet=!1;return exports.setCreative=function(tagUri,_skin,_data){var skin={};Object.keys(_skin).forEach(function(e){skin[e]=_skin[e]}),skin&&skin.skin&&Object.keys(skin.skin).forEach(function(e){"width"!==e&&"height"!==e||parseInt(skin.skin[e])==skin.skin[e]&&(skin.skin[e]=skin.skin[e]+"px")});var data={};if(Object.keys(_data).forEach(function(e){data[e]=_data[e]}),data["#cti1"]={container:{placementId:domId}},domEl.CTZ_GoogleTagPlacement){var onTagLoaded=function(){domEl.CTZ_GoogleTagPlacement.setCreative(tagUri,skin,data)};if(creativeSet)throw new Error("Cannot set creative more than once!");domEl.CTZ_GoogleTagPlacement._callbacks?domEl.CTZ_GoogleTagPlacement._callbacks.push(function(){onTagLoaded()}):onTagLoaded()}else{if(!domEl.CTZ_SafeFramePlacement){var mountTagWithName=function(t){skin["#CTZ_CreativePlacement"]={on:{click:function(e){onCreativeEvent({to:"CTZ_CreativePlacement",placementId:data["#cti1"].container.placementId,data:e})},notify:function(e){onCreativeEvent({to:"CTZ_CreativePlacement",placementId:data["#cti1"].container.placementId,data:e})}}};function e(){var e=window.document.querySelector("#"+domId+" > "+t);return e||(e=window.document.createElement(t),domEl.appendChild(e)),e}if(data.comparison[0].results.strategy&&data.comparison[0].results.strategy.aurl){var n=document.createElement("iframe"),o=e();if(options.style?Object.keys(options.style).forEach(function(e){n.style[e]=options.style[e]}):(n.style.height="100%",n.style.width="100%",n.style.position="fixed",n.style.zIndex="-99999",n.style.top=0,n.style.left=0),n.frameBorder="0",n.allowTransparency="true",n.src=data.comparison[0].results.strategy.aurl,o.appendChild(n),window.addEventListener("message",function(e){if((!e.data.aurl||e.data.aurl===data.comparison[0].results.strategy.aurl)&&e.data&&e.data.message&&("ct_close"==e.data.message&&o.removeChild(n),"ct_show"==e.data.message&&(n.style.zIndex="99999"),"ct_click"==e.data.message)){var t=window.document.querySelector("#"+domId).parentElement.getAttribute("impressionId"),r=window.document.querySelector("#"+domId).parentElement.getAttribute("searchKey");e.data.payload.iid=t,e.data.payload.searchKey=r,onCreativeEvent({to:"CTZ_CreativePlacement",placementId:data["#cti1"].container.placementId,data:{type:"iframeClick",aurl:(data.comparison[0].results.strategy||{}).aurl,click:e.data.payload}})}}),data.comparison&&data.comparison[0]&&data.comparison[0].config.adSlot&&"parallax"===data.comparison[0].config.adSlot.format){var r=debounce(function(){var e=n.getBoundingClientRect(),t={scrollY:window.scrollY,innerHeight:window.innerHeight,top:e.top,bottom:e.bottom};n.contentWindow?n.contentWindow.postMessage(t,"*"):window.removeEventListener("scroll",r)},0);window.addEventListener("scroll",r)}}else{var i=RIOT.mount(e(),t,skin)[0];i&&i.trigger("data",data)}return null},mountStyle=function(t,r){Object.keys(r).forEach(function(e){t=t.replace(new RegExp('"%%'+e+'%%"',"g"),r[e])});var e=window.document.createElement("style");e.type="text/css",e.innerHTML=t,window.document.getElementsByTagName("body")[0].appendChild(e)},loadStyleFromUri=function(e,t){ensureStyle(e,function(e){mountStyle(e,t)})};if(skin.styleSheet&&(/\/\//.test(skin.styleSheet)?loadStyleFromUri(skin.styleSheet,skin.skin):mountStyle(skin.styleSheet,skin.skin)),"string"==typeof tagUri&&/^(https?:\/)?\//.test(tagUri)){if(!RIOT.compile)throw new Error("'RIOT.compile' not available!");return loadStyleFromUri(tagUri.replace(/\.tag$/,".css"),skin),RIOT.compile(tagUri,function(){mountTagWithName(tagUri.replace(/^.*\/([^\/]+)\.tag$/,"$1"))}),null}if("string"==typeof tagUri&&/\s/.test(tagUri)){if(!RIOT.compile)throw new Error("'RIOT.compile' not available!");var riot=RIOT;return eval(RIOT.compile(tagUri)),mountTagWithName(tagUri.match(/<\s*([^>]+)\s*>/)[1]),null}if("string"==typeof tagUri)return mountTagWithName(tagUri),null;if(data.comparison&&data.comparison[0]&&"object"===(void 0===tagUri?"undefined":_typeof(tagUri))&&void 0!==tagUri.UIC&&void 0===(data.comparison[0].results.strategy||{}).aurl)return tagUri.UIC.ensure({RIOT:RIOT}),skin.cssText=tagUri.UIC.cssText,skin.componentId=tagUri.UIC.componentId,mountTagWithName(tagUri.UIC.tagName),null;if(data.comparison&&data.comparison[0]&&void 0!==(data.comparison[0].results.strategy||{}).aurl&&data.comparison[0].config.adSlot)return mountTagWithName("adslot"),null;if(data.comparison&&data.comparison[0]&&void 0!==(data.comparison[0].results.strategy||{}).aurl)return mountTagWithName(tagUri.UIC.tagName),null;throw new Error("Unsupported 'tagUri' format:",tagUri)}var onFrameWindow=function(){domEl.CTZ_SafeFramePlacement.setCreative(tagUri,skin,data)};domEl.CTZ_SafeFramePlacement._callbacks?domEl.CTZ_SafeFramePlacement._callbacks.push(onFrameWindow):onFrameWindow()}return creativeSet=!0,null},exports.show=function(){domEl.style.display=""},exports.hide=function(){domEl.style.display="none"},options.hidden&&exports.hide(),exports}catch(e){throw window.console.error(e.stack),e}}factory.containers={},factory.version=VERSION,void 0===window.CTZ_CreativePlacement&&(window.CTZ_CreativePlacement=factory),void 0!==module&&(module.exports=factory)}(window)},{}],"lib/cti.sdk/plugins/helper/AbstractCreativePlacement.js":[function(e,t,r){"use strict";r.forSDK=function(w){w.console;w.LIB.makeCookieOption({},"CTI_FORCE_AUTOMATED_TESTING","verbose","boolean");var l="/api/ddu/v1/opt-out";return function(I){return function(y){w.LIB.ASSERT(!!y["#cti1"].endpoints.www.hostUri,!0,"The ['#cti1'].endpoints.www.hostUri config property must be set!");w.LIB.ASSERT(Boolean(y["#cti1"].publisher.id)||w.LIB.LODASH.every(w.LIB.LODASH.values(w.LIB.LODASH.get(y,"groups")).map(function(e){return e.type}),function(e){return"adslot"===e}),!0,"The ['#cti1'].publisher.id config properties must be set!"),window._optOutDuration=y["#cti1"].optOutDuration||1800;var a=w.LIB.JSON.internalize(y["#cti1"].containers),c=new w.LIB.DataProvider,s={"#cti1":{placements:w.LIB.JSON.externalize(c)}};function e(){var o=!1,L=!1,i={groups:{}};function r(e){if(!y.groups[e])throw new Error("Placement group '"+e+"' not declared as a 'group' in 'CreativePlacement' helper!");if(i.groups[e])return i.groups[e];if(c.data&&c.data.groups&&c.data.groups[e])return i.groups[e]=c.data.groups[e],i.groups[e];o=!0;var g=w.LIB.LODASH.cloneDeep(y.groups[e]);if(g.name=e,g.containers={},g.dataDefer=w.LIB.Promise.defer(),!("banner"!==(i.groups[e]=g).type||g.skin&&g.skin.orientation))throw new Error("'skin.orientation' must be set for banner placement group '"+e+"'!");if(g.forEachPlacement=function(t){Object.keys(g.containers).forEach(function(e){t(w.LIB.JSON.internalize(g.containers[e].getPlacement)())})},g.showWithData=w.LIB.JSON.externalize(function(t,r,n){if(y["#cti1"].options)if("banner"===g.type){if(!1===y["#cti1"].options[g.skin.orientation+"BannerEnabled"])return w.LIB.logger.debug("placementGroup banner is not enabled :: ",y["#cti1"].options),!1}else if("lightbox"===g.type){if(!1===y["#cti1"].options.lightboxEnabled)return w.LIB.logger.debug("placementGroup lightboxEnabled is not enabled :: ",y["#cti1"].options),!1}else if("toaster"===g.type&&!1===y["#cti1"].options.toasterEnabled)return w.LIB.logger.debug("placementGroup toaster is not enabled :: ",y["#cti1"].options),!1;return Object.keys(g.containers).forEach(function(e){w.LIB.JSON.internalize(g.containers[e].showWithData)(t,r,w.LIB.LODASH.merge(w.LIB.JSON.parse(w.LIB.JSON.stringify(g.skin||{})),n||{}))}),!0}),g.scheduler){var m=function r(n,o){return w.LIB.logger.debug("start","triggerDialog(reason, extra)",n,o),r._wasTriggered?(w.LIB.logger.debug("skip","triggerDialog()","due to","already triggered"),!1):g.isFrequencyCappedPromise.then(function(e){return e?(w.LIB.logger.debug("skip","triggerDialog()","due to","frequency capped"),!1):w.LIB.COOKIE.get("_ctz_opt_out")&&!t?(w.LIB.logger.debug("skip","triggerDialog()","due to","frequency capped cookie found"),!1):(w.LIB.logger.debug("trigger","triggerDialog()","placement.show","for","placementGroup.name",g.name),g.forEachPlacement(function(e){var t=e.show(w.LIB.LODASH.merge({},o||{},{reason:n}));if(w.LIB.logger.debug("got","triggerDialog()","showSuccess",t,"for","placement",e),t){if(g.localStorageFrequencyCap)try{localStorage.setItem("_ct_dialog_triggered",Math.floor(1e3*Math.random())+"/"+g.name),localStorage.removeItem("_ct_dialog_triggered")}catch(e){w.LIB.logger.info("unable to use localstorage for cross tab functionality")}r._wasTriggered=!0}}),r._wasTriggered)})},t=w.DEBUG||y["#cti1"].forceNoCaps||y["#cti1"].creatives&&y["#cti1"].creatives[g.creative]&&y["#cti1"].creatives[g.creative].options&&!0===y["#cti1"].creatives[g.creative].options.noFrequencyCaps;if(g.isFrequencyCappedPromise=w.LIB.Promise.try(function(){if(t)return!1;if(w.LIB.LODASH.get(w.LIB.config,"gates[0].ddu",!1))return!1;if(0,"adslot"===g.type)return g.dataDefer.promise.then(function(e){var t=y["#cti1"].endpoints.www.protocol+y["#cti1"].endpoints.www.hostUri+l,r=w.LIB.LODASH.get(e,"comparison[0].config.publisherID"),n=w.LIB.LODASH.get(e,"comparison[0].config.optOutDuration");return w.LIB.logger.debug("[opt-out]::",t),w.LIB.endpoint.call({method:"JSONP",url:t,query:{publisherID:r,alias:y["#cti1"].publisher.alias,optOutDuration:n||1800}}).then(function(e){return!e.data.display})});var e=y["#cti1"].endpoints.www.protocol+y["#cti1"].endpoints.www.hostUri+l;return w.LIB.logger.debug("[opt-out]::",e),w.LIB.endpoint.call({method:"JSONP",url:e,query:{publisherID:y["#cti1"].publisher.id,alias:y["#cti1"].publisher.alias,optOutDuration:y["#cti1"].optOutDuration||1800}}).then(function(e){return!e.data.display})}).catch(function(e){return w.LIB.logger.error(e),!0}),"TRIGGER"===g.scheduler.type)s.trigger=function(e){m(e)};else if("LIGHTBOX"===g.scheduler.type){var h=function(e){var t=e.split(".").reverse(),r=t.length;return t[0]=t[0].split("/")[0],3<=r&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:{domain:t[1]+"."+t[0]}},r=function(){var e=w.LIB.UA.isMobileDevice()?1e4:3e4,t=w.LIB.LODASH.get(g.scheduler,"inactivityTime",e),r=w.LIB.LODASH.get(g.scheduler,"mouseLeaveTime",1e3),n=h(w.LIB.dom.document.referrer).domain===h(w.LIB.dom.window.location.href).domain,o=w.LIB.LODASH.get(g,"backButton.enabled",!1),i=!n||"target"===(w.LIB.dom.window.history.state||{}).page,a=!1,c=!1,s=null,l=null;if("DEFAULT"===t&&(t=e),o&&i){w.LIB.BrowserHistory.setupBackfillAdapterListener({callback:function(){m._wasTriggered?w.LIB.dom.window.history.back():m("backbutton").then(function(e){e||w.LIB.dom.window.history.back()})},timer:1e3,doNothingIfPageIsTarget:!0})}else w.LIB.$(document).off("mouseleave.ctzMouseLeave."+g.name).on("mouseleave.ctzMouseLeave."+g.name,function(){a&&(s=setTimeout(function(){m("mouseleave",{inactivityTime:t})},r))});function u(e){if("_ct_dialog_triggered"===e.key){var t=e.oldValue||e.newValue||"";g.name===t.split("/")[1]&&(w.LIB.logger.info("Multiple impressions prevented by cross-tab communication."),m._wasTriggered=!0)}}if(w.LIB.COOKIE.get("CTI_FORCE_AUTOMATED_TESTING")&&w.LIB.$(document).off("mousemove.ctzTestingMousePos."+g.name).on("mousemove.ctzTestingMousePos."+g.name,function(e){a&&(s=setTimeout(function(){m("mouseleave",{inactivityTime:t})},r))}),w.LIB.$(document).off("mouseenter.ctzMouseEnter."+g.name).on("mouseenter.ctzMouseEnter."+g.name,function(){s&&clearTimeout(s)}),w.LIB.$(document).off("mousemove.ctzMousePos."+g.name).on("mousemove.ctzMousePos."+g.name,function(e){a=e.clientY<50}),g.localStorageFrequencyCap&&(w.LIB.dom.window.removeEventListener("storage",u),w.LIB.dom.window.addEventListener("storage",u)),g.scrollTop&&g.scrollTop.enabled){var d=function(e){var t=e.minimumScrollDepth,r=t||0;(r<0||1<r)&&(w.LIB.logger.debug(":::SCROLL TOP INVARIANT VIOLATION::: minimumScrollDepth value: "+t+" is INVALID"),w.LIB.logger.debug("VALID: 0 <= minimumScrollDepth <= 1 ::: defaulting to 0 (no minimum)"),r=0);var n=w.LIB.dom.window.document.body.scrollHeight*r;return w.LIB.logger.debug(":::SCROLL TOP::: trigger will arm at "+100*r+"% of scrollHeight ::: "+n+"px"),n}(g.scrollTop),f=w.LIB.LODASH.throttle(function(){!c&&w.LIB.dom.window.pageYOffset>=d?(c=!0,w.LIB.logger.debug(":::SCROLL TOP ARMED:::")):c&&0===w.LIB.dom.window.pageYOffset&&function(e){e?setTimeout(function(){return m("scrollTop",{delay:e})},e):m("scrollTop")}(g.scrollTop.triggerDelay)},1500,{leading:!0,trailing:!0});w.LIB.$(document).off("scroll.ctzScroll."+g.name).on("scroll.ctzScroll."+g.name,f)}var p=w.LIB.LODASH.throttle(function(){l&&clearTimeout(l),w.LIB.logger.debug("start","placement group:",g.name," inactivity timer","for LIGHTBOX scheduler"),!1!==t&&(l=setTimeout(function(){m("inactivity",{inactivityTime:t})},t))},2500,{leading:!0});w.LIB.$(document).off("mousemove.ctzMouseClear."+g.name+" scroll.ctzScrollClear."+g.name+" keydown.ctzKeyClear."+g.name).on("mousemove.ctzMouseClear."+g.name+" scroll.ctzScrollClear."+g.name+" keydown.ctzKeyClear."+g.name,p),w.LIB.$(document).on("load",p),w.API.WINDOW.on.changed("url",function(e){!0!==y["#cti1"].options.placementIgnoreWindowURL&&(w.LIB.logger.debug("on","triggerDialog() : WINDOW.URL","set","triggerDialog._wasTriggered = false"),m._wasTriggered=!1),w.LIB.logger.debug("on","triggerDialog() : WINDOW.URL","call","resetInactivityTimeout()"),p()})},n=w.LIB.LODASH.get(g.scheduler,"delayStart",null);n?setTimeout(function(){return r()},n):r()}}return g}function n(p,g,m){if(!p.creative&&"adslot"===!p.type)throw new Error("No 'creative'' declared for placementGroup '"+p.name+"' requested by container '"+g+"'!");var h=w.LIB.LODASH.get(y,["#cti1","creatives",p.creative]);if(!h&&"adslot"===!p.type)throw new Error("Creative '"+p.creative+"' declared by placementGroup '"+p.name+"' requested by container '"+g+"' not declared in 'creatives'!");if(p.options&&p.options.targeting&&"ignore"===p.options.targeting.ctAdMode)return w.LIB.logger.debug("skip","AbstractCreativePlacement:ensureContainerHooked()","due to","options.targeting.ctAdMode === 'ignore'"),null;if(p.containers[g]&&p.containers[g].instanceId===m.instanceId)w.LIB.logger.debug("skip","AbstractCreativePlacement:init()->ensureContainerHooked() : "+p.name,"due to","'instanceId' for container",m.instanceId,"not changed");else{w.LIB.logger.debug("init","AbstractCreativePlacement:init()->ensureContainerHooked() : "+p.name,"for","containerId",g,"container.instanceId",m.instanceId),o=!0;var v={},c=I.initPlacementHelper({domId:m.instanceDomId,eventHandlers:v,group:p});if(m.CTZ_CreativePlacement=w.LIB.JSON.externalize(c),"adslot"===!p.type&&!h.riotTag&&!h.uic)throw new Error("'creative.uic' nor 'creative.riotTag' found!");var b=w.LIB.JSON.internalize(m.CTZ_PlacementContainer).show;if(c.show=function(e){return w.LIB.logger.debug("skip","placement.show(trigger)",e,"due to","showWithData not yet called"),!1},p.containers[g]={instanceId:m.instanceId,getPlacement:w.LIB.JSON.externalize(function(){return c}),showWithData:w.LIB.JSON.externalize(function(l,r,i){p.dataDefer.resolve(l);var u=(Math.random()+Math.PI).toString(36).substring(2,10);if(w.LIB.logger.debug("run","showWithData(data, handlers, skin) containerId: "+g,l,r,i),p.options&&p.options.targeting&&"ignore"===p.options.targeting.ctAdMode)return w.LIB.logger.debug("skip","AbstractCreativePlacement:showWithData()","due to","options.targeting.ctAdMode === 'ignore'"),null;if(!n(l))return w.LIB.logger.debug("skip","AbstractCreativePlacement:showWithData()","due to","!shouldWeRefreshCreative()"),null;function d(e){for(var t=0,r=0;e;)t+=e.offsetLeft-e.scrollLeft+e.clientLeft,r+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return{x:t,y:r}}h&&h.uic&&(h.uic=w.LIB.JSON.internalize(h.uic)),r&&Object.keys(r).forEach(function(t){v[t]=function(e){if(e=w.LIB.LODASH.merge({},e,{showTrigger:l.showTrigger||null,containerId:g,placementType:p.type,search:l.search}),"close"===t){c.hide();try{w.LIB.LODASH.get(p,"on.closed",function(){return!0})(w.LIB.LODASH.get(e,"data.close.reason",null)||null)}catch(e){throw w.LIB.logger.error("Error while calling 'on.close' for placement!"),e}}r[t](e)}});function f(e){function o(r,t){var e,n,o,i=h.uic.id,a=h.uic.cssText||"",c=(e=i,n={scss:h.uic.scss},o=w.LIB.JSON.stringify(n),"uic_"+w.LIB.md5(e+o)),s=w.config["#cti1"].endpoints.www.hostUri+"/n3/crane/v0/creative?t="+w.LIB.dom.window.btoa(i)+"&componentId="+c;w.LIB.config.options.creativesOverride&&-1<w.LIB.dom.window.Object.keys(w.LIB.config.options.creativesOverride).indexOf(i)&&(s+="&stageTag="+w.LIB.config.options.creativesOverride[i]),w.LIB.PINF.sandbox(s,function(e){var t=e.require("creative.js");h.uic=t.creativeTemplate,h.uic.UIC.cssText+=a.replace(/component_id_var/g,c),w.LIB.logger.info("Using creative template delivered by Crane!"),h.craneCreative={fetched:!0},r()},function(e){t(e)})}var n=void 0;return w.LIB.Promise.try(function(){return l.showTrigger=e||null,p.determineCreative&&(p.creative=p.determineCreative({},{},w.LIB.LODASH.cloneDeep(m.data)),(h=y["#cti1"].creatives[p.creative]).uic=w.LIB.JSON.internalize(h.uic)),null}).then(function(){return new w.LIB.Promise(function(e,t){if("adslot"===p.type){var r=w.LIB.LODASH.get(h,"uic.id",!1),n=w.LIB.LODASH.get(h,"craneCreative.fetched",!1);return r&&!n?o(e,t):e()}w.LIB.LODASH.get(h.uic,"id",!1)?w.LIB.LODASH.get(h,"craneCreative.fetched",!1)?e():o(e,t):e()})}).then(function(){var e=function(){if(!n){var e={config:y,placement:c,creative:h,group:p},t="adslot"===p.type?void 0:w.LIB.LODASH.merge(w.LIB.JSON.parse(w.LIB.JSON.stringify(h.skin||{})),i||{});if("adslot"!==p.type&&!w.LIB.LODASH.get(t,"vertical"))if(1<l["#allsearch1"].length)t.vertical="multi";else if(l.search[0].vertical)w.LIB.logger.debug("[ensureCreativeSet] Setting arg2.vertical with data.search.vertical value"),t.vertical=l.search[0].vertical;else{if(!l.campaigns||!l.campaigns[0].vertical)throw new Error("No 'vertical' set in config or search data!");w.LIB.logger.debug("[ensureCreativeSet] Setting arg2.vertical with data.campaigns.vertical value"),t.vertical=l.campaigns[0].vertical}var r=w.LIB.LODASH.merge({},l);m.data&&(r.container={data:w.LIB.LODASH.cloneDeep(m.data)}),r.impressionID=u,n={arg1:e,arg2:t,arg3:r}}return n}();return w.LIB.logger.debug("call","setCreative()",e.arg1,e.arg2,e.arg3),I.setCreative(e.arg1,e.arg2,e.arg3)}).catch(function(e){return w.LIB.logger.error(e)})}return c.show=function(e){var r=w.LIB.LODASH.get(e,"reason",null),t=w.LIB.LODASH.get(p,"on.show",function(){return!0}),n=w.LIB.LODASH.isFunction(t)?t(r):t,o=!0===n?[]:[].concat("string"==typeof n?n:"no reason returned from show handler"),i=w.LIB.LODASH.get(p,"blockIfElementsVisible",[]).filter(function(e){return 0<w.LIB.$(e+":visible").length}).map(function(e){return"Blocked element: "+e+" is visible."}),a=[].concat(o).concat(i),c=0===a.length;if(w.LIB.logger.debug("inspect","placement.show()","willShow",c,"for containerId",g,"with container.instanceId",m.instanceId),!0!=c)return w.LIB.logger.debug("disable","placement","on.show !== true","due to","willShow",a),"function"==typeof v.impression&&v.impression({to:"CTZ_CreativePlacement",placementId:m.domId,data:{impression:!1}}),!1;var s=w.LIB.LODASH.get(l,"comparison[0].results.strategy.aurl",!1);return s&&(w.LIB.$("#"+m.domId).attr("impressionId",u),w.LIB.$("#"+m.domId).attr("searchKey",w.LIB.LODASH.get(l,"comparison[0].results.searchKey",null))),f(e).then(function(){if(b(r||"default"),s)return new w.LIB.Promise(function(t,e){var r=!1;window.addEventListener("message",function(e){e.data.aurl&&e.data.aurl!==w.LIB.LODASH.get(l,"comparison[0].results.strategy.aurl",!1)||!e.data||!e.data.message||("ct_show"==e.data.message&&(r=!0,w.LIB.LODASH.get(e,"data.payload.creativeName",!1)||w.LIB.logger.debug("Creative name missing from payload - utilizing existing placementgroup name."),v.impression({to:"CTZ_CreativePlacement",placementId:m.domId,data:{impression:{c:w.LIB.LODASH.get(e,"data.payload.creativeName",p.creative),iid:u,ud:e.data.payload||{}}}})),"ct_close"==e.data.message&&(e.data.payload||{}).error&&(w.LIB.logger.error(e.data.payload.error),t(!(L=!0))))}),setTimeout(function(){r?t(!0):(w.LIB.logger.error("Creative loaded via aurl hasn't loaded after four seconds. aurl: ",w.LIB.LODASH.get(l,"comparison[0].results.strategy.aurl","none")),L=!0,w.LIB.$("#"+m.domId+" iframe").remove(),t(!1))},4e3)});var e=w.LIB.$(h.uic.UIC.tagName),t=function(e,t){if(w.LIB.LODASH.get(l,"comparison[0].results.strategy.aurl",!1))return!0;if(e.ignoreNameCheck&&!0===e.ignoreNameCheck)return!0;if("adslot"===e.type)return!0;if("toaster"===e.name){if(!w.LIB.$(".ctz-ads__toaster-ddu-tag",t).length)return"["+e.name+"] appears to not be a toaster. [toaster] expects '.ctz-ads__toaster-ddu-tag' as a class, please check naming conventions are correct or creative type is correct."}else if("lightbox"===e.name){if(!w.LIB.$(".ctz-ads__md-modal",t).length)return"["+e.name+"] appears to not be a modal. [lightbox] is a modal creative, please check naming conventions are correct or creative type is correct."}else if("vertical-left"===e.name){var r=w.LIB.$(".ctz-ads__ddu-tag",t).width(),n=w.LIB.$(".ctz-ads__ddu-tag",t).height();if(0===r&&0===n||!w.LIB.$(".ctz-ads__ddu-tag",t).is("visible"))return!0;if(n<r)return"["+e.name+"] appears to not be vertical. [vertical-left] is a vertical creative, please check naming conventions are correct or creative type is correct.";var o=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(d(t[0]).x>o/2)return"["+e.name+"] appears to be on the RIGHT side of the screen. [vertical-left] should fall on the LEFT side of the page.  Please check that you've used the correct placement naming."}else if("vertical-right"===e.name){r=w.LIB.$(".ctz-ads__ddu-tag",t).width(),n=w.LIB.$(".ctz-ads__ddu-tag",t).height();if(0===r&&0===n||!w.LIB.$(".ctz-ads__ddu-tag",t).is("visible"))return!0;if(n<r)return"["+e.name+"] appears to not be vertical. [vertical-right] is a vertical creative, please check naming conventions are correct or creative type is correct.";o=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(d(t[0]).x<o/2)return"["+e.name+"] appears to be on the LEFT side of the screen. [vertical-right] should fall on the RIGHT side of the page.  Please check that you've used the correct placement naming."}else if("in-line"===e.name){if((r=w.LIB.$(".ctz-ads__ddu-tag",t).width())<(n=w.LIB.$(".ctz-ads__ddu-tag",t).height()))return"["+e.name+"] appears to not be horizontal. [in-line] is a horizontal creative, please check naming conventions are correct or creative type is correct."}else if("horizontal"===e.name){if((r=w.LIB.$(".ctz-ads__ddu-tag",t).width())<(n=w.LIB.$(".ctz-ads__ddu-tag",t).height()))return"["+e.name+"] appears to not be horizontal. [horizontal] is a horizontal creative, please check naming conventions are correct or creative type is correct."}else if("toaster-lightbox"===e.name){if((c=w.LIB.$(".ctz-ads__toaster-ddu-tag:not(.ctz-ads__ribbon):visible"))&&c.length){var i=$(window).height(),a=c.offset().top+c.outerHeight(!0)-window.pageYOffset;if(100<=Math.abs(i-a))return"["+e.name+"] appears to not be positioned at the bottom of the viewport. Please check naming conventions are correct or creative type is correct."}}else{if("ribbon"!==e.name)return"Unknown Placement Name: ["+e.name+"] must be one of the following [toaster, lightbox, toaster-lightbox, ribbon, vertical-left, vertical-right, in-line, horizontal]";var c;if((c=w.LIB.$(".ctz-ads__ribbon:visible"))&&c.length){var s=c.offset().top-$(window).scrollTop();if(100<=Math.abs(s))return"["+e.name+"] appears to not be positioned at the Top of the viewport. Please check naming conventions are correct or creative type is correct."}}return!0}(p,e);return!0!==t&&!1===L&&(w.LIB.logger.error(t),L=!0),!0===t&&!1===L}).then(function(e){if(e){var t=w.LIB.LODASH.get(p,"on.showing",function(){return!0});try{return t.call({close:function(e){if(!e)throw new Error("Close 'reason' must be specified!");v.close({to:"CTZ_CreativePlacement",placementId:m.domId,data:{type:"close",close:{iid:u,reason:e}}})}},l)}catch(e){throw w.LIB.logger.error("Error while calling 'on.showing' for placement!"),e}}return!1}).catch(function(e){throw w.LIB.logger.error(e),e}),!0},p.scheduler||c.show(),null})},p.scheduler&&"TOASTER"===p.scheduler.type){var e=w.LIB.LODASH.debounce(function(){var e=w.LIB.$(w.LIB.dom.window).scrollTop(),t=w.LIB.$(w.LIB.dom.window.document).height(),r=w.LIB.$(w.LIB.dom.window).height(),n=w.LIB.$("#"+m.domId),o=n.height(),i=n.offset().top-r-e,a=w.LIB.LODASH.get(p.scheduler,"scrollPosition");0<o?i+=o:100<e&&e+r===t&&(i=0),a?a<e?p.closed||c.show():c.hide():e<200||i<-1?c.hide():p.closed||c.show()},250,{trailing:!0});w.LIB.dom.window.document.addEventListener("scroll",e,{capture:!1,passive:!0})}}function n(e){w.LIB.logger.debug("run","shouldWeRefreshCreative(data) : "+p.name,Object.keys(e)),w.LIB.logger.debug("inspect","shouldWeRefreshCreative() : "+p.name,"shouldWeRefreshCreative._data",n._data&&Object.keys(n._data)||"");var t=!0,r=0;return e&&n._data&&0===(r=w.LIB.getObjectDiff(e,n._data).length)&&(t=!1),w.LIB.logger.debug("inspect","shouldWeRefreshCreative() : "+p.name,"diffCount",r),!!t&&(n._data=e,!0)}}Object.keys(a.data).forEach(function(e){var t=a.data[e];if("placement"===t.type){if(!t.placementGroup)throw new Error("No 'placementGroup'' declared for container '"+e+"'!");n(r(t.placementGroup),e,t)}}),c.update(i,{alwaysEmitChangedEvent:o})}s.getGroup=function(e){if(!c.data.groups[e])throw new Error("Placement group with name '"+e+"' not declared!");var t=c.data.groups[e];return t.showWithData=w.LIB.JSON.internalize(t.showWithData),t};var t=w.LIB.LODASH.debounce(e,500,{trailing:!0});return a.on("changed",t),e(),s}}}},{}],"lib/cti.sdk/plugins/helper/InsertPlacement.js~.normalized.js":[function(e,t,r){"use strict";r.forSDK=function(g){g.console,e("lib/cti.helpers/CTZ_CreativePlacement");var t=e("riot"),m=e("creatives/data/defaultAdvertiserSkins.json");return e("./AbstractCreativePlacement").forSDK(g)({initPlacementHelper:function(e){return window.CTZ_CreativePlacement(e.domId,{LIB:{RIOT:t,VERBOSE:g.LIB.VERBOSE,console:g.LIB.console},hidden:!0,on:e.eventHandlers,style:e.group.style})},setCreative:function(e,t,r){e.group.determineSkin&&g.LIB.logger.info("Warning: Determine skin is deprecated -- please remove and use creatives/data/defaultAdvertiserSkins.json");var n={languageCode:g.LIB.LODASH.get(r,"comparison[0].config",{}).localization},o={},i={},a={},c={};if(m){var s=g.LIB.LODASH.get(e.creative,"impression.c",e.group.creative),l=g.LIB.LODASH.get(r,"campaigns[0]",[]);if(1<=l.length){var u=l[0].name;a=g.LIB.LODASH.get(m,s+"."+u,{})}o=g.LIB.LODASH.get(m,s+".default",{}),i=g.LIB.UA.isMobileDevice()?(c=g.LIB.LODASH.get(a,"mobile",{}),g.LIB.LODASH.get(o,"mobile",{})):g.LIB.UA.isTabletDevice()?(c=g.LIB.LODASH.get(a,"tablet",{}),g.LIB.LODASH.get(o,"tablet",{})):(c=g.LIB.LODASH.get(a,"desktop",{}),g.LIB.LODASH.get(o,"desktop",{}))}var d=g.LIB.JSON.internalize(e.config["#cti1"].creatives[e.group.creative].uic),f=g.LIB.LODASH.merge({},n,o,i,e.config["#cti1"].creatives[e.group.creative].skin,t,a,c),p=e.config["#cti1"].creatives[e.group.creative].styleSheet;return e.placement.setCreative(d,{"#lib1":g.LIB,styleSheet:p,skin:f},r)}})}},{"./AbstractCreativePlacement":"lib/cti.sdk/plugins/helper/AbstractCreativePlacement.js","creatives/data/defaultAdvertiserSkins.json":"creatives/data/defaultAdvertiserSkins.json","lib/cti.helpers/CTZ_CreativePlacement":"lib/cti.helpers/CTZ_CreativePlacement.js",riot:"node_modules/riot/riot.js"}],"node_modules/riot/riot.js":[function(e,Ae,De){!function(U,y){"use strict";var I={version:"v2.6.1",settings:{}},w=0,S=[],B={},x="__global_mixin",T="riot-",C=T+"tag",_="data-is",O="string",k="object",E="undefined",n="function",o="http://www.w3.org/1999/xlink",i=/^xlink:(\w+)/,e=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,A=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,a=["altGlyph","animate","animateColor","circle","clipPath","defs","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","filter","font","foreignObject","g","glyph","glyphRef","image","line","linearGradient","marker","mask","missing-glyph","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","switch","symbol","text","textPath","tref","tspan","use"],D=0|(U&&U.document||{}).documentMode,H=U&&!!U.InstallTrigger;I.observable=function(a){a=a||{};var c={},s=Array.prototype.slice;function n(e,t){for(var r=e.split(" "),n=r.length,o=0;o<n;o++){var i=r[o];i&&t(i,o)}}return Object.defineProperties(a,{on:{value:function(e,r){return"function"!=typeof r||n(e,function(e,t){(c[e]=c[e]||[]).push(r),r.typed=0<t}),a},enumerable:!1,writable:!1,configurable:!1},off:{value:function(e,i){return"*"!=e||i?n(e,function(e,t){if(i)for(var r,n=c[e],o=0;r=n&&n[o];++o)r==i&&n.splice(o--,1);else delete c[e]}):c={},a},enumerable:!1,writable:!1,configurable:!1},one:{value:function(t,r){return a.on(t,function e(){a.off(t,e),r.apply(a,arguments)})},enumerable:!1,writable:!1,configurable:!1},trigger:{value:function(e){for(var o,t=arguments.length-1,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r+1];return n(e,function(e,t){o=s.call(c[e]||[],0);for(var r,n=0;r=o[n];++n)r.busy||(r.busy=1,r.apply(a,r.typed?[e].concat(i):i),o[n]!==r&&n--,r.busy=0);c["*"]&&"*"!=e&&a.trigger.apply(a,["*",e].concat(i))}),a},enumerable:!1,writable:!1,configurable:!1}}),a},function(e){var t,n,o,i,a,r=/^.+?\/\/+[^\/]+/,c="EventListener",s="remove"+c,l="add"+c,u="hasAttribute",d="replace",f="popstate",p="hashchange",g="trigger",m=3,h=void 0!==U&&U,v="undefined"!=typeof document&&document,b=h&&history,L=h&&(b.location||h.location),y=k.prototype,I=v&&v.ontouchstart?"touchstart":"click",w=!1,S=e.observable(),x=!1,B=[],T=0;function C(e){return e.split(/[/?#]/)}function _(e,t){var r=new RegExp("^"+t[d](/\*/g,"([^/?#]+?)")[d](/\.\./,".*")+"$"),n=e.match(r);if(n)return n.slice(1)}function O(e){t=function(e,t){var r;return function(){clearTimeout(r),r=setTimeout(e,t)}}(N,1),h[l](f,t),h[l](p,t),v[l](I,z),e&&N(!0)}function k(){this.$=[],e.observable(this),S.on("stop",U._cti_backfill_function_prototype_bind(this.s,this)),S.on("emit",U._cti_backfill_function_prototype_bind(this.e,this))}function E(e){return e[d](/^\/|\/$/,"")}function A(e){return"string"==typeof e}function D(e){return(e||L.href)[d](r,"")}function H(e){return"#"==n[0]?(e||L.href||"").split(n)[1]||"":(L?D(e):e||"")[d](n,"")}function N(t){var e,r=0==T;if(!(m<=T)&&(T++,B.push(function(){var e=H();!t&&e==o||(S[g]("emit",e),o=e)}),r)){for(;e=B.shift();)e();T=0}}function z(e){if(!(1!=e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.defaultPrevented)){for(var t=e.target;t&&"A"!=t.nodeName;)t=t.parentNode;!t||"A"!=t.nodeName||t[u]("download")||!t[u]("href")||t.target&&"_self"!=t.target||-1==t.href.indexOf(L.href.match(r)[0])||t.href!=L.href&&(t.href.split("#")[0]==L.href.split("#")[0]||"#"!=n[0]&&0!==D(t.href).indexOf(n)||"#"==n[0]&&t.href.split(n)[0]!=L.href.split(n)[0]||!P(H(t.href),t.title||v.title))||e.preventDefault()}}function P(e,t,r){return b?(e=n+E(e),t=t||v.title,r?b.replaceState(null,t,e):b.pushState(null,t,e),v.title=t,x=!1,N(),x):S[g]("emit",H(e))}y.m=function(e,t,r){!A(e)||t&&!A(t)?t?this.r(e,t):this.r("@",e):P(e,t,r||!1)},y.s=function(){this.off("*"),this.$=[]},y.e=function(r){this.$.concat("@").some(function(e){var t=("@"==e?i:a)(E(r),E(e));if(void 0!==t)return this[g].apply(null,[e].concat(t)),x=!0},this)},y.r=function(e,t){"@"!=e&&(e="/"+E(e),this.$.push(e)),this.on(e,t)};var M=new k,R=U._cti_backfill_function_prototype_bind(M.m,M);R.create=function(){var e=new k,t=U._cti_backfill_function_prototype_bind(e.m,e);return t.stop=U._cti_backfill_function_prototype_bind(e.s,e),t},R.base=function(e){n=e||"#",o=H()},R.exec=function(){N(!0)},R.parser=function(e,t){e||t||(i=C,a=_),e&&(i=e),t&&(a=t)},R.query=function(){var n={};return(L.href||o)[d](/[?&](.+?)=([^&]*)/g,function(e,t,r){n[t]=r}),n},R.stop=function(){w&&(h&&(h[s](f,t),h[s](p,t),v[s](I,z)),S[g]("stop"),w=!1)},R.start=function(e){w||(h&&("complete"==document.readyState?O(e):h[l]("load",function(){setTimeout(function(){O(e)},1)})),w=!0)},R.base(),R.parser(),e.route=R}(I);var t,r,c,s,l,u,d,f,p,g,m,h,v=(c="g",l=(s=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'/g).source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,u=RegExp("[\\x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),d=/(?=[[\]()*+?.^$|])/g,f={"(":RegExp("([()])|"+l,c),"[":RegExp("([[\\]])|"+l,c),"{":RegExp("([{}])|"+l,c)},p="{ }",g=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+l,c),p,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/],m=void 0,h=[],z.split=function(e,t,r){var n,o,i,a,c=[],s=(r=r||h)[6];for(o=i=s.lastIndex=0;n=s.exec(e);){if(a=n.index,o){if(n[2]){s.lastIndex=u(e,n[2],s.lastIndex);continue}if(!n[3])continue}n[1]||(l(e.slice(i,a)),i=s.lastIndex,(s=r[6+(o^=1)]).lastIndex=i)}return e&&i<e.length&&l(e.slice(i)),c;function l(e){t||o?c.push(e&&e.replace(r[5],"$1")):c.push(e)}function u(e,t,r){var n,o=f[t];for(o.lastIndex=r,r=1;(n=o.exec(e))&&(!n[1]||(n[1]===t?++r:--r)););return r?e.length:o.lastIndex}},z.hasExpr=function(e){return h[4].test(e)},z.loopKeys=function(e){var t=e.match(h[9]);return t?{key:t[1],pos:t[2],val:h[0]+t[3].trim()+h[1]}:{val:e.trim()}},z.array=function(e){return e?N(e):h},Object.defineProperty(z,"settings",{set:function(e){var t;t=(e=e||{}).brackets,Object.defineProperty(e,"brackets",{set:P,get:function(){return m},enumerable:!0}),r=e,P(t)},get:function(){return r}}),z.settings=void 0!==I&&I.settings||{},z.set=P,z.R_STRINGS=s,z.R_MLCOMMS=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,z.S_QBLOCKS=l,z);function b(e){return e}function L(e,t){return t=t||h,new RegExp(e.source.replace(/{/g,t[2]).replace(/}/g,t[3]),e.global?c:"")}function N(e){if(e===p)return g;var t=e.split(" ");if(2!==t.length||u.test(e))throw new Error('Unsupported brackets "'+e+'"');return(t=t.concat(e.replace(d,"\\").split(" ")))[4]=L(1<t[1].length?/{[\S\s]*?}/:g[4],t),t[5]=L(3<e.length?/\\({|})/g:g[5],t),t[6]=L(g[6],t),t[7]=RegExp("\\\\("+t[3]+")|([[({])|("+t[3]+")|"+l,c),t[8]=e,t}function z(e){return e instanceof RegExp?t(e):h[e]}function P(e){(e=e||p)!==h[8]&&(h=N(e),t=e===p?b:L,h[9]=t(g[9])),m=e}var M,R,j,$,F,W,G=function(){var r={};function n(e,t){return e?(r[e]||(r[e]=function(e){var t=function(e){var t,r=[],n=v.split(e.replace(c,'"'),1);if(2<n.length||n[0]){var o,i,a=[];for(o=i=0;o<n.length;++o)(t=(t=n[o])&&(1&o?l(t,1,r):'"'+t.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"'))&&(a[i++]=t);t=i<2?a[0]:"["+a.join(",")+'].join("")'}else t=l(n[1],0,r);r[0]&&(t=t.replace(s,function(e,t){return r[t].replace(/\r/g,"\\r").replace(/\n/g,"\\n")}));return t}(e);"try{return "!==t.slice(0,11)&&(t="return "+t);return new Function("E",t+";")}(e))).call(t,o):e}function o(e,t){n.errorHandler&&(e.riotData={tagName:t&&t.root&&t.root.tagName,_riot_id:t&&t._riot_id},n.errorHandler(e))}n.haveRaw=v.hasRaw,n.hasExpr=v.hasExpr,n.loopKeys=v.loopKeys,n.clearCache=function(){r={}},n.errorHandler=null;var u="",d=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,f=RegExp(v.S_QBLOCKS,"g"),c=/\u2057/g,s=/\u2057(\d+)~/g;var p={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function l(i,e,r){if(i=i.replace(f,function(e,t){return 2<e.length&&!t?u+(r.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1")){for(var t,n=[],o=0;i&&(t=i.match(d))&&!t.index;){var a,c,s=/,|([[{(])|$/g;for(i=RegExp.rightContext,a=t[2]?r[t[2]].slice(1,-1).trim().replace(/\s+/g," "):t[1];c=(t=s.exec(i))[1];)l(c,s);c=i.slice(0,t.index),i=RegExp.rightContext,n[o++]=h(c,1,a)}i=o?1<o?"["+n.join(",")+'].join(" ").trim()':n[0]:h(i,e)}return i;function l(e,t){var r,n=1,o=p[e];for(o.lastIndex=t.lastIndex;r=o.exec(i);)if(r[0]===e)++n;else if(!--n)break;t.lastIndex=n?i.length:o.lastIndex}}var a='"in this?this:'+("object"!=typeof U?"global":"window")+").",g=/[,{][$\w]+(?=:)|(^ *|[^$\w\.])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,m=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function h(e,t,r){var i;return e=e.replace(g,function(e,t,r,n,o){return r&&(n=i?0:n+e.length,"this"!==r&&"global"!==r&&"window"!==r?(e=t+'("'+r+a+r,n&&(i="."===(o=o[n])||"("===o||"["===o)):n&&(i=!m.test(o.slice(n)))),e}),i&&(e="try{return "+e+"}catch(e){E(e,this)}"),r?e=(i?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+r+'":""':t&&(e="function(v){"+(i?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'),e}return n.version=v.version="v2.4.1",n}(),Z=(M=/<yield\b/i,R=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,j=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,$=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,F={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},W=D&&D<10?e:/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,q);function q(e,t){var r=e&&e.match(/^\s*<([-\w]+)/),n=r&&r[1].toLowerCase(),o=xe("div",function(e){return~a.indexOf(e)}(n));return e=function(e,r){if(!M.test(e))return e;var n={};return r=r&&r.replace(j,function(e,t,r){return n[t]=n[t]||r,""}).trim(),e.replace($,function(e,t,r){return n[t]||r||""}).replace(R,function(e,t){return r||t||""})}(e,t),W.test(n)?o=function(e,t,r){var n="o"===r[0],o=n?"select>":"table>";if(e.innerHTML="<"+o+t.trim()+"</"+o,o=e.firstChild,n)o.selectedIndex=-1;else{var i=F[r];i&&1===o.childElementCount&&(o=Te(i,o))}return o}(o,e,n):function(e,t){if(typeof e.innerHTML!=E)e.innerHTML=t;else{var r=(new DOMParser).parseFromString(t,"application/xml");e.appendChild(e.ownerDocument.importNode(r.documentElement,!0))}}(o,e),o.stub=!0,o}function J(e,t,r){var n={};return n[e.key]=t,e.pos&&(n[e.pos]=r),n}function K(r,n){Object.keys(r.tags).forEach(function(t){var e=r.tags[t];Le(e)?oe(e,function(e){pe(e,t,n)}):pe(e,t,n)})}function V(e,t,r){var n,o=e._root;for(e._virts=[];o;)n=o.nextSibling,r?t.insertBefore(o,r._root):t.appendChild(o),e._virts.push(o),o=n}function Y(e,t,r,n){for(var o,i=e._root,a=0;a<n;a++)o=i.nextSibling,t.insertBefore(i,r._root),i=o}function X(u,d,f){ce(u,"each");var p,g=typeof le(u,"no-reorder")!==O||ce(u,"no-reorder"),m=he(u),h=B[m]||{tmpl:function(e){{if(e.outerHTML)return e.outerHTML;var t=xe("div");return t.appendChild(e.cloneNode(!0)),t.innerHTML}}(u)},v=e.test(m),b=u.parentNode,L=document.createTextNode(""),y=de(u),I="option"===m.toLowerCase(),w=[],S=[],x="VIRTUAL"==u.tagName;f=G.loopKeys(f),b.insertBefore(L,u),d.one("before-mount",function(){u.parentNode.removeChild(u),b.stub&&(b=d.root)}).on("update",function(){var t=G(f.val,d),e=document.createDocumentFragment();Le(t)||(t=(p=t||!1)?Object.keys(t).map(function(e){return J(f,e,t[e])}):[]);for(var r=0,n=t.length;r<n;r++){var o=t[r],i=g&&typeof o==k&&!p,a=S.indexOf(o),c=~a&&i?a:r,s=w[c];o=!p&&f.key?J(f,o,r):o,!i&&!s||i&&!~a||!s?((s=new re(h,{parent:d,isLoop:!0,hasImpl:!!B[m],root:v?b:u.cloneNode(),item:o},u.innerHTML)).mount(),x&&(s._root=s.root.firstChild),r!=w.length&&w[r]?(x?V(s,b,w[r]):b.insertBefore(s.root,w[r].root),S.splice(r,0,o)):x?V(s,e):e.appendChild(s.root),w.splice(r,0,s),c=r):s.update(o,!0),c!==r&&i&&w[r]&&(x?Y(s,b,w[r],u.childNodes.length):w[r].root.parentNode&&b.insertBefore(s.root,w[r].root),f.pos&&(s[f.pos]=r),w.splice(r,0,w.splice(c,1)[0]),S.splice(r,0,S.splice(c,1)[0]),!y&&s.tags&&K(s,r)),s._item=o,me(s,"_parent",d)}if(!function(e,t){for(var r,n=t.length,o=e.length;o<n;)r=t[--n],t.splice(n,1),r.unmount()}(t,w),b.insertBefore(e,L),I&&H&&!b.multiple)for(var l=0;l<b.length;l++)if(b[l].__riot1374){b.selectedIndex=l,delete b[l].__riot1374;break}y&&(d.tags[m]=w),S=t.slice()})}var Q=function(e){if(!U)return{add:function(){},inject:function(){}};var t=function(){var e=xe("style");ue(e,"type","text/css");var t=Te("style[type=riot]");return t?(t.id&&(e.id=t.id),t.parentNode.replaceChild(e,t)):document.getElementsByTagName("head")[0].appendChild(e),e}(),r=t.styleSheet,n="";return Object.defineProperty(e,"styleNode",{value:t,writable:!0}),{add:function(e){n+=e},inject:function(){n&&(r?r.cssText+=n:t.innerHTML+=n,n="")}}}(I);function ee(e,r,n,o){we(e,function(e){if(1==e.nodeType){if(e.isLoop=e.isLoop||e.parentNode&&e.parentNode.isLoop||le(e,"each")?1:0,n){var t=de(e);t&&!e.isLoop&&n.push(function(e,t,r,n){var o=new re(e,t,r),i=he(t.root),a=ge(n);o.parent=a,o._parent=n,fe(o,i,a),a!==n&&fe(o,i,n);return t.root.innerHTML="",o}(t,{root:e,parent:r},e.innerHTML,r))}e.isLoop&&!o||function(t,r,n){function e(e){be(n,i)||(o=Le(e),e?o&&(!o||be(e,t))||(o?e.push(t):r[i]=[e,t]):r[i]=t)}var o,i=Ce(t);if(!i)return;G.hasExpr(i)?r.one("mount",function(){i=Ce(t),e(r[i])}):e(r[i])}(e,r,[])}})}function te(e,r,n){function o(e,t,r){G.hasExpr(t)&&n.push(ve({dom:e,expr:t},r))}we(e,function(n){var e,t=n.nodeType;if(3==t&&"STYLE"!=n.parentNode.tagName&&o(n,n.nodeValue),1==t)return(e=le(n,"each"))?(X(n,r,e),!1):(oe(n.attributes,function(e){var t=e.name,r=t.split("__")[1];if(o(n,e.value,{attr:r||t,bool:r}),r)return ce(n,t),!1}),!de(n)&&void 0)})}function re(r,e,t){var n,i=I.observable(this),o=function(e){function t(){}return t.prototype=e,new t}(e.opts)||{},a=e.parent,c=e.isLoop,s=e.hasImpl,l=Ie(e.item),u=[],d=[],f=e.root,p=f.tagName.toLowerCase(),g={},m=[];function h(){var r=s&&c?i:a||i;oe(f.attributes,function(e){var t=e.value;o[se(e.name)]=G.hasExpr(t)?G(t,r):t}),oe(Object.keys(g),function(e){o[se(e)]=G(g[e],r)})}function v(r){oe(Object.keys(r),function(e){var t=!A.test(e)&&be(m,e);typeof i[e]!==E&&!t||(t||m.push(e),i[e]=r[e])})}function b(e){i.update(e,!0)}function L(t){if(oe(d,function(e){e[t?"mount":"unmount"]()}),a){var e=t?"on":"off";c?a[e]("unmount",i.unmount):a[e]("update",b)[e]("unmount",i.unmount)}}r.name&&f._tag&&f._tag.unmount(!0),this.isMounted=!1,f.isLoop=c,me(f._tag=this,"_riot_id",++w),ve(this,{parent:a,root:f,opts:o},l),me(this,"tags",{}),oe(f.attributes,function(e){var t=e.value;G.hasExpr(t)&&(g[e.name]=t)}),n=Z(r.tmpl,t),me(this,"update",function(e,t){return e=Ie(e),c&&v(i.parent),e&&ae(l)&&(function(e){for(var t in l)typeof i[t]!==E&&ye(i,t)&&(i[t]=e[t])}(e),l=e),ve(i,e),h(),i.trigger("update",e),function(e,s){oe(e,function(e,t){var r=e.dom,n=e.attr,o=G(e.expr,s),i=e.parent||e.dom.parentNode;if(e.bool?o=!!o:null==o&&(o=""),e.value!==o){if(e.value=o,!n)return o+="",void(i&&("TEXTAREA"===(e.parent=i).tagName?(i.value=o,D||(r.nodeValue=o)):r.nodeValue=o));if("value"!==n)if(ce(r,n),ie(o))!function(e,n,o,i){o[e]=function(e){var t=i._parent,r=i._item;if(!r)for(;t&&!r;)r=t._item,t=t._parent;ye(e=e||U.event,"currentTarget")&&(e.currentTarget=o),ye(e,"target")&&(e.target=e.srcElement),ye(e,"which")&&(e.which=e.charCode||e.keyCode),e.item=r,!0===n.call(i,e)||/radio|check/.test(o.type)||(e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventUpdate||(r?ge(t):i).update()}}(n,o,r,s);else if("if"==n){var a=e.stub,c=function(){ne(r.parentNode,r,a)};o?a&&(ne(a.parentNode,a,r),r.inStub=!1,Se(r)||we(r,function(e){e._tag&&!e._tag.isMounted&&(e._tag.isMounted=!!e._tag.trigger("mount"))})):(a=e.stub=a||document.createTextNode(""),r.parentNode?c():(s.parent||s).one("updated",c),r.inStub=!0)}else"show"===n?r.style.display=o?"":"none":"hide"===n?r.style.display=o?"none":"":e.bool?((r[n]=o)&&ue(r,n,n),H&&"selected"===n&&"OPTION"===r.tagName&&(r.__riot1374=o)):(0===o||o&&typeof o!==k)&&(function(e,t){return e.slice(0,t.length)===t}(n,T)&&n!=C&&(n=n.slice(T.length)),ue(r,n,o));else r.value!==o&&(r.value=o,ue(r,n,o))}})}(u,i),t&&i.parent?i.parent.one("updated",function(){i.trigger("updated")}):Ee(function(){i.trigger("updated")}),this}),me(this,"mixin",function(){return oe(arguments,function(e){var n,t,r=[];for(e=typeof e===O?I.mixin(e):e,n=ie(e)?new e:e;r=r.concat(Object.getOwnPropertyNames(t||n)),t=Object.getPrototypeOf(t||n););oe(r,function(e){if("init"!=e){var t=Object.getOwnPropertyDescriptor(n,e),r=t&&(t.get||t.set);!i.hasOwnProperty(e)&&r?Object.defineProperty(i,e,t):i[e]=ie(n[e])?U._cti_backfill_function_prototype_bind(n[e],i):n[e]}}),n.init&&U._cti_backfill_function_prototype_bind(n.init,i)()}),this}),me(this,"mount",function(){h();var e=I.mixin(x);if(e)for(var t in e)e.hasOwnProperty(t)&&i.mixin(e[t]);if(i._parent&&v(i._parent),r.fn&&r.fn.call(i,o),te(n,i,u),L(!0),r.attrs&&function(e,t){var r,n=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;for(;r=n.exec(e);)t(r[1].toLowerCase(),r[2]||r[3]||r[4])}(r.attrs,function(e,t){ue(f,e,t)}),(r.attrs||s)&&te(i.root,i,u),i.parent&&!c||i.update(l),i.trigger("before-mount"),c&&!s)f=n.firstChild;else{for(;n.firstChild;)f.appendChild(n.firstChild);f.stub&&(f=a.root)}me(i,"root",f),c&&ee(i.root,i.parent,null,!0),!i.parent||i.parent.isMounted?(i.isMounted=!0,i.trigger("mount")):i.parent.one("mount",function(){Se(i.root)||(i.parent.isMounted=i.isMounted=!0,i.trigger("mount"))})}),me(this,"unmount",function(e){var r,t=f,n=t.parentNode,o=S.indexOf(i);if(i.trigger("before-unmount"),~o&&S.splice(o,1),n){if(a)Le((r=ge(a)).tags[p])?oe(r.tags[p],function(e,t){e._riot_id==i._riot_id&&r.tags[p].splice(t,1)}):r.tags[p]=y;else for(;t.firstChild;)t.removeChild(t.firstChild);e?(ce(n,_),ce(n,C)):n.removeChild(t)}this._virts&&oe(this._virts,function(e){e.parentNode&&e.parentNode.removeChild(e)}),i.trigger("unmount"),L(),i.off("*"),i.isMounted=!1,delete f._tag}),ee(n,this,d)}function ne(e,t,r){e&&(e.insertBefore(r,t),e.removeChild(t))}function oe(e,t){for(var r,n=e?e.length:0,o=0;o<n;o++)null!=(r=e[o])&&!1===t(r,o)&&o--;return e}function ie(e){return typeof e===n||!1}function ae(e){return e&&typeof e===k}function ce(e,t){e.removeAttribute(t)}function se(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function le(e,t){return e.getAttribute(t)}function ue(e,t,r){var n=i.exec(t);n&&n[1]?e.setAttributeNS(o,n[1],r):e.setAttribute(t,r)}function de(e){return e.tagName&&B[le(e,_)||le(e,C)||e.tagName.toLowerCase()]}function fe(e,t,r){var n=r.tags[t];n?(Le(n)||n!==e&&(r.tags[t]=[n]),be(r.tags[t],e)||r.tags[t].push(e)):r.tags[t]=e}function pe(e,t,r){var n,o=e.parent;o&&(Le(n=o.tags[t])?n.splice(r,0,n.splice(n.indexOf(e),1)[0]):fe(e,t,o))}function ge(e){for(var t=e;!de(t.root)&&t.parent;)t=t.parent;return t}function me(e,t,r,n){return Object.defineProperty(e,t,ve({value:r,enumerable:!1,writable:!1,configurable:!0},n)),e}function he(e){var t=de(e),r=le(e,"name");return r&&!G.hasExpr(r)?r:t?t.name:e.tagName.toLowerCase()}function ve(e){for(var t,r=arguments,n=1;n<r.length;++n)if(t=r[n])for(var o in t)ye(e,o)&&(e[o]=t[o]);return e}function be(e,t){return~e.indexOf(t)}function Le(e){return Array.isArray(e)||e instanceof Array}function ye(e,t){var r=Object.getOwnPropertyDescriptor(e,t);return typeof e[t]===E||r&&r.writable}function Ie(e){if(!(e instanceof re||e&&typeof e.trigger==n))return e;var t={};for(var r in e)A.test(r)||(t[r]=e[r]);return t}function we(e,t){if(e){if(!1===t(e))return;for(e=e.firstChild;e;)we(e,t),e=e.nextSibling}}function Se(e){for(;e;){if(e.inStub)return!0;e=e.parentNode}return!1}function xe(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg","svg"):document.createElement(e)}function Be(e,t){return(t||document).querySelectorAll(e)}function Te(e,t){return(t||document).querySelector(e)}function Ce(e){return le(e,"id")||le(e,"name")}var _e,Oe,ke,Ee=function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame;if(!t||/iP(ad|hone|od).*OS 6/.test(e.navigator.userAgent)){var n=0;t=function(e){var t=Date.now(),r=Math.max(16-(t-n),0);setTimeout(function(){e(n=t+r)},r)}}return t}(U||{});I.util={brackets:v,tmpl:G},I.mixin=(Oe=(_e={})[x]={},ke=0,function(e,t,r){if(ae(e))I.mixin("__unnamed_"+ke++,e,!0);else{var n=r?Oe:_e;if(!t){if(typeof n[e]===E)throw new Error("Unregistered mixin: "+e);return n[e]}ie(t)?(ve(t.prototype,n[e]||{}),n[e]=t):n[e]=ve(n[e]||{},t)}}),I.tag=function(e,t,r,n,o){return ie(n)&&(o=n,/^[\w\-]+\s?=/.test(r)?(n=r,r=""):n=""),r&&(ie(r)?o=r:Q.add(r)),e=e.toLowerCase(),B[e]={name:e,tmpl:t,attrs:n,fn:o},e},I.tag2=function(e,t,r,n,o){return r&&Q.add(r),B[e]={name:e,tmpl:t,attrs:n,fn:o},e},I.mount=function(e,o,i){var t,r,a=[];function n(e){var t="";return oe(e,function(e){/[^-\w]/.test(e)||(e=e.trim().toLowerCase(),t+=",["+_+'="'+e+'"],['+C+'="'+e+'"]')}),t}function c(){var e=Object.keys(B);return e+n(e)}if(Q.inject(),ae(o)&&(i=o,o=0),t=typeof e===O?("*"===e?e=r=c():e+=n(e.split(/, */)),e?Be(e):[]):e,"*"===o){if(o=r||c(),t.tagName)t=Be(o,t);else{var s=[];oe(t,function(e){s.push(Be(o,e))}),t=s}o=0}return function e(t){if(t.tagName){var r=le(t,_)||le(t,C);o&&r!==o&&(ue(t,_,r=o),ue(t,C,o));var n=function(e,t,r){var n=B[t],o=e._innerHTML=e._innerHTML||e.innerHTML;return e.innerHTML="",n&&e&&(n=new re(n,{root:e,opts:r},o)),n&&n.mount&&(n.mount(),be(S,n)||S.push(n)),n}(t,r||t.tagName.toLowerCase(),i);n&&a.push(n)}else t.length&&oe(t,e)}(t),a},I.update=function(){return oe(S,function(e){e.update()})},I.vdom=S,I.Tag=re,typeof De===k?Ae.exports=I:typeof define===n&&typeof define.amd!==E?define(function(){return I}):U.riot=I}("undefined"!=typeof window?window:void 0)},{}]},{},["lib/cti.sdk/plugins/helper/InsertPlacement.js~.normalized.js"])("lib/cti.sdk/plugins/helper/InsertPlacement.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/helper/InsertPlacement');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/helper/InsertPlacement"] = exports;
return exports;
})()),
    "#cti1": "{$__adslot-creatives/#cti1}"
},
"__adslot-products": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/products');
/*<PLUGIN uri="live_preview/plugins/cti1/products">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(t.module={})).exports=e()}}(function(){return function n(o,c,s){function l(t,e){if(!c[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(u)return u(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=c[t]={exports:{}};o[t][0].call(a.exports,function(e){return l(o[t][1][e]||e)},a,a.exports,n,o,c,s)}return c[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)l(s[e]);return l}({"lib/cti.helpers/CTZ_DDUSessionRecorder.js":[function(e,t,i){"use strict";function r(){try{var i=function(e,t){e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.requestTags&&(t.ud||(t.ud={}),t.ud.tags=e["#cti1"].endpoints.www.requestTags)},r=function(e,t){var i;n?(o.location.protocol,(i=new o.XDomainRequest).onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){},i.onload=function(){var e=this.responseText||"{}";o.CTI_METRIC&&o.CTI_METRIC("response",{event:"Endpoint Response",response:e})}):(i=new o.XMLHttpRequest).onreadystatechange=function(){4===i.readyState&&200===i.status&&o.CTI_METRIC&&o.CTI_METRIC("response",{event:"DDU Session Recorder Response",url:e.ctPostData.referralURL.domain+e.ctPostData.referralURL.path,data:i.responseText})},e.ctPostData.referralURL.alias=t.impression&&t.impression.alias||t.click&&t.click.alias||t.publisher&&t.publisher.alias||t["#cti1"]&&t["#cti1"].publisher&&t["#cti1"].publisher.alias||"",e.ctPostData.referralURL.publisherID=t.impression&&t.impression.publisherID||t.click&&t.click.publisherID||t.publisher&&t.publisher.id||t["#cti1"]&&t["#cti1"].publisher&&t["#cti1"].publisher.id||"";var r=a(t);i.open("POST",r,!0),n||(i.setRequestHeader("Content-type","application/json;charset=UTF-8"),i.withCredentials=!0),o.CTI_METRIC&&o.CTI_METRIC("request",{event:"DDU Session Recorder Request",url:r,data:e}),i.send(JSON.stringify(e))},a=function(e){return(e.server&&(e.server&&e.server.ssl?"https:":o.location.protocol)+"//"+(e.server&&e.server.api||"www.clicktripz.com")||e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.protocol+e["#cti1"].endpoints.www.hostUri||"https://www.clicktripz.com")+"/publisher/sessions/record_session_hotel_city.php"},e={},n=o.XDomainRequest&&o.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;e.recordImpression=function(e){e.impression.protocol=o.location.protocol,e.impression.domain=o.location.host,e.impression.path=o.location.pathname,e.impression.search=o.location.search,e.impression.hash=o.location.hash,i(e,e.impression);var t={ctPostData:{publisherID:2474,referralURL:e.impression,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(t,e)},e.recordClick=function(e){i(e,e.click);var t={ctPostData:{publisherID:2475,referralURL:e.click,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(t,e)}}catch(e){throw e}return e}var o;o=window,r.version="0.0.1",void 0!==t?t.exports=r():void 0!==o&&(o.CTZ_DDUSessionRecorder=r())},{}],"lib/cti.sdk/plugins/cti1/ctf_impression.js":[function(e,t,i){"use strict";t.exports={forSDK:function(g){function m(e){return"success"===e.status||"fail"===e.status&&g.LIB.logger.error("CTF :: "+JSON.stringify(e.data)),null}return{record:function(e,t){var i=e.ctzpid,r=void 0===i?null:i,a=e.publisherID,n=void 0===a?null:a,o=e.iid,c=void 0===o?null:o,s=t.adtToken,l=void 0===s?null:s,u=t.searchKey,p=void 0===u?null:u,d=t.auction_id;(function(e){return g.LIB.endpoint.call({method:"POST",path:"/api/ctf/v1/imp",json:e})})({publisher_user_id:r,publisher_id:n,product_type:"ddu",impression_id:c,search_key:p,adtToken:l,auction_id:void 0===d?null:d}).then(m,function(e){return g.LIB.logger.error("Error calling CTF impression endpoint :: "+e)})}}}}},{}],"lib/cti.sdk/plugins/cti1/products-events.js":[function(e,t,i){"use strict";i.forSDK=function(t){t.console;var n=e("./tracking-events").forSDK(t);return function(a){return{"#cti1":{productsEvents:t.LIB.JSON.externalize(function(s){try{var i=function(e,t){var n=void 0;d=g=null;var i=function(e,a,t,i){if("ALL"!==a)return"FIRST"===a?(g=f[0].data,d=f[0].data.results.searchKey,e[0].data.slice(0,1)):window._cti_backfill_array_prototype_reduce(e,function(i,r){return i.length||r.data.forEach(function(e,t){e.campaignID===a&&(n=r.data.vertical,f.forEach(function(e,t){(-1<n.indexOf(e.data.config.vertical)||-1<e.data.config.vertical.indexOf(n))&&(g=e.data,d=e.data.results.searchKey)}),i.push(e))}),i},[]);g=f[0].data,d=f[0].data.results.searchKey;var r=e[0].data.filter(function(e){return!e.ifb});return"ddu"===t?"single"===i?e[0].data.slice(0,1):r.slice(0,1)||e[0].data.slice(0,1):e[0].data.slice(0,1)}(m,e,f[0].data.config.productType,l.LODASH.get(f,"[0].data.config.exitUnitExtraParameters.creativeType",!1)),r=l.LODASH.get(s,"placementGroup.creativeType",null),a={creative:s.placementGroup.creative,placement:s.placementGroup.name,product:s.placementGroup.type};r&&(a.creativeType=r);var o={creative:l.LODASH.get(g,"config.adSlot.injectionTarget.creative.impression.c"),placement:l.LODASH.get(g,"config.adSlot.injectionTarget.creative.impression.placement"),product:l.LODASH.get(g,"config.adSlot.injectionTarget.creative.impression.product")},c="adslot"===s.placementGroup.type?o:a;u.launch({comparison:g,userAgent:p,launchEvent:c,window:l.dom.window,prepops:l.CT_ADAPTER.getSingleton().getPrepopWindows(),openedWindows:l.CT_ADAPTER.getSingleton().getCtWindows(),domEvent:t,checkedCampaigns:i},function(e,t){})},l=t.LIB,u=void 0,p=void 0,d=void 0,g=void 0,r=void 0,m=l.JSON.internalize(s.productSetDataProviders.campaigns),f=l.JSON.internalize(s.productSetDataProviders.comparison),e=l.JSON.internalize(s.productSetDataProviders.search);return f[0]||(f=[],l.LODASH.forEach(e,function(e,t){f.push(e.comparison)}),s.productSetDataProviders.comparison=f),r=a["#cti1"].trackingEvents?t.LIB.JSON.internalize(a["#cti1"].trackingEvents):t.LIB.JSON.internalize(n(a)["#cti1"].trackingEvents),_CTZG.bootloader.ensureModule("ct-core",function(e){u=e,p=_ctrequire("user-agent").userAgent(l.dom.window)}),{iframeClick:function(e){l.LODASH.merge(e.data.click,{ud:s.placementGroup.unstructuredData||{}}),e.searchKey=d,r.iframeClick(e,s),a.after&&a.after.iframeClick&&a.after.iframeClick(e,s)},seeAny:function(e){l.LODASH.merge(e.data.click,{ud:s.placementGroup.unstructuredData||e.data.click.ud||{}}),!0!==e.data.click.preventLaunch&&i("FIRST"),e.searchKey=d,r.seeAny(e,s),a.after&&a.after.seeAny&&a.after.seeAny(e,s)},seeAll:function(e){l.LODASH.merge(e.data.click,{ud:s.placementGroup.unstructuredData||{}});var t=l.UA.legacy.isSafari()?"FIRST":"ALL";i(t),e.searchKey=d,r.seeAll(e,s),a.after&&a.after.seeAll&&a.after.seeAll(e,s)},seeOne:function(e){l.LODASH.merge(e.data.click,{ud:s.placementGroup.unstructuredData||{}}),i(e.data.click.campaignClickedOn),e.searchKey=d,r.seeOne(e,s),a.after&&a.after.seeOne&&a.after.seeOne(e,s)},close:function(e){r.close(e,s),a.after&&a.after.close&&a.after.close(e,s)},impression:function(e){r.impression(e,s),a.after&&a.after.impression&&a.after.impression(e,s)},generic:function(e){r.generic(e,s),t.LIB.logger.debug("[products plugin] generic handler is deprecated!")}}}catch(e){throw new Error("[products-events]: "+e)}})}}}}},{"./tracking-events":"lib/cti.sdk/plugins/cti1/tracking-events.js"}],"lib/cti.sdk/plugins/cti1/products.js~.normalized.js":[function(e,t,i){"use strict";var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.forSDK=function(p){var d=p.console,g=e("./products-events").forSDK(p);return function(u){p.LIB.ASSERT(!!u["#cti1"],!0,"The '#cti1' config properties must be set!");var e={placements:p.LIB.JSON.internalize(u["#cti1"].placements),search:p.LIB.JSON.internalize(u["#cti1"].search),campaigns:u["#cti1"].campaigns&&p.LIB.JSON.internalize(u["#cti1"].campaigns)||null,comparison:u["#cti1"].comparison&&p.LIB.JSON.internalize(u["#cti1"].comparison)||null,rates:u["#cti1"].rates&&p.LIB.JSON.internalize(u["#cti1"].rates)||null};return p.LIB.LODASH.forEach(u.sets,function(t,i){var r=void 0,o=p.LIB.LODASH.merge({},e,p.LIB.LODASH.mapValues(t.data,function(e){return p.LIB.JSON.internalize(e)})),c=void 0;c=u["#cti1"].productsEvents?p.LIB.JSON.internalize(u["#cti1"].productsEvents):p.LIB.JSON.internalize(g(u)["#cti1"].productsEvents),Array.isArray(o.campaigns)||(o.campaigns=[o.campaigns]),Array.isArray(o.search)||(o.search=[o.search]),Array.isArray(o.comparison)||(o.comparison=[o.comparison]),o.campaigns=p.LIB.LODASH.map(o.campaigns,function(e){return p.LIB.JSON.internalize(e)}),o.search=p.LIB.LODASH.map(o.search,function(e){return p.LIB.JSON.internalize(e)}),o.comparison=p.LIB.LODASH.map(o.comparison,function(e){return p.LIB.JSON.internalize(e)}),1<o.campaigns.length&&d.log("[products] Using more than 1 campaigns! Make sure to use a creative that can handle more than 1 campaigns!"),Object.keys(o).forEach(function(e){null===o[e]&&delete o[e]});function s(e){var i={rates:p.LIB.LODASH.get(e,"rates.data",null),campaigns:[],search:[],comparison:[]};return p.LIB.LODASH.forEach(e.search,function(e,t){e&&e.data&&i.search.push(e.data)}),p.LIB.LODASH.forEach(e.campaigns,function(e,t){e&&e.data&&i.campaigns.push(e.data)}),p.LIB.LODASH.forEach(e.comparison,function(e,t){e&&e.data&&i.comparison.push(e.data)}),p.LIB.LODASH.omitBy(i,p.LIB.LODASH.isNil)}if(o.placements)if(o.search)if(o.campaigns||o.rates){var l=p.LIB.JSON.parse(p.LIB.JSON.stringify(t.skin||{})),a=p.LIB.LODASH.debounce(function(){return p.LIB.Promise.map(t.placementGroups,function(e){var t=o.placements.data.groups[e];if(!t)return d.log("No active placements found for group:",e),null;var i={placementGroup:t,productSetDataProviders:o,options:u.options};p.LIB.ASSERT(m(t.type),"string","'type' must be set for placement group '"+e+"'!");var r=c(i),a=p.LIB.JSON.internalize(t.showWithData),n=s(o);n["#allcampaigns1"]=o.campaigns,n["#allsearch1"]=o.search;try{return a(n,r,l)}catch(e){return p.LIB.logger.error(e),null}})},500,{trailing:!0}),n=p.LIB.LODASH.debounce(function(){d.log("Run 'render()'"),d.log("[areProductSetDataProvidersLoaded] Object.keys(productSetDataProviders):",Object.keys(o)),(r=0)===Object.keys(o).filter(function(t){if(Array.isArray(o[t])){if(o[t].filter(function(e){if(e&&!e.data)return!(1<r||(d.log("[areProductSetDataProvidersLoaded] Still waiting for data from '"+t+"'"),0));r++}).length)return!0}else if(!o[t].data)return d.log("[areProductSetDataProvidersLoaded] Still waiting for data from '"+t+"'"),!0;return d.log("[areProductSetDataProvidersLoaded] Have data from '"+t+"':",o[t].data),!1}).length?p.LIB.Promise.try(function(){var e=p.LIB.LODASH.get(t,"on.show",function(){return!0});return d.log("Run 'productSetOnShow':",e.toString()),e({data:s(o),skin:l})}).then(function(e){if(!0===e)return d.log("Show product set '"+i+"' with data:",s(o)),a();d.log("Not showing product set '"+i+"' due to:",e)}).catch(p.console.error):d.log("SKIP run 'render()' due to !areProductSetDataProvidersLoaded()")},500,{trailing:!0});p.LIB.LODASH.forEach(o,function(e,t){Array.isArray(e)?p.LIB.LODASH.forEach(e,function(e,t){e&&e.on("changed",function(){d.log("Data provider changed:",t),n()})}):e&&e.on("changed",function(){d.log("Data provider changed:",t),n()})}),d.log("Default render"),n()}else p.console.error("Product set '"+i+"' requires campaigns or rates data");else p.console.error("Product set '"+i+"' requires search data");else p.console.error("Product set '"+i+"' requires placement data")}),u}}},{"./products-events":"lib/cti.sdk/plugins/cti1/products-events.js"}],"lib/cti.sdk/plugins/cti1/tracking-events.js":[function(t,e,i){"use strict";var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i.forSDK=function(I){I.console;return function(h){try{var S=function(e,t){if(!e)return null;var i=RegExp("[?&]"+t+"=([^&]*)").exec(e);return i&&decodeURIComponent(i[1].replace(/\+/g," "))},D=I.LIB.LODASH,v=I.LIB,L=t("lib/cti.helpers/CTZ_DDUSessionRecorder"),O=I.LIB.COOKIE.get("_pageviewUUID")||null,y=(Math.random()+Math.PI).toString(36).substring(2,10),w=I.API["RECORD.SESSION"].forConfig({"#cti1":v.config["#cti1"]}),b=t("./ctf_impression").forSDK(I),e={iframeClick:function(e,t){var i="adslot"===v.LODASH.get(t,"placementGroup.type"),r=v.config["#cti1"],a=h["#cti1"],n=i?a:r,o=v.JSON.internalize(t.productSetDataProviders.comparison);L.recordClick(v.LODASH.merge({click:e.data.click},{click:{pageviewID:y,placement:t.placementGroup.name,searchKey:e.searchKey,pageview_uuid:O,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")}},{"#cti1":{publisher:n.publisher,endpoints:n.endpoints,compareTo:n.compareTo}},{impression:{publisherID:o[0].data.config.publisherID}})),h.after&&h.after.iframeClick&&h.after.iframeClick(e,t,L.recordClick)},seeAny:function(e,t){var i="adslot"===v.LODASH.get(t,"placementGroup.type"),r=v.config["#cti1"],a=h["#cti1"],n=i?a:r,o=v.JSON.internalize(t.productSetDataProviders.comparison),c=(v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.c",v.LODASH.get(e,"data.impression.c",t.placementGroup.creative)),v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.product",v.LODASH.get(t,"placementGroup.type")),v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.placement",v.LODASH.get(t,"placementGroup.name")));L.recordClick(v.LODASH.merge({click:e.data.click},{click:{pageviewID:y,placement:c,searchKey:e.searchKey,pageview_uuid:O,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")}},{"#cti1":{publisher:n.publisher,endpoints:n.endpoints,compareTo:n.compareTo}},{impression:{publisherID:o[0].data.config.publisherID}})),h.after&&h.after.seeAny&&h.after.seeAny(e,t,L.recordClick)},seeAll:function(e,t){var i="adslot"===v.LODASH.get(t,"placementGroup.type"),r=v.config["#cti1"],a=h["#cti1"],n=i?a:r,o=v.JSON.internalize(t.productSetDataProviders.comparison),c=(v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.c",v.LODASH.get(e,"data.impression.c",t.placementGroup.creative)),v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.product",v.LODASH.get(t,"placementGroup.type")),v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.placement",v.LODASH.get(t,"placementGroup.name")));L.recordClick(v.LODASH.merge({click:e.data.click},{click:{pageviewID:y,placement:c,searchKey:e.searchKey,pageview_uuid:O,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")}},{"#cti1":{publisher:n.publisher,endpoints:n.endpoints,compareTo:n.compareTo}},{impression:{publisherID:o[0].data.config.publisherID}})),h.after&&h.after.seeAll&&h.after.seeAll(e,t,L.recordClick)},seeOne:function(e,t){var i="adslot"===v.LODASH.get(t,"placementGroup.type"),r=v.config["#cti1"],a=h["#cti1"],n=i?a:r,o=v.JSON.internalize(t.productSetDataProviders.comparison),c=(v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.c",v.LODASH.get(e,"data.impression.c",t.placementGroup.creative)),v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.product",v.LODASH.get(t,"placementGroup.type")),v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.placement",v.LODASH.get(t,"placementGroup.name")));L.recordClick(v.LODASH.merge({click:e.data.click},{click:{pageviewID:y,placement:c,searchKey:e.searchKey,pageview_uuid:O,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")}},{"#cti1":{publisher:n.publisher,endpoints:n.endpoints,compareTo:n.compareTo}},{impression:{publisherID:o[0].data.config.publisherID}})),h.after&&h.after.seeOne&&h.after.seeOne(e,t,L.recordClick)},close:function(e,t){var i=v.JSON.internalize(t.productSetDataProviders.comparison),r=v.LODASH.get(i,"[0].data.config.adSlot.injectionTarget.creative.impression.c",v.LODASH.get(e,"data.impression.c",t.placementGroup.creative)),a=v.LODASH.get(i,"[0].data.config.adSlot.injectionTarget.creative.impression.product",v.LODASH.get(t,"placementGroup.type"));v.LODASH.get(i,"[0].data.config.adSlot.injectionTarget.creative.impression.placement",v.LODASH.get(t,"placementGroup.name"));if("toaster"===t.placementGroup.type&&(t.placementGroup.closed=!0),v.LODASH.get(t.placementGroup,"on.close",!1))try{if(!v.LODASH.isFunction(t.placementGroup.on.close))throw new Error("pluginConfig.placementGroup.on.close must be a function");t.placementGroup.on.close(e,t)}catch(e){v.logger.error("Caught exception when calling pluginConfig.placementGroup.on.close",e)}v.LODASH.merge(e.data.close,{product:a,c:r,ud:t.placementGroup.unstructuredData||{},pageview_uuid:O,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(i,"[0].data.results.strategy.tabURL",""),"auction_id")}),h.after&&h.after.close&&h.after.close(e,t,L.recordClick)},impression:function(e,t){var i="adslot"===v.LODASH.get(t,"placementGroup.type"),r=v.config["#cti1"],a=h["#cti1"],n=i?a:r,o=v.JSON.internalize(t.productSetDataProviders.comparison),c=v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.c",v.LODASH.get(e,"data.impression.c",t.placementGroup.creative)),s=v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.product",v.LODASH.get(t,"placementGroup.type")),l=v.LODASH.get(o,"[0].data.config.adSlot.injectionTarget.creative.impression.placement",v.LODASH.get(t,"placementGroup.name"));if("object"===A(e.data.impression)&&v.LODASH.merge(e.data.impression,{product:s,vertical:{city:"Hotel Citywide",hotel:"Hotel",flights:"Flights",cars:"Car Rentals",vacations:"Vacations",multi:"Multi"}[1<t.productSetDataProviders.campaigns.length?"multi":t.productSetDataProviders.campaigns[0].data.vertical],c:c,ud:t.placementGroup.unstructuredData||{}}),w.clearKeys(),w.setKey("ddu"),e.data.impression){var u=v.LODASH.merge({},e.data.impression,{pageviewID:y,placement:l,pageview_uuid:O,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")});u.publisherID=o[0].data.config.publisherID,"lightbox"===e.placementType&&v.LODASH.merge(u,{ud:{timeoutMS:e.showTrigger&&e.showTrigger.inactivityTime||"",lightboxTrigger:e.showTrigger&&e.showTrigger.reason||""}}),i&&v.LODASH.merge(u,{ud:{timeoutMS:e.showTrigger&&e.showTrigger.inactivityTime||"",lightboxTrigger:e.showTrigger&&e.showTrigger.reason||""}}),L.recordImpression(v.LODASH.merge({impression:u},{"#cti1":{publisher:n.publisher,endpoints:n.endpoints,compareTo:n.compareTo}}));var p=D.get(t,"productSetDataProviders.comparison[0].data.results.strategy.tabURL",null);if(p){var d=p.match(/\?(.*)/)[1]||"",g=I.LIB.parseQueryString(d);"1"===g.ctfMode&&b.record(u,g)}if("lightbox"!==e.placementType&&!i||(v.COOKIE.get("_ctz_opt_out")||v.COOKIE.set("_ctz_opt_out","_ctz_opt_out_ddu",{expires:v.LODASH.get(o,"[0].data.config.optOutDuration",window._optOutDuration)}),v.endpoint.call({method:"POST",path:"/api/ddu/v1/opt-out",json:{alias:n.publisher.alias,publisherID:o[0].data.config.publisherID,iid:e.data.impression.iid,pageviewID:y,product:s,creative:c,placement:l,extra:e.data.impression.ud,optOutKey:v.LODASH.get(n,"options.optOutKey",null)||"alias",pageview_uuid:O}}).then(function(e){return"success"!==e.status&&v.logger.error("[POST opt-out] response failure:",e.message),null}).catch(function(e){return I.LIB.logger.error("[POST opt-out] error: "+e),null})),!0===v.LODASH.get(h["#cti1"],"options.impressionEnabled",!1)){var m={alias:u.alias,publisherID:o[0].data.config.publisherID,iid:u.iid,pageviewID:u.pageviewID,product:u.product,creative:u.c,placement:u.placement,extra:u.ud,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")};window.CTI_METRIC&&window.CTI_METRIC("request",{event:"Campaign Plugin Request",url:v.config["#cti1"].endpoints.www.protocol+v.config["#cti1"].endpoints.www.hostUri+"/api/ddu/v1/impression",data:m}),v.endpoint.call({method:"POST",path:"/api/ddu/v1/impression",json:m}).then(function(e){e&&"success"===e.status?window.CTI_METRIC&&window.CTI_METRIC("response",{event:"Campaign Plugin Response",url:v.config["#cti1"].endpoints.www.protocol+v.config["#cti1"].endpoints.www.hostUri+"/api/ddu/v1/impression",data:e}):v.logger.error("[POST impression] response failure:",e&&e.message||"no response")}).catch(function(e){return I.LIB.logger.error("[POST impression] error: "+e),null})}}else w.setKey("placebo");if(!0===v.LODASH.get(h["#cti1"],"options.sessionEnabled",!1)){var f=v.LODASH.merge({city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},e.search,e.data.search||{});if(void 0===v.config["#cti1"].publisher.umbrellaID)throw new Error("config['#cti1'].publisher.umbrellaID is not set");w.setSearchParams(v.LODASH.merge(f,{publisherID:v.config["#cti1"].publisher.umbrellaID,referralURL:window.location.href,ctzpid:D.get(window,["_CTZG","bootloader","constrain","data","cpid"],null),auction_uuid:S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")})),void 0!==f.hotelID&&"Hotel"==e.data.impression.vertical&&w.setKeyValue("ctzID",f.hotelID),w.setKeyValue("placement",t.placementGroup.name),w.setKeyValue("product",t.placementGroup.type),w.setKeyValue("creative",t.placementGroup.creative),w.setKeyValue("publisher",v.config["#cti1"].publisher.id),w.setKeyValue("pageviewID",y),w.setKeyValue("ctzpid",D.get(I.LIB.config["#cti1"],["middleware","Middleware/Tracking.v0","cpid"],null)),w.setKeyValue("auction_uuid",S(D.get(o,"[0].data.results.strategy.tabURL",""),"auction_id")),w.recordSession()}h.after&&h.after.impression&&h.after.impression(e,t,L.recordClick)},generic:function(){I.LIB.logger.debug("tracking events plugin: generic tracking is deprecated!")}};return{"#cti1":{trackingEvents:I.LIB.JSON.externalize(e)}}}catch(e){throw new Error("[tracking-events]: "+e)}}}},{"./ctf_impression":"lib/cti.sdk/plugins/cti1/ctf_impression.js","lib/cti.helpers/CTZ_DDUSessionRecorder":"lib/cti.helpers/CTZ_DDUSessionRecorder.js"}]},{},["lib/cti.sdk/plugins/cti1/products.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/products.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/products');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/products"] = exports;
return exports;
})()),
    "#cti1": "{$__adslot-placements/#cti1}",
    "sets": {
        "36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox": {
            "data": {
                "campaigns": "{$__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns/#cti1/campaigns}",
                "search": "{$__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns/#cti1/search}",
                "comparison": "{$__adslot-36039b62-ff2e-4fb9-92e9-a8a2139ccc47_desktop_lightbox-campaigns/#cti1/comparison}"
            }
        },
        "d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox": {
            "data": {
                "campaigns": "{$__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns/#cti1/campaigns}",
                "search": "{$__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns/#cti1/search}",
                "comparison": "{$__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns/#cti1/comparison}"
            }
        },
        "0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox": {
            "data": {
                "campaigns": "{$__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns/#cti1/campaigns}",
                "search": "{$__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns/#cti1/search}",
                "comparison": "{$__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns/#cti1/comparison}"
            }
        }
    }
},
"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config": {
    _impl: ((function () {
return _CTI_PLUGIN_IMPL["live_preview/plugins/cti1/config"];
})()),
    "isAdSlotEligible": "{$policy-engine/isAdSlotEligible}"
},
"__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-campaigns": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/campaigns');
/*<PLUGIN uri="live_preview/plugins/cti1/campaigns">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;((i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(i.module={})).exports=e()}}(function(){return function a(n,o,c){function l(i,e){if(!o[i]){if(!n[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(u)return u(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var s=o[i]={exports:{}};n[i][0].call(s.exports,function(e){return l(n[i][1][e]||e)},s,s.exports,a,n,o,c)}return o[i].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({"lib/cti.helpers/CTZ_DDUSessionRecorder.js":[function(e,i,t){"use strict";function r(){try{var t=function(e,i){e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.requestTags&&(i.ud||(i.ud={}),i.ud.tags=e["#cti1"].endpoints.www.requestTags)},r=function(e,i){var t;a?(n.location.protocol,(t=new n.XDomainRequest).onprogress=function(){},t.ontimeout=function(){},t.onerror=function(){},t.onload=function(){var e=this.responseText||"{}";n.CTI_METRIC&&n.CTI_METRIC("response",{event:"Endpoint Response",response:e})}):(t=new n.XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&200===t.status&&n.CTI_METRIC&&n.CTI_METRIC("response",{event:"DDU Session Recorder Response",url:e.ctPostData.referralURL.domain+e.ctPostData.referralURL.path,data:t.responseText})},e.ctPostData.referralURL.alias=i.impression&&i.impression.alias||i.click&&i.click.alias||i.publisher&&i.publisher.alias||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.alias||"",e.ctPostData.referralURL.publisherID=i.impression&&i.impression.publisherID||i.click&&i.click.publisherID||i.publisher&&i.publisher.id||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.id||"";var r=s(i);t.open("POST",r,!0),a||(t.setRequestHeader("Content-type","application/json;charset=UTF-8"),t.withCredentials=!0),n.CTI_METRIC&&n.CTI_METRIC("request",{event:"DDU Session Recorder Request",url:r,data:e}),t.send(JSON.stringify(e))},s=function(e){return(e.server&&(e.server&&e.server.ssl?"https:":n.location.protocol)+"//"+(e.server&&e.server.api||"www.clicktripz.com")||e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.protocol+e["#cti1"].endpoints.www.hostUri||"https://www.clicktripz.com")+"/publisher/sessions/record_session_hotel_city.php"},e={},a=n.XDomainRequest&&n.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;e.recordImpression=function(e){e.impression.protocol=n.location.protocol,e.impression.domain=n.location.host,e.impression.path=n.location.pathname,e.impression.search=n.location.search,e.impression.hash=n.location.hash,t(e,e.impression);var i={ctPostData:{publisherID:2474,referralURL:e.impression,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)},e.recordClick=function(e){t(e,e.click);var i={ctPostData:{publisherID:2475,referralURL:e.click,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)}}catch(e){throw e}return e}var n;n=window,r.version="0.0.1",void 0!==i?i.exports=r():void 0!==n&&(n.CTZ_DDUSessionRecorder=r())},{}],"lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js":[function(e,i,t){"use strict";t.forSDK=function(I){var t=I.console,a=(e("lib/cti.helpers/CTZ_DDUSessionRecorder"),0);return function(d){I.LIB.ASSERT(!!d["#cti1"],!0,"The '#cti1' config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher,!0,"The ['#cti1'].publisher config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher.alias,!0,"The ['#cti1'].publisher.alias config properties must be set!"),I.LIB.ASSERT(Boolean(d["#cti1"].publisher.id)||Boolean(I.LIB.LODASH.get(d,"#cti1.adslot.@id")),!0,"The ['#cti1'].publisher.id or ['#cti1'].adslot properties must be set!"),void 0===d["#cti1"].inheritComparison&&(d["#cti1"].inheritComparison="ddu");var h={};I.LIB.LODASH.assign(h,I.LIB),h.config=d["#cti1"];var f=++a,g=new I.LIB.DataProvider,i=new I.LIB.DataProvider,m=new I.LIB.DataProvider,L=new I.LIB.DataProvider,e=d.search&&I.LIB.JSON.internalize(d.search);e&&e.on("changed",function(e){var i=I.LIB.LODASH.omitBy(e.reformatted,function(e,i){return"type"===i});r.search(e.reformatted.type,i)});var r={"#cti1":{search:I.LIB.JSON.externalize(g),campaigns:I.LIB.JSON.externalize(i),interfaceDefinition:I.LIB.JSON.externalize(m),comparison:I.LIB.JSON.externalize(L)}},s=function(e,i){return d&&!0!==d.usePubTargeting?I.LIB.Promise.resolve(!0):I.API.TARGETING.forConfig(I.LIB.LODASH.cloneDeep(d)).getPubTargetingProductStatus(e,i,d.pubTargetingType||"ddu")};return r.setSearch=function(e){t.log("Set search data:",e),g.update(e)},r.setCampaigns=function(e){t.log("Set campaign data:",e),i.update(e)},r.setPublisherId=function(e){d["#cti1"].publisher.id=e},r.search=function(i,e){if(r.search._last={search:e,vertical:i},I.LIB.LODASH.get(d,["#cti1","isAdSlotEligible"],!0)){var t=I.LIB.SCHEMA.validateVerticalFields(i,e);I.LIB.logger.debug(d["@id"],"validation","search()","fieldErrors",t);return function i(u,p){return I.LIB.logger.debug(d["@id"],"start","doSearch(vertical, search)",u,p),I.LIB.Promise.try(function(){var e=I.LIB.JSON.stringify(p);return e===i._searchCacheKey?(I.LIB.logger.debug(d["@id"],"skip","doSearch()","due to","search criteria has not changed"),null):(i._searchCacheKey=e,s(!1,p).then(function(e){if(!e)return!1;var i=I.LIB.CT_ADAPTER.forSDK(I),t={publisherID:d["#cti1"].publisher.id,adSlotId:I.LIB.LODASH.get(d,"#cti1.adslot.@id"),adSlot:I.LIB.LODASH.get(d,"#cti1.adslot")},r={ddu:{openNewWindowsInTabs:!(!I.LIB.UA.legacy.isAndroidTablet()&&!I.LIB.UA.legacy.isIpad())||void 0,maxChecked:0,maxAdvertisers:7,popUnder:!1,rotationStrategy:"ddu",productType:"ddu",maxSearchesPerPageview:9999,maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400},exit_unit:{popUnder:!0,maxSearchesPerDay:48,hardLimitSearchCap:2,hardLimitSearchCapSeconds:86400}}[d["#cti1"].inheritComparison]||{},s=d["#cti1"].comparison||i.compareToToComparisonConfig(d["#cti1"].compareTo),a=d["#cti1"].forceNoCaps?{maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400,notifyNoCaps:!0}:{notifyNoCaps:!1},n=I.LIB.LODASH.merge({},t,r,s,a),o=i.parseReferralData(n.referralURL),c={type:u,search:p,comparisonConfig:I.LIB.LODASH.merge({},n,{referralData:o.data,referralURL:I.LIB.dom.window.location.href})},l=I.LIB.LODASH.get(d,"#cti1.adslot.@id","campaigns_"+f);return i.loadComparison(l,c).then(function(e){var i=I.LIB.LODASH.get(e,"results.campaigns",[]),t=I.LIB.LODASH.get(e,"results.strategy.aurl",!1),r=0<i.length;if(I.LIB.logger.debug(d["@id"],"end","doSearch()","returned campaigns",i),!t&&!r)return I.LIB.logger.debug(d["@id"],"Comparison is not actionable:",e),null;var s=I.LIB.LODASH.get(e,"results.strategy.searchParams",{}),a=I.LIB.LODASH.merge({},p,s);return g.comparison=L,g.update(a),L.update(e),m.update(h.LODASH.get(e,"launchStrategy.interfaceDefinition")),i})}))})}(i,e).then(function(e){return e?(e.vertical=i,r.setCampaigns(e),e):null}).catch(function(e){I.LIB.logger.error(e)})}I.LIB.logger.debug(d["@id"],"AdServer request skipped. AdSlot disabled.",I.LIB.LODASH.get(d,["#cti1","adslot"]))},I.API.WINDOW.on.changed("url",function(e){return void 0!==r.search._last&&r.search(r.search._last.vertical,r.search._last.search),null}),I.LIB.Promise.try(function(){return d.on&&d.on.init?d.on.init({}):null}).then(function(){return r}).catch(function(e){throw t.error("Error in campaigns.js: "+e),e})}}},{"lib/cti.helpers/CTZ_DDUSessionRecorder":"lib/cti.helpers/CTZ_DDUSessionRecorder.js"}]},{},["lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/campaigns');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/campaigns"] = exports;
return exports;
})()),
    "#cti1": "{$__adslot-d6d2b90f-3873-4f9c-a586-0049291993ed_tablet_lightbox-config/#cti1}",
    "search": "{$watcher/#cti1/search}"
},
"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config": {
    _impl: ((function () {
return _CTI_PLUGIN_IMPL["live_preview/plugins/cti1/config"];
})()),
    "isAdSlotEligible": "{$policy-engine/isAdSlotEligible}"
},
"__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-campaigns": {
    _impl: ((function () { var origWindowModule = window.module;
var origModule = module;
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('live_preview/plugins/cti1/campaigns');
/*<PLUGIN uri="live_preview/plugins/cti1/campaigns">*/
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i;((i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).module||(i.module={})).exports=e()}}(function(){return function a(n,o,c){function l(i,e){if(!o[i]){if(!n[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(u)return u(i,!0);var r=new Error("Cannot find module '"+i+"'");throw r.code="MODULE_NOT_FOUND",r}var s=o[i]={exports:{}};n[i][0].call(s.exports,function(e){return l(n[i][1][e]||e)},s,s.exports,a,n,o,c)}return o[i].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({"lib/cti.helpers/CTZ_DDUSessionRecorder.js":[function(e,i,t){"use strict";function r(){try{var t=function(e,i){e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.requestTags&&(i.ud||(i.ud={}),i.ud.tags=e["#cti1"].endpoints.www.requestTags)},r=function(e,i){var t;a?(n.location.protocol,(t=new n.XDomainRequest).onprogress=function(){},t.ontimeout=function(){},t.onerror=function(){},t.onload=function(){var e=this.responseText||"{}";n.CTI_METRIC&&n.CTI_METRIC("response",{event:"Endpoint Response",response:e})}):(t=new n.XMLHttpRequest).onreadystatechange=function(){4===t.readyState&&200===t.status&&n.CTI_METRIC&&n.CTI_METRIC("response",{event:"DDU Session Recorder Response",url:e.ctPostData.referralURL.domain+e.ctPostData.referralURL.path,data:t.responseText})},e.ctPostData.referralURL.alias=i.impression&&i.impression.alias||i.click&&i.click.alias||i.publisher&&i.publisher.alias||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.alias||"",e.ctPostData.referralURL.publisherID=i.impression&&i.impression.publisherID||i.click&&i.click.publisherID||i.publisher&&i.publisher.id||i["#cti1"]&&i["#cti1"].publisher&&i["#cti1"].publisher.id||"";var r=s(i);t.open("POST",r,!0),a||(t.setRequestHeader("Content-type","application/json;charset=UTF-8"),t.withCredentials=!0),n.CTI_METRIC&&n.CTI_METRIC("request",{event:"DDU Session Recorder Request",url:r,data:e}),t.send(JSON.stringify(e))},s=function(e){return(e.server&&(e.server&&e.server.ssl?"https:":n.location.protocol)+"//"+(e.server&&e.server.api||"www.clicktripz.com")||e["#cti1"]&&e["#cti1"].endpoints&&e["#cti1"].endpoints.www&&e["#cti1"].endpoints.www.protocol+e["#cti1"].endpoints.www.hostUri||"https://www.clicktripz.com")+"/publisher/sessions/record_session_hotel_city.php"},e={},a=n.XDomainRequest&&n.XMLHttpRequest&&void 0===(new XMLHttpRequest).responseType;e.recordImpression=function(e){e.impression.protocol=n.location.protocol,e.impression.domain=n.location.host,e.impression.path=n.location.pathname,e.impression.search=n.location.search,e.impression.hash=n.location.hash,t(e,e.impression);var i={ctPostData:{publisherID:2474,referralURL:e.impression,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)},e.recordClick=function(e){t(e,e.click);var i={ctPostData:{publisherID:2475,referralURL:e.click,city:"Manhattan Beach, CA",checkInDate:"11/20/2016",checkOutDate:"11/22/2016",rooms:"1",guests:"2"},alias:e["#cti1"].publisher.alias||e["#cti1"].publisher.publisherAlias,siteName:e["#cti1"].publisher.siteName||null};r(i,e)}}catch(e){throw e}return e}var n;n=window,r.version="0.0.1",void 0!==i?i.exports=r():void 0!==n&&(n.CTZ_DDUSessionRecorder=r())},{}],"lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js":[function(e,i,t){"use strict";t.forSDK=function(I){var t=I.console,a=(e("lib/cti.helpers/CTZ_DDUSessionRecorder"),0);return function(d){I.LIB.ASSERT(!!d["#cti1"],!0,"The '#cti1' config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher,!0,"The ['#cti1'].publisher config properties must be set!"),I.LIB.ASSERT(!!d["#cti1"].publisher.alias,!0,"The ['#cti1'].publisher.alias config properties must be set!"),I.LIB.ASSERT(Boolean(d["#cti1"].publisher.id)||Boolean(I.LIB.LODASH.get(d,"#cti1.adslot.@id")),!0,"The ['#cti1'].publisher.id or ['#cti1'].adslot properties must be set!"),void 0===d["#cti1"].inheritComparison&&(d["#cti1"].inheritComparison="ddu");var h={};I.LIB.LODASH.assign(h,I.LIB),h.config=d["#cti1"];var f=++a,g=new I.LIB.DataProvider,i=new I.LIB.DataProvider,m=new I.LIB.DataProvider,L=new I.LIB.DataProvider,e=d.search&&I.LIB.JSON.internalize(d.search);e&&e.on("changed",function(e){var i=I.LIB.LODASH.omitBy(e.reformatted,function(e,i){return"type"===i});r.search(e.reformatted.type,i)});var r={"#cti1":{search:I.LIB.JSON.externalize(g),campaigns:I.LIB.JSON.externalize(i),interfaceDefinition:I.LIB.JSON.externalize(m),comparison:I.LIB.JSON.externalize(L)}},s=function(e,i){return d&&!0!==d.usePubTargeting?I.LIB.Promise.resolve(!0):I.API.TARGETING.forConfig(I.LIB.LODASH.cloneDeep(d)).getPubTargetingProductStatus(e,i,d.pubTargetingType||"ddu")};return r.setSearch=function(e){t.log("Set search data:",e),g.update(e)},r.setCampaigns=function(e){t.log("Set campaign data:",e),i.update(e)},r.setPublisherId=function(e){d["#cti1"].publisher.id=e},r.search=function(i,e){if(r.search._last={search:e,vertical:i},I.LIB.LODASH.get(d,["#cti1","isAdSlotEligible"],!0)){var t=I.LIB.SCHEMA.validateVerticalFields(i,e);I.LIB.logger.debug(d["@id"],"validation","search()","fieldErrors",t);return function i(u,p){return I.LIB.logger.debug(d["@id"],"start","doSearch(vertical, search)",u,p),I.LIB.Promise.try(function(){var e=I.LIB.JSON.stringify(p);return e===i._searchCacheKey?(I.LIB.logger.debug(d["@id"],"skip","doSearch()","due to","search criteria has not changed"),null):(i._searchCacheKey=e,s(!1,p).then(function(e){if(!e)return!1;var i=I.LIB.CT_ADAPTER.forSDK(I),t={publisherID:d["#cti1"].publisher.id,adSlotId:I.LIB.LODASH.get(d,"#cti1.adslot.@id"),adSlot:I.LIB.LODASH.get(d,"#cti1.adslot")},r={ddu:{openNewWindowsInTabs:!(!I.LIB.UA.legacy.isAndroidTablet()&&!I.LIB.UA.legacy.isIpad())||void 0,maxChecked:0,maxAdvertisers:7,popUnder:!1,rotationStrategy:"ddu",productType:"ddu",maxSearchesPerPageview:9999,maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400},exit_unit:{popUnder:!0,maxSearchesPerDay:48,hardLimitSearchCap:2,hardLimitSearchCapSeconds:86400}}[d["#cti1"].inheritComparison]||{},s=d["#cti1"].comparison||i.compareToToComparisonConfig(d["#cti1"].compareTo),a=d["#cti1"].forceNoCaps?{maxSearchesPerDay:9999,hardLimitSearchCap:9999,hardLimitSearchCapSeconds:86400,notifyNoCaps:!0}:{notifyNoCaps:!1},n=I.LIB.LODASH.merge({},t,r,s,a),o=i.parseReferralData(n.referralURL),c={type:u,search:p,comparisonConfig:I.LIB.LODASH.merge({},n,{referralData:o.data,referralURL:I.LIB.dom.window.location.href})},l=I.LIB.LODASH.get(d,"#cti1.adslot.@id","campaigns_"+f);return i.loadComparison(l,c).then(function(e){var i=I.LIB.LODASH.get(e,"results.campaigns",[]),t=I.LIB.LODASH.get(e,"results.strategy.aurl",!1),r=0<i.length;if(I.LIB.logger.debug(d["@id"],"end","doSearch()","returned campaigns",i),!t&&!r)return I.LIB.logger.debug(d["@id"],"Comparison is not actionable:",e),null;var s=I.LIB.LODASH.get(e,"results.strategy.searchParams",{}),a=I.LIB.LODASH.merge({},p,s);return g.comparison=L,g.update(a),L.update(e),m.update(h.LODASH.get(e,"launchStrategy.interfaceDefinition")),i})}))})}(i,e).then(function(e){return e?(e.vertical=i,r.setCampaigns(e),e):null}).catch(function(e){I.LIB.logger.error(e)})}I.LIB.logger.debug(d["@id"],"AdServer request skipped. AdSlot disabled.",I.LIB.LODASH.get(d,["#cti1","adslot"]))},I.API.WINDOW.on.changed("url",function(e){return void 0!==r.search._last&&r.search(r.search._last.vertical,r.search._last.search),null}),I.LIB.Promise.try(function(){return d.on&&d.on.init?d.on.init({}):null}).then(function(){return r}).catch(function(e){throw t.error("Error in campaigns.js: "+e),e})}}},{"lib/cti.helpers/CTZ_DDUSessionRecorder":"lib/cti.helpers/CTZ_DDUSessionRecorder.js"}]},{},["lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js"])("lib/cti.sdk/plugins/cti1/campaigns.js~.normalized.js")});
/*</PLUGIN>*/
window.___CTZ_PLUGIN_BOUNDARY && window.___CTZ_PLUGIN_BOUNDARY('/live_preview/plugins/cti1/campaigns');
var exports = window.module && window.module.exports || module.exports;
if (typeof origWindowModule !== "undefined") { window.module = origWindowModule; } else { window.module = undefined; }
if (typeof origModule !== "undefined") { module = origModule; } else { module = undefined; }
_CTI_PLUGIN_IMPL["live_preview/plugins/cti1/campaigns"] = exports;
return exports;
})()),
    "#cti1": "{$__adslot-0b850c6b-856f-462c-8223-8a9faf69d0e4_mobile_lightbox-config/#cti1}",
    "search": "{$watcher/#cti1/search}"
}}})},{}]},{},["cs"])}();})());